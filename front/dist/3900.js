"use strict";(self.webpackChunkbrojoon=self.webpackChunkbrojoon||[]).push([[3900],{1377:function(e,t,n){n.d(t,{Z:function(){return x}});var a,r,l,o=n(7294),i=n(2642),c=n(6867),s=n(594),u=n(9572),d=n(4524);function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var p=d.Z.div(a||(a=m(["\n\tcolor: white;\n\tposition: fixed;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tz-index: 6000;\n\tbackground-color: rgba(30, 30, 030, 0.5);\n\n"]))),f=d.Z.div(r||(r=m(["\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\twidth: 400px;\n\tbackground-color: #1e1e1e;\n\tcolor: #979797;\n\topacity: 1;\n\tborder: 1px solid #1e1e1e;\n\tborder-radius: 4px;\n\tz-index: 7000;\n\ttransform: translate(-50%, -50%);\n\tbox-shadow:\n\t\t0 3px 1px -2px rgb(0 0 0 / 20%), 0 2px 2px 0 rgb(0 0 0 / 14%), 0 1px 5px 0 rgb(0 0 0 / 12%);\n\n\t& .container {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tbackground-color: #fec107;\n\t}\n\n\t& .header {\n\t\tmargin: 1px 10px 0 8px;\n\t\tfont-size: 20px;\n\t\tcolor: white;\n\t\tdisplay: flex;\n\t}\n\n\t& .header-content {\n\t\tmargin: 0 0 0 4px;\n\t\tline-height: 22px;\n\t}\n\n\t& .header .emoji {\n\t\tcolor: white;\n\t}\n\n\t& .content {\n\t\tmargin: 10px;\n\t}\n"]))),b=d.Z.div(l||(l=m(["\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tmargin-top: 15px;\n\tfont-weight: 600;\n\n\t& .noBtn {\n\t\tcolor: #979797;\n\t}\n"]))),x=function(e){var t=e.content,n=e.NoBtn,a=e.YesBtn,r=e.headerContent;return o.createElement(o.Fragment,null,o.createElement(p,{onClick:n}),o.createElement(f,null,o.createElement("div",{className:"container"},o.createElement("div",{className:"header"},o.createElement(u.Z,{className:"emoji"}),o.createElement("div",{className:"header-content"},r)),o.createElement("div",null,o.createElement(c.Z,{className:"emoji",onClick:n},o.createElement(s.Z,null)))),o.createElement("div",{className:"content"},t),o.createElement(b,null,o.createElement(i.Z,{className:"noBtn",onClick:n,variant:"text"},"NO"),o.createElement(i.Z,{onClick:a,variant:"text"},"YES"))))}},3900:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var a,r,l=n(7294),o=n(2503),i=n(3564),c=n(1508),s=n(2640),u=n(5670),d=n(6568),m=n(7109),p=n(6224),f=n(2440),b=n(576),x=n(9334),h=n(1298),v=n(1377),g=n(9669),Z=n.n(g),E=n(2642),y=n(6867),w=n(594),I=n(9572),C=n(4524);function k(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O,P,N,A,B,j,L=C.Z.div(a||(a=k(["\n\tcolor: white;\n\tposition: fixed;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tz-index: 6000;\n\tbackground-color: rgba(30, 30, 030, 0.5);\n\n"]))),S=C.Z.div(r||(r=k(["\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\twidth: 400px;\n\tbackground-color: #1e1e1e;\n\tcolor: #979797;\n\topacity: 1;\n\tborder: 1px solid #1e1e1e;\n\tborder-radius: 4px;\n\tz-index: 7000;\n\ttransform: translate(-50%, -50%);\n\tbox-shadow:\n\t\t0 3px 1px -2px rgb(0 0 0 / 20%), 0 2px 2px 0 rgb(0 0 0 / 14%), 0 1px 5px 0 rgb(0 0 0 / 12%);\n\n\t& .wrapper {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tbackground-color: #fec107;\n\t}\n\n\t& .header {\n\t\tmargin: 1px 10px 0 8px;\n\t\tfont-size: 20px;\n\t\tcolor: white;\n\t\tdisplay: flex;\n\t}\n\n\t& .error-icon {\n\t\tcolor: white;\n\t}\n\n\t& .header-content {\n\t\tmargin: 0 0 0 4px;\n\t\tline-height: 22px;\n\t}\n\n\t& .close-icon {\n\t\tcolor: white;\n\t}\n\n\t& .body {\n\t\tmargin: 10px;\n\t}\n\n\t& .button-wrapper {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tmargin-top: 15px;\n\t\tfont-weight: 600;\n\t}\n\n\t& .moderate-btn {\n\t\tfont-weight: 600\n\t}\n\n\t& .ban-btn {\n\t\tfont-weight: 600;\n\t\tcolor: red;\n\t}\n"]))),T=function(e){var t=e.content,n=e.NoBtn,a=e.ModerateBtn,r=e.BanBtn,o=e.headerContent;return l.createElement(l.Fragment,null,l.createElement(L,{onClick:n}),l.createElement(S,null,l.createElement("div",{className:"wrapper"},l.createElement("div",{className:"header"},l.createElement(I.Z,{className:"error-icon"}),l.createElement("div",{className:"header-content"},o)),l.createElement("div",null,l.createElement(y.Z,{className:"close-icon",onClick:n},l.createElement(w.Z,null)))),l.createElement("div",{className:"body"},t),l.createElement("div",{className:"button-wrapper"},l.createElement(E.Z,{className:"moderate-btn",onClick:a,variant:"text"},"Moderator"),l.createElement(E.Z,{className:"ban-btn",onClick:r,variant:"text"},"Ban"))))},z=n(2658),D=n(3727),G=n(175),H=n(6103),F=n(3284),M=n(2132),R=(0,C.Z)(m.Z)(O||(P=["\n\tborder: ",";\n\n"],N||(N=P.slice(0)),O=Object.freeze(Object.defineProperties(P,{raw:{value:Object.freeze(N)}}))),(function(e){return e.isstate})),Y=function(){var e,t=(0,o.ZP)("/api/users/listAdmin",i.Z),n=t.data,a=(t.mutate,(0,l.useContext)(H.J)),r=a.onlineList,c=a.onGameList;return l.createElement(h.ZP,null,l.createElement(f.Z,{sx:{width:"100%"},component:"nav","aria-label":"mailbox folders"},n&&(null==n?void 0:n.map((function(t){return e=0,c&&c[t.userId]&&(e=2),0===e&&(null==r||r.map((function(n){n.userId===t.userId&&(e=1)}))),l.createElement(b.ZP,{button:!0,key:t.userId},l.createElement(R,{isstate:"".concat(e?1===e?"2px solid #1ed14b":"2px solid #FFD400":"2px solid #d63638"),src:t.profile,alt:"Avatar"}),l.createElement(x.Z,{primary:t.userId,style:{marginLeft:"12px"}}))})))))};function _(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var J=C.Z.div(A||(A=_(["\n\tbackground-color: white;\n\theight: 100%;\n\n\t& .admin-page-header {\n\t\tbackground-color: #d3d3d3;\n\t\theight: 70px;\n\t\tfont-weight: 700;\n\t\tfont-size: 30px;\n\t\tline-height: 65px;\n\t\tbox-shadow:\n\t\t\trgb(0 0 0 / 20%) 0px 2px 4px -1px, rgb(0 0 0 / 14%) 0px 4px 5px 0px, rgb(0 0 0 / 12%) 0px 1px 10px 0px;\n\t}\n\n\t& .header-span {\n\t\tmargin-left: 50px;\n\t}\n"]))),U=(0,C.Z)(c.Z)(B||(B=_(["\n\twidth: 100%;\n\theight: calc(100% - 180px);\n\tmargin-top: 10px;\n\n\t& .tab-panel-2-list {\n\t\twidth: 100%;\n\t}\n\n\t& .tab-panel-2-text {\n\t\tmargin-left: 12px;\n\t}\n\n\t& .tab-panel-3-list {\n\t\twidth: 100%;\n\t}\n\n\t& .tab-panel-3-avatar {\n\t\tborder: 2px solid red;\n\t}\n\n\t& .tab-panel-3-text {\n\t\tmargin-left: 12px;\n\t}\n\n\t& .tab-panel-4-list {\n\t\twidth: 100%;\n\t}\n\n\t& .tab-panel-4-list-item {\n\t\tfont-size: 16px;\n\t\tmargin-top: 11px;\n\t\tcolor: gray;\n\t}\n\n\t& .tab-panel-4-avatar {\n\t\tborder: 2px solid red;\n\t\twidth: 38px;\n\t\theight: 38px;\n\t}\n\n\t& .tab-pannel-4-text {\n\t\tmargin-left: 12px;\n\t}\n\n\t& .mute-icon {\n\t\tcolor: red;\n\t}\n\n\t& .delete-channel-wrapper {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tmargin-top: 20px;\n\t}\n\n\t& .delete-btn {\n\t\tbackground-color: red;\n\t\tfont-weight: 600;\n\t}\n\n\t& .tab-panel-5-list {\n\t\twidth: 100%;\n\t}\n\n\t& .tab-panel-5-avatar {\n\t\tborder: 2px solid red;\n\t}\n\n\t& .tab-panel-5-text {\n\t\tmargin-left: 12px;\n\t}\n\n\n\n"]))),$=(0,C.Z)(m.Z)(j||(j=_(["\n\tborder: ",";\n"])),(function(e){return e.isstate}));function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Q=function(){var e,t=(0,o.ZP)("/api/users/alluser",i.Z),n=t.data,a=t.mutate,r=(0,o.ZP)("/api/users/listAdmin",i.Z),g=r.data,E=(r.mutate,(0,o.ZP)("/api/users/listBan",i.Z)),y=E.data,w=E.mutate,I=(0,o.ZP)("/api/users/listModerator",i.Z),C=I.data,k=I.mutate,O=(0,o.ZP)("/api/channels/ownerApi/siteOwnerChannelList",i.Z),P=O.data,N=(O.mutate,(0,o.ZP)("/api/dms/dmlistOnlyIdJustArray",i.Z).data),A=(0,o.ZP)("/api/channels/myChannelListOnlyId",i.Z).data,B=(0,l.useContext)(H.J),j=B.onlineList,L=B.setOnlineList,S=B.onGameList,R=B.setOnGameList,_=(0,o.ZP)("/api/users",i.Z).data,K=q((0,l.useState)("1"),2),Q=K[0],V=K[1],W=q((0,l.useState)(!1),2),X=W[0],ee=W[1],te=q((0,l.useState)(!1),2),ne=te[0],ae=te[1],re=q((0,l.useState)(""),2),le=re[0],oe=re[1],ie=q((0,l.useState)(""),2),ce=ie[0],se=ie[1],ue=q((0,l.useState)(!1),2),de=ue[0],me=ue[1],pe=q((0,l.useState)(""),2),fe=pe[0],be=pe[1],xe=(0,F.Z)();(0,l.useEffect)((function(){N&&A&&_&&xe.emit("login",{userId:_.userId,username:_.username,Dms:N,channels:A})}),[xe,N,A,_]),(0,l.useEffect)((function(){return null==xe||xe.on("onGameList",(function(e){R(e)})),function(){xe.off("onGameList")}}),[xe]),(0,l.useEffect)((function(){return null==xe||xe.on("onlineList",(function(e){L(e)})),function(){xe.off("onlineList")}}),[xe]);var he=(0,l.useCallback)((function(e,t){be(t),me(!0)}),[de,fe]),ve=(0,l.useCallback)((function(e){e.preventDefault(),me(!1)}),[X]),ge=(0,l.useCallback)((function(e,t){var n=!1;null==g||g.map((function(e){e.userId===(null==_?void 0:_.userId)&&(n=!0)})),n&&(oe(t),ee(!0))}),[le,g,_]),Ze=(0,l.useCallback)((function(e){e.preventDefault(),ee(!1)}),[X]),Ee=(0,l.useCallback)((function(e,t){se(t),ae(!0)}),[le]),ye=(0,l.useCallback)((function(e){e.preventDefault(),ae(!1)}),[ne]),we=(0,l.useCallback)((function(e,t){V(t)}),[]),Ie=(0,l.useCallback)((function(e){e.preventDefault();var t=!1;null==g||g.map((function(e){e.userId===(null==_?void 0:_.userId)&&(t=!0)})),t&&fe&&Z().get("/api/users/addModerator/".concat(fe),G.Z).then((function(){k(),a(),me(!1),be("")})).catch((function(e){M.Am.error(e.message,{autoClose:4e3,position:M.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[fe,g,_]),Ce=(0,l.useCallback)((function(e){e.preventDefault(),le&&Z().get("/api/users/removeModerator/".concat(le),G.Z).then((function(){k(),a(),ee(!1),oe("")})).catch((function(e){M.Am.error(e.message,{autoClose:4e3,position:M.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[le]),ke=(0,l.useCallback)((function(e){e.preventDefault(),fe&&Z().get("/api/users/addBan/".concat(fe),G.Z).then((function(){w(),a(),me(!1),be("")})).catch((function(e){M.Am.error(e.message,{autoClose:4e3,position:M.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[fe]),Oe=(0,l.useCallback)((function(e){e.preventDefault(),ce&&Z().get("/api/users/removeBan/".concat(ce),G.Z).then((function(){w(),a(),ae(!1),se("")})).catch((function(e){M.Am.error(e.message,{autoClose:4e3,position:M.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[ce]);return g?l.createElement(J,null,X&&l.createElement(v.Z,{headerContent:"Remove from moderator list",content:"Are you sure you want to remove this user from the moderator list?",NoBtn:Ze,YesBtn:Ce}),ne&&l.createElement(v.Z,{headerContent:"Remove from ban list",content:"Are you sure you want to remove this user from the ban list?",NoBtn:ye,YesBtn:Oe}),de&&l.createElement(T,{headerContent:"Assign user privilege",content:"You can add you to the list of moderator or ban",NoBtn:ve,ModerateBtn:Ie,BanBtn:ke}),l.createElement("div",{className:"admin-page-header"},l.createElement("span",{className:"header-span"},"Administrator")),l.createElement(U,{sx:{typography:"body1"}},l.createElement(u.ZP,{value:Q},l.createElement(c.Z,{sx:{borderBottom:1,borderColor:"divider"}},l.createElement(d.Z,{onChange:we,"aria-label":"lab API tabs example"},l.createElement(s.Z,{label:"AdminList",value:"1"}),l.createElement(s.Z,{label:"ModeratorList",value:"2"}),l.createElement(s.Z,{label:"UserList",value:"3"}),l.createElement(s.Z,{label:"ChannelList",value:"4"}),l.createElement(s.Z,{label:"BanList",value:"5"}))),l.createElement(p.Z,{value:"1"},l.createElement(Y,null)),l.createElement(p.Z,{value:"2"},l.createElement(h.ZP,null,l.createElement(f.Z,{className:"tab-panel-2-list",component:"nav","aria-label":"mailbox folders"},null==C?void 0:C.map((function(t){return e=0,S&&S[t.userId]&&(e=2),0===e&&(null==j||j.map((function(n){n.userId===t.userId&&(e=1)}))),l.createElement(b.ZP,{button:!0,onClick:function(e){ge(e,t.userId)},key:t.userId},l.createElement($,{isstate:"".concat(e?1===e?"2px solid #1ed14b":"2px solid #FFD400":"2px solid #d63638"),src:t.profile,alt:"Avatar"}),l.createElement(x.Z,{className:"tab-panel-2-text",primary:t.userId}))}))))),l.createElement(p.Z,{value:"3"},l.createElement(h.ZP,null,l.createElement(f.Z,{className:"tab-panel-3-list",component:"nav","aria-label":"mailbox folders"},null==n?void 0:n.map((function(t){var n=!0;if(null==y||y.map((function(e){e.userId===t.userId&&(n=!1)})),null==g||g.map((function(e){e.userId===t.userId&&(n=!1)})),null==C||C.map((function(e){e.userId===t.userId&&(n=!1)})),n)return e=0,S&&S[t.userId]&&(e=2),0===e&&(null==j||j.map((function(n){n.userId===t.userId&&(e=1)}))),l.createElement(b.ZP,{button:!0,onClick:function(e){he(e,t.userId)},key:t.userId},l.createElement($,{isstate:"".concat(e?1===e?"2px solid #1ed14b":"2px solid #FFD400":"2px solid #d63638"),src:t.profile,alt:"Avatar"}),l.createElement(x.Z,{className:"tab-panel-3-text",primary:t.userId}))}))))),l.createElement(p.Z,{value:"4"},l.createElement(h.ZP,null,l.createElement(f.Z,{className:"tab-panel-4-list",component:"nav","aria-label":"mailbox folders"},null==P?void 0:P.map((function(e){return l.createElement(D.rU,{to:"/admin/".concat(e.id),key:e.id},l.createElement(b.ZP,{button:!0},l.createElement(z.Z,null,e.name)))}))))),l.createElement(p.Z,{value:"5"},l.createElement(h.ZP,null,l.createElement(f.Z,{className:"tab-panel-5-list",component:"nav","aria-label":"mailbox folders"},null==y?void 0:y.map((function(e){return l.createElement(b.ZP,{button:!0,onClick:function(t){Ee(t,e.userId)},key:e.userId},l.createElement(m.Z,{src:e.profile,alt:"Avatar"}),l.createElement(x.Z,{className:"tab-panel-5-text",primary:e.userId}))})))))))):null}},175:function(e,t){t.Z={withCredentials:!0}},3564:function(e,t,n){var a=n(9669),r=n.n(a),l=n(2132);t.Z=function(e){return r().get(e,{withCredentials:!0}).then((function(e){return e.data})).catch((function(e){return l.Am.error(e.message,{autoClose:4e3,position:l.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"}),401===e.response.data.code||"ban 유저"===e.response.data.data.message?setTimeout((function(){window.location.href="/login"}),4e3):setTimeout((function(){window.location.href="/home"}),4e3),!1}))}},3284:function(e,t,n){var a=n(4140),r=void 0;t.Z=function(){return r||(r=a.ZP.connect("https://42transcendence.ml")),r}}}]);