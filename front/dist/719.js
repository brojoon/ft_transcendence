"use strict";(self.webpackChunkbrojoon=self.webpackChunkbrojoon||[]).push([[719],{1377:function(e,t,n){n.d(t,{Z:function(){return x}});var a,r,o,l=n(7294),i=n(2642),c=n(6867),s=n(594),u=n(9572),d=n(4524);function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m=d.Z.div(a||(a=p(["\n\tcolor: white;\n\tposition: fixed;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tz-index: 6000;\n\tbackground-color: rgba(30, 30, 030, 0.5);\n\n"]))),f=d.Z.div(r||(r=p(["\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\twidth: 400px;\n\tbackground-color: #1e1e1e;\n\tcolor: #979797;\n\topacity: 1;\n\tborder: 1px solid #1e1e1e;\n\tborder-radius: 4px;\n\tz-index: 7000;\n\ttransform: translate(-50%, -50%);\n\tbox-shadow:\n\t\t0 3px 1px -2px rgb(0 0 0 / 20%), 0 2px 2px 0 rgb(0 0 0 / 14%), 0 1px 5px 0 rgb(0 0 0 / 12%);\n\n\t& .container {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tbackground-color: #fec107;\n\t}\n\n\t& .header {\n\t\tmargin: 1px 10px 0 8px;\n\t\tfont-size: 20px;\n\t\tcolor: white;\n\t\tdisplay: flex;\n\t}\n\n\t& .header-content {\n\t\tmargin: 0 0 0 4px;\n\t\tline-height: 22px;\n\t}\n\n\t& .header .emoji {\n\t\tcolor: white;\n\t}\n\n\t& .content {\n\t\tmargin: 10px;\n\t}\n"]))),h=d.Z.div(o||(o=p(["\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tmargin-top: 15px;\n\tfont-weight: 600;\n\n\t& .noBtn {\n\t\tcolor: #979797;\n\t}\n"]))),x=function(e){var t=e.content,n=e.NoBtn,a=e.YesBtn,r=e.headerContent;return l.createElement(l.Fragment,null,l.createElement(m,{onClick:n}),l.createElement(f,null,l.createElement("div",{className:"container"},l.createElement("div",{className:"header"},l.createElement(u.Z,{className:"emoji"}),l.createElement("div",{className:"header-content"},r)),l.createElement("div",null,l.createElement(c.Z,{className:"emoji",onClick:n},l.createElement(s.Z,null)))),l.createElement("div",{className:"content"},t),l.createElement(h,null,l.createElement(i.Z,{className:"noBtn",onClick:n,variant:"text"},"NO"),l.createElement(i.Z,{onClick:a,variant:"text"},"YES"))))}},4719:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var a,r,o=n(7294),l=n(2503),i=n(3564),c=n(2440),s=n(576),u=n(9334),d=n(1298),p=n(1377),m=n(9669),f=n.n(m),h=n(2658),x=n(4593),b=n(5868),g=n(5977),v=n(2642),E=n(1733),Z=n(175),I=n(6103),w=n(4524),O=n(7109);function C(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var k,y,P,N=w.Z.div(a||(a=C(["\n\tbackground-color: white;\n\theight: 100%;\n\n\t& .admin-page-header {\n\t\tbackground-color: #d3d3d3;\n\t\theight: 70px;\n\t\tfont-weight: 700;\n\t\tfont-size: 30px;\n\t\tline-height: 65px;\n\t\tbox-shadow:\n\t\t\trgb(0 0 0 / 20%) 0px 2px 4px -1px, rgb(0 0 0 / 14%) 0px 4px 5px 0px, rgb(0 0 0 / 12%) 0px 1px 10px 0px;\n\t}\n\n\t& .header-span {\n\t\tmargin-left: 50px;\n\t}\n\n\t& .tab-panel-4-list {\n\t\twidth: 100%;\n\n\t}\n\n\t& .tab-panel-4-list-item {\n\t\tfont-size: 16px;\n\t\tmargin-top: 11px;\n\t\tcolor: gray;\n\t}\n\n\t& .tab-panel-4-avatar {\n\t\tborder: 2px solid red;\n\t\twidth: 38px;\n\t\theight: 38px;\n\t}\n\n\t& .tab-pannel-4-text {\n\t\tmargin-left: 12px;\n\t}\n\n\t& .mute-icon {\n\t\tcolor: red;\n\t}\n\n\t& .delete-channel-wrapper {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tmargin-top: 20px;\n\t}\n\n\t& .delete-btn {\n\t\tbackground-color: red;\n\t\tfont-weight: 600;\n\t}\n\n"]))),A=(0,w.Z)(O.Z)(r||(r=C(["\n\tborder: ",";\n"])),(function(e){return e.isstate})),T=n(3284),j=n(3727);function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var B=w.Z.div(k||(k=S(["\n\tfont-size: 20px;\n\twidth: 300px;\n\theight: 230px;\n\tfont-weight: 600;\n\tbackground-color: #1e1e1e;\n\tcolor: white;\n\tposition: fixed;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\tz-index: 9999;\n\tbox-shadow:\n\t\t0 3px 1px -2px rgb(0 0 0 / 20%), 0 2px 2px 0 rgb(0 0 0 / 14%), 0 1px 5px 0 rgb(0 0 0 / 12%);\n\n\t& .header {\n\t\tborder-bottom: 1px solid #3a3a3a;\n\t}\n\n\t& .header-wrapper {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin: 17px 15px 20px 20px;\n\t}\n\n\n\t& .avatar {\n\t\twidth: 50px;\n\t\theight: 50px;\n\t\t\n\t}\n\n\t& .user-text {\n\t\tmargin-left: 14px;\n\t}\n\n\t& .game-history-container {\n\t\tborder-bottom: 1px solid #3a3a3a;\n\t}\n\n\t& .game-history-container > .game-history-wrapper {\n\t\tmargin: 17px 15px 20px 20px;\n\t\tdisplay: flex;\n\t}\n\n\t& .game-history-container .emoji {\n\t\tfont-size: 40px;\n\t}\n\n\t& .history-text {\n\t\tmargin-left: 15px;\n\t\tline-height: 40px;\n\t}\n\n\n\n\n"]))),H=(0,w.Z)(v.Z)(y||(y=S(["\n\tcolor: ","; \n\tfont-weight: 600;\n\tmargin: 0 0 0 40px;\n"])),(function(e){return e.btncolor})),z=w.Z.div(P||(P=S(["\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .group-wrapper {\n\t\tborder-bottom: 1px solid #3a3a3a;\n\t}\n\n\t& .profile-btn {\n\t\tcolor: #979797;\n\t\tfont-weight: 600;\n\t\tmargin: 17px 15px 20px 20px;\n\t}\n\t\n\t& .feat-button {\n\t\tcolor: #d50000;\n\t\tfont-weight: 600;\n\t\tmargin: 17px 15px 20px 20px;\n\t}\n"]))),D=n(2132),L=function(e){var t=e.user,n=e.setSelectedIndex,a=(0,g.UO)().id,r=(0,l.ZP)("/api/users",i.Z).data,c=(0,l.ZP)("/api/channels/userList/".concat(a),i.Z),s=c.data,u=c.mutate,d=-1,p=-1;null==s||s.map((function(e){e.userId===t.userId?p=e.auth:e.userId===(null==r?void 0:r.userId)&&(d=e.auth)}));var m=(0,o.useCallback)((function(e){e.preventDefault(),f().get("/api/channels/ownerApi/siteOwnerChannelUserMuteSwitch/".concat(a,"/").concat(t.userId,"/20"),Z.Z).then((function(e){n(-1),u()})).catch((function(e){D.Am.error(e.message,{autoClose:4e3,position:D.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[]),h=(0,o.useCallback)((function(e){e.preventDefault(),f().get("/api/channels/ownerApi/siteOwnerChannelUserKick/".concat(a,"/").concat(t.userId),Z.Z).then((function(e){n(-1),u()})).catch((function(e){D.Am.error(e.message,{autoClose:4e3,position:D.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[]),x=(0,o.useCallback)((function(e){e.preventDefault(),f().get("/api/channels/ownerApi/siteOwnerChannelUserBan/".concat(a,"/").concat(t.userId),Z.Z).then((function(e){n(-1),u()})).catch((function(e){D.Am.error(e.message,{autoClose:4e3,position:D.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[]),b=(0,o.useCallback)((function(e){e.preventDefault(),0===p?f().get("/api/channels/ownerApi/siteOwnerChannelUserAdmin/".concat(a,"/").concat(t.userId),Z.Z).then((function(){n(-1),u()})).catch((function(e){D.Am.error(e.message,{autoClose:4e3,position:D.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})})):1===p&&f().get("/api/channels/ownerApi/siteOwnerChannelUserAdminRemove/".concat(a,"/").concat(t.userId),Z.Z).then((function(){n(-1),u()})).catch((function(e){D.Am.error(e.message,{autoClose:4e3,position:D.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[d,p]);return o.createElement(B,null,o.createElement("div",{className:"header"},o.createElement("div",{className:"header-wrapper"},o.createElement(O.Z,{className:"avatar",src:t.profile,alt:"Avatar"}),o.createElement("div",{className:"user-text"},t.userId),2!==p&&o.createElement(H,{onClick:b,btncolor:"".concat(1===p?"#f33c36":"#002BC"),variant:"text"},"admin"))),o.createElement(z,null,o.createElement("div",{className:"group-wrapper"},o.createElement(j.rU,{to:"/users/".concat(t.userId)},o.createElement(v.Z,{className:"profile-btn",variant:"text"},"profile"))),0===p&&o.createElement("div",null,o.createElement(v.Z,{onClick:m,className:"feat-button",variant:"text"},"mute"),o.createElement(v.Z,{onClick:h,className:"feat-button",variant:"text"},"kick"),o.createElement(v.Z,{onClick:x,className:"feat-button",variant:"text"},"ban"))))};function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(e){i=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var R=function(){var e,t=(0,g.UO)().id,n=(0,l.ZP)("/api/users",i.Z).data,a=(0,l.ZP)("/api/channels/userList/".concat(void 0===t?-1:t),i.Z).data,r=(0,l.ZP)("/api/users/listAdmin",i.Z),m=r.data,w=(r.mutate,(0,l.ZP)("/api/users/alluser",i.Z)),O=w.data,C=(w.mutate,(0,l.ZP)("/api/channels/ownerApi/siteOwnerChannelList",i.Z)),k=(C.data,C.mutate),y=(0,l.ZP)("/api/dms/dmlistOnlyIdJustArray",i.Z).data,P=(0,l.ZP)("/api/channels/myChannelListOnlyId",i.Z).data,j=(0,o.useContext)(I.J),S=j.onlineList,B=j.setOnlineList,H=j.onGameList,z=j.setOnGameList,U=G((0,o.useState)(!1),2),R=U[0],F=U[1],_=G((0,o.useState)(-1),2),Y=_[0],J=_[1],M=(0,g.k6)(),K=(0,o.useCallback)((function(e){e.preventDefault(),f().get("/api/channels/ownerApi/siteOwnerChannelDelete/".concat(t),Z.Z).then((function(){k().then((function(){M.push("/admin")}))})).catch((function(e){D.Am.error(e.message,{autoClose:4e3,position:D.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[t]),$=(0,o.useCallback)((function(e){e.preventDefault(),F((function(e){return!e}))}),[R]),q=(0,o.useCallback)((function(e,t){e.preventDefault(),Y===t?J(-1):(console.log(t),J(t))}),[Y]),Q=(0,T.Z)();return(0,o.useEffect)((function(){y&&P&&n&&Q.emit("login",{userId:n.userId,username:n.username,Dms:y,channels:P})}),[Q,y,P,n]),(0,o.useEffect)((function(){return null==Q||Q.on("onGameList",(function(e){z(e)})),function(){Q.off("onGameList")}}),[Q]),(0,o.useEffect)((function(){return null==Q||Q.on("onlineList",(function(e){B(e)})),function(){Q.off("onlineList")}}),[Q]),m?o.createElement(N,null,R&&o.createElement(p.Z,{NoBtn:$,YesBtn:K,headerContent:"Delete Channel",content:"This will remove the channel as well as all of its messages"}),o.createElement(d.ZP,null,o.createElement("div",{className:"admin-page-header"},o.createElement("span",{className:"header-span"},"Administrator")),o.createElement(c.Z,{className:"tab-panel-4-list",component:"nav","aria-label":"mailbox folders"},o.createElement(h.Z,{component:"span"},o.createElement("div",null,o.createElement(s.ZP,{className:"tab-panel-4-list-item"},"Owner"),a&&(null==a?void 0:a.map((function(t){if(2===t.auth)return null==O?void 0:O.map((function(n,a){if(n.userId==t.userId)return e=0,H&&H[n.userId]&&(e=2),0===e&&(null==S||S.map((function(t){t.userId===n.userId&&(e=1)}))),o.createElement("div",{key:n.userId},Y===a&&o.createElement(L,{user:n,setSelectedIndex:J}),o.createElement(s.ZP,{button:!0,onClick:function(e){return q(e,a)}},o.createElement(A,{isstate:"".concat(e?1===e?"2px solid #1ed14b":"2px solid #FFD400":"2px solid #d63638"),src:n.profile,alt:"Avatar"}),o.createElement(u.Z,{className:"tab-pannel-4-text",primary:n.userId}),o.createElement(x.Z,null)))}))}))),o.createElement(s.ZP,{className:"tab-panel-4-list-item"},"Admin"),a&&(null==a?void 0:a.map((function(t){if(1===t.auth)return null==O?void 0:O.map((function(n,a){if(n.userId==t.userId)return e=0,H&&H[n.userId]&&(e=2),0===e&&(null==S||S.map((function(t){t.userId===n.userId&&(e=1)}))),o.createElement("div",{key:n.userId},Y===a&&o.createElement(L,{user:n,setSelectedIndex:J}),o.createElement(s.ZP,{button:!0,onClick:function(e){return q(e,a)}},o.createElement(A,{isstate:"".concat(e?1===e?"2px solid #1ed14b":"2px solid #FFD400":"2px solid #d63638"),src:n.profile,alt:"Avatar"}),o.createElement(u.Z,{className:"tab-pannel-4-text",primary:n.userId}),o.createElement(x.Z,null)))}))}))),o.createElement(s.ZP,{className:"tab-panel-4-list-item"},"Users"),a&&(null==a?void 0:a.map((function(t){if(0===t.auth)return null==O?void 0:O.map((function(n,a){if(n.userId==t.userId)return e=0,H&&H[n.userId]&&(e=2),0===e&&(null==S||S.map((function(t){t.userId===n.userId&&(e=1)}))),o.createElement("div",{key:n.userId},Y===a&&o.createElement(L,{user:n,setSelectedIndex:J}),o.createElement(s.ZP,{button:!0,onClick:function(e){return q(e,a)}},o.createElement(A,{isstate:"".concat(e?1===e?"2px solid #1ed14b":"2px solid #FFD400":"2px solid #d63638"),src:n.profile,alt:"Avatar"}),o.createElement(u.Z,{className:"tab-pannel-4-text",primary:n.userId}),t.mute?o.createElement(b.Z,{className:"mute-icon"}):o.createElement(x.Z,null)))}))})))),o.createElement("div",{className:"delete-channel-wrapper"},o.createElement(v.Z,{className:"delete-btn",variant:"contained",startIcon:o.createElement(E.Z,null),onClick:$},"DELETE CHANNEL")))))):null}},175:function(e,t){t.Z={withCredentials:!0}},3564:function(e,t,n){var a=n(9669),r=n.n(a),o=n(2132);t.Z=function(e){return r().get(e,{withCredentials:!0}).then((function(e){return e.data})).catch((function(e){return o.Am.error(e.message,{autoClose:4e3,position:o.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"}),401===e.response.data.code||"ban 유저"===e.response.data.data.message?setTimeout((function(){window.location.href="/login"}),4e3):setTimeout((function(){window.location.href="/home"}),4e3),!1}))}},3284:function(e,t,n){var a=n(4140),r=void 0;t.Z=function(){return r||(r=a.ZP.connect("http://13.209.169.93:8081")),r}}}]);