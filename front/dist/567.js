"use strict";(self.webpackChunkbrojoon=self.webpackChunkbrojoon||[]).push([[567],{9062:function(e,r,t){t.d(r,{Z:function(){return P}});var n=t(3366),o=t(7462),i=t(7294),a=(t(5697),t(6010)),s=t(7463),c=t(917),l=t(8216),u=t(6122),d=t(9602),m=t(1420);function h(e){return(0,m.Z)("MuiCircularProgress",e)}(0,t(1271).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var f=t(5893);const v=["className","color","disableShrink","size","style","thickness","value","variant"];let p,g,k,w,y=e=>e;const x=(0,c.F4)(p||(p=y`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Z=(0,c.F4)(g||(g=y`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),b=(0,d.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`color${(0,l.Z)(t.color)}`]]}})((({ownerState:e,theme:r})=>(0,o.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:r.transitions.create("transform")},"inherit"!==e.color&&{color:r.palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,c.iv)(k||(k=y`
      animation: ${0} 1.4s linear infinite;
    `),x))),I=(0,d.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),S=(0,d.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r[`circle${(0,l.Z)(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})((({ownerState:e,theme:r})=>(0,o.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,c.iv)(w||(w=y`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Z)));var P=i.forwardRef((function(e,r){const t=(0,u.Z)({props:e,name:"MuiCircularProgress"}),{className:i,color:c="primary",disableShrink:d=!1,size:m=40,style:p,thickness:g=3.6,value:k=0,variant:w="indeterminate"}=t,y=(0,n.Z)(t,v),x=(0,o.Z)({},t,{color:c,disableShrink:d,size:m,thickness:g,value:k,variant:w}),Z=(e=>{const{classes:r,variant:t,color:n,disableShrink:o}=e,i={root:["root",t,`color${(0,l.Z)(n)}`],svg:["svg"],circle:["circle",`circle${(0,l.Z)(t)}`,o&&"circleDisableShrink"]};return(0,s.Z)(i,h,r)})(x),P={},C={},O={};if("determinate"===w){const e=2*Math.PI*((44-g)/2);P.strokeDasharray=e.toFixed(3),O["aria-valuenow"]=Math.round(k),P.strokeDashoffset=`${((100-k)/100*e).toFixed(3)}px`,C.transform="rotate(-90deg)"}return(0,f.jsx)(b,(0,o.Z)({className:(0,a.Z)(Z.root,i),style:(0,o.Z)({width:m,height:m},C,p),ownerState:x,ref:r,role:"progressbar"},O,y,{children:(0,f.jsx)(I,{className:Z.svg,ownerState:x,viewBox:"22 22 44 44",children:(0,f.jsx)(S,{className:Z.circle,style:P,ownerState:x,cx:44,cy:44,r:(44-g)/2,fill:"none",strokeWidth:g})})}))}))},4567:function(e,r,t){t.r(r),t.d(r,{default:function(){return y}});var n,o,i,a=t(7294),s=t(9669),c=t.n(s),l=t(3284),u=t(5977),d=t(9062),m=t(3564),h=t(2503),f=t(4524).Z.div(n||(o=["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\tflex-direction: column;\n\theight: 100vh;\n\n\tcolor: white;\n\n\t& .progress {\n\t\tcolor: white;\n\t}\n\n\t& > h1 {\n\t\tfont-size: ","; \n\t}\n"],i||(i=o.slice(0)),n=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(i)}}))),(function(e){return e.ismobile?"1.3em":"2em"})),v=t(2132),p=t(6103),g=t(1852);function k(e,r,t,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,o)}var w={withCredentials:!0},y=function(){var e=(0,h.ZP)("/api/users",m.Z).data,r=(0,a.useContext)(p.J).onGameList,t=(0,g.useMediaQuery)({maxWidth:500}),n=(0,u.k6)(),o=(0,l.Z)(),i=setTimeout((function(){n.push("/home")}),5e4);(0,a.useEffect)((function(){r&&e&&r[e.userId]&&(n.push("/home"),v.Am.error("Already playing game",{autoClose:2e3,position:v.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"}))}),[r,e]),(0,a.useEffect)((function(){return e&&o.emit("matching",{userId:null==e?void 0:e.userId,gameId:0}),function(){e&&o.emit("outMatching",{userId:null==e?void 0:e.userId}),clearTimeout(i)}}),[e,o,i]);var s=(0,a.useCallback)(function(){var r,t=(r=regeneratorRuntime.mark((function r(t){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c().post("/api/dms/sendMessage/".concat(t.playerTwo,"/1/0"),{message:""},w).then((function(r){o.emit("matching",{userId:null==e?void 0:e.userId,gameId:r.data}),n.push("/game/ping-pong/".concat(r.data))})).catch((function(e){v.Am.error(e.message,{autoClose:3e3,position:v.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"}),setTimeout((function(){n.push("/home")}),3e3)}));case 2:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){k(i,n,o,a,s,"next",e)}function s(e){k(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[e,o]);return(0,a.useEffect)((function(){return o.on("matched",(function(r){(null==e?void 0:e.userId)===r.playerOne&&0===r.gameId?s(r):(null==e?void 0:e.userId)===r.playerTwo&&0!==r.gameId&&n.push("/game/ping-pong/".concat(r.gameId))})),function(){o.off("matched")}}),[o,e,s]),a.createElement(f,{ismobile:t},a.createElement(d.Z,{className:"progress"}),a.createElement("h1",null,"Waiting for opponent..."))}}}]);