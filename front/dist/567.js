"use strict";(self.webpackChunkbrojoon=self.webpackChunkbrojoon||[]).push([[567],{9062:function(e,r,t){t.d(r,{Z:function(){return b}});var n=t(3366),o=t(7462),a=t(7294),i=(t(5697),t(6010)),s=t(7463),c=t(917),l=t(8216),u=t(6122),d=t(9602),m=t(1420);function h(e){return(0,m.Z)("MuiCircularProgress",e)}(0,t(1271).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var f=t(5893);const v=["className","color","disableShrink","size","style","thickness","value","variant"];let p,g,k,w,y=e=>e;const x=(0,c.F4)(p||(p=y`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Z=(0,c.F4)(g||(g=y`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),I=(0,d.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`color${(0,l.Z)(t.color)}`]]}})((({ownerState:e,theme:r})=>(0,o.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:r.transitions.create("transform")},"inherit"!==e.color&&{color:r.palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,c.iv)(k||(k=y`
      animation: ${0} 1.4s linear infinite;
    `),x))),S=(0,d.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),P=(0,d.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r[`circle${(0,l.Z)(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})((({ownerState:e,theme:r})=>(0,o.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,c.iv)(w||(w=y`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Z)));var b=a.forwardRef((function(e,r){const t=(0,u.Z)({props:e,name:"MuiCircularProgress"}),{className:a,color:c="primary",disableShrink:d=!1,size:m=40,style:p,thickness:g=3.6,value:k=0,variant:w="indeterminate"}=t,y=(0,n.Z)(t,v),x=(0,o.Z)({},t,{color:c,disableShrink:d,size:m,thickness:g,value:k,variant:w}),Z=(e=>{const{classes:r,variant:t,color:n,disableShrink:o}=e,a={root:["root",t,`color${(0,l.Z)(n)}`],svg:["svg"],circle:["circle",`circle${(0,l.Z)(t)}`,o&&"circleDisableShrink"]};return(0,s.Z)(a,h,r)})(x),b={},C={},O={};if("determinate"===w){const e=2*Math.PI*((44-g)/2);b.strokeDasharray=e.toFixed(3),O["aria-valuenow"]=Math.round(k),b.strokeDashoffset=`${((100-k)/100*e).toFixed(3)}px`,C.transform="rotate(-90deg)"}return(0,f.jsx)(I,(0,o.Z)({className:(0,i.Z)(Z.root,a),style:(0,o.Z)({width:m,height:m},C,p),ownerState:x,ref:r,role:"progressbar"},O,y,{children:(0,f.jsx)(S,{className:Z.svg,ownerState:x,viewBox:"22 22 44 44",children:(0,f.jsx)(P,{className:Z.circle,style:b,ownerState:x,cx:44,cy:44,r:(44-g)/2,fill:"none",strokeWidth:g})})}))}))},4567:function(e,r,t){t.r(r),t.d(r,{default:function(){return w}});var n,o,a,i=t(7294),s=t(9669),c=t.n(s),l=t(3284),u=t(5977),d=t(9062),m=t(3564),h=t(2503),f=t(4524).Z.div(n||(o=["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\tflex-direction: column;\n\theight: 100vh;\n\n\tcolor: white;\n\n\t& .progress {\n\t\tcolor: white;\n\t}\n"],a||(a=o.slice(0)),n=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(a)}})))),v=t(2132),p=t(6103);function g(e,r,t,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,o)}var k={withCredentials:!0},w=function(){var e=(0,h.ZP)("/api/users",m.Z).data,r=(0,i.useContext)(p.J).onGameList,t=(0,u.k6)(),n=(0,l.Z)(),o=setTimeout((function(){t.push("/home")}),5e4);(0,i.useEffect)((function(){r&&e&&r[e.userId]&&(t.push("/home"),v.Am.error("Already playing game",{autoClose:2e3,position:v.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"}))}),[r,e]),(0,i.useEffect)((function(){return e&&n.emit("matching",{userId:null==e?void 0:e.userId,gameId:0}),function(){e&&n.emit("outMatching",{userId:null==e?void 0:e.userId}),clearTimeout(o)}}),[e,n,o]);var a=(0,i.useCallback)(function(){var r,o=(r=regeneratorRuntime.mark((function r(o){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c().post("/api/dms/sendMessage/".concat(o.playerTwo,"/1/0"),{message:""},k).then((function(r){n.emit("matching",{userId:null==e?void 0:e.userId,gameId:r.data}),t.push("/game/ping-pong/".concat(r.data))})).catch((function(e){v.Am.error(e.message,{autoClose:3e3,position:v.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"}),setTimeout((function(){t.push("/home")}),3e3)}));case 2:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){g(a,n,o,i,s,"next",e)}function s(e){g(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(e){return o.apply(this,arguments)}}(),[e,n]);return(0,i.useEffect)((function(){return n.on("matched",(function(r){(null==e?void 0:e.userId)===r.playerOne&&0===r.gameId?a(r):(null==e?void 0:e.userId)===r.playerTwo&&0!==r.gameId&&t.push("/game/ping-pong/".concat(r.gameId))})),function(){n.off("matched")}}),[n,e,a]),i.createElement(f,null,i.createElement(d.Z,{className:"progress"}),i.createElement("h1",null,"Waiting for opponent..."))}}}]);