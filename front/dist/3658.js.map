{"version":3,"file":"3658.js","mappings":"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","sources":["webpack://brojoon/./components/ChannelHeader/style.ts","webpack://brojoon/./components/ChannelHeader/index.tsx","webpack://brojoon/./components/ChannelLeftDrawBar/style.ts","webpack://brojoon/./components/ChannelLeftDrawBar/index.tsx","webpack://brojoon/./components/ProtectedRoomModal/style.ts","webpack://brojoon/./components/ProtectedRoomModal/index.tsx","webpack://brojoon/./components/ChannelBody/style.ts","webpack://brojoon/./components/ChannelBody/index.tsx","webpack://brojoon/./pages/ChannelDiscover/style.ts","webpack://brojoon/./pages/ChannelDiscover/index.tsx"],"sourcesContent":["import styled from '@emotion/styled';\r\nimport Box from '@mui/material/Box';\r\n\r\nexport const ChannelHeaderContainer = styled(Box)`\r\n\twidth: 100%;\r\n\r\n\t& .app-bar {\r\n\t\tbackground-color: #272727;\r\n\t}\r\n\r\n\t& .header-text {\r\n\t\tflex-grow: 1;\r\n\t}\r\n`;","import React, { VFC } from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport { ChannelHeaderContainer } from './style';\r\n\r\nimport { useParams } from 'react-router-dom';\r\n\r\ninterface Props {\r\n  content: string;\r\n}\r\n\r\nconst ChannelHeader: VFC<Props> = ({ content }) => {\r\n  const { id } = useParams<{ id: string }>();\r\n\r\n  return (\r\n    <>\r\n      <ChannelHeaderContainer>\r\n        <AppBar className=\"app-bar\" position=\"static\">\r\n          <Toolbar>\r\n            <Typography className=\"header-text\" variant=\"h6\" component=\"div\">\r\n              {content}\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </ChannelHeaderContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChannelHeader;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ChannelLeftDrawBarContainer = styled.div`\r\n\twidth: 280px;\r\n\theight: 100%;\r\n\tpadding: 30px 15px;\r\n\tbackground-color: #353636;\r\n\tborder-right: 1px solid #4f4f4f;\r\n\toverflow: hidden;\r\n\r\n\t& .search-input {\r\n\t\twidth: 100%;\r\n\t\toutline: none;\r\n\t\tresize: none;\r\n\t\tborder-radius: 4px;\r\n\t\tbackground: #bdbdbd;\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: bold;\r\n\t\tfont-family: monospace;\r\n\t\tcolor: black;\r\n\t\tborder: none;\r\n\t\tpadding: 0 15px;\r\n\t\theight: 40px;\r\n\t}\r\n\r\n\r\n\t& .header-wrapper {\r\n\t\tborder-top: 1px solid #4f4f4f;\r\n\t\tborder-bottom: 1px solid #4f4f4f;\r\n\t\tmargin: 10px 0;\r\n\t\tpadding: 14px 0 0;\r\n\t\theight: 80px;\r\n\t}\r\n\r\n\t& .channel-discover-wrapper {\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t& .channel-discover-wrapper:hover {\r\n\t\tbackground-color: rgba(74,75,84,0.7);\r\n\t}\r\n\r\n\t& .fireicon {\r\n\t\tmargin-right: 15px;\r\n\t}\r\n\r\n\t& .channel-discover-btn {\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t& .channel-list-wrapper {\r\n\t\theight: 70%;\r\n\t}\r\n\r\n\t& .channel-list {\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t& .channel-list:hover {\r\n\t\tbackground-color: rgba(74,75,84,0.7);\r\n\t}\r\n\r\n\t& .css-cvhtoe-MuiButtonBase-root-MuiListItemButton-root.Mui-selected {\r\n\t\tbackground-color: #666666 !important;\r\n\t}\r\n\r\n\t& .channel-list-btn {\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t& .channel-list-text {\r\n\t\tcolor: white;\r\n\t\tmargin: 4px 0 4px 18px\r\n\t}\r\n\r\n\r\n\t\r\n\t& .footer {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\theight: 11%;\r\n\t}\r\n\r\n\t& .create-btn {\r\n\t\twidth: 180px;\r\n\t\theight: 35px;\r\n\t\tbackground-color: #597aff;\r\n\t\tborder-color: #597aff;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t\r\n\t& .css-cvhtoe-MuiButtonBase-root-MuiListItemButton-root.Mui-selected {\r\n\t\tbackground-color: #666666;\r\n\t}\r\n`;\r\n\r\nexport const ScrollbarColor = styled.div`\r\n  ...style;\r\n  background-color: #787c7f;\r\n  width: 8px;\r\n  border-radius: 5px;\r\n\r\n\t&:hover {\r\n\t\tbackground-color: white;\r\n\t}\r\n`;","import React, { useCallback, useState } from 'react';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport Scrollbars from 'react-custom-scrollbars';\r\nimport List from '@mui/material/List';\r\nimport { IUser, IAllUser, IDmList, IChannelList } from '@typings/db';\r\nimport fetcher from '@utils/fetcher';\r\nimport useSWR from 'swr';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport ListItemButton from '@mui/material/ListItemButton';\r\nimport FlareIcon from '@mui/icons-material/Flare';\r\nimport { ChannelLeftDrawBarContainer, ScrollbarColor } from './style';\r\n\r\nlet channelList2: IChannelList[] | undefined;\r\n\r\nconst ChannelLeftDrawBar = () => {\r\n  const { data: users } = useSWR<IAllUser[]>('/api/users/alluser', fetcher);\r\n  const { data: channelList } = useSWR<IChannelList[]>('/api/channels/myChannelList', fetcher);\r\n  const { data: myData } = useSWR<IUser | null>('/api/users', fetcher);\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n  const [channelSearchInputValue, setChannelSearchInputValue] = useState('');\r\n\r\n  const handleListItemClick = useCallback(\r\n    (event: any, index: number) => {\r\n      setSelectedIndex(index);\r\n    },\r\n    [selectedIndex, setSelectedIndex],\r\n  );\r\n\r\n  const onChangeChannelSearchInput = useCallback((e) => {\r\n    setChannelSearchInputValue(e.target.value);\r\n  }, []);\r\n\r\n  if (channelSearchInputValue && channelSearchInputValue.indexOf('\\\\') === -1) {\r\n    channelList2 = channelList?.filter((channel) => {\r\n      const regex = new RegExp(channelSearchInputValue, 'gi');\r\n      return channel.name.match(regex);\r\n    });\r\n  }\r\n\r\n  const getChannelList = useCallback(\r\n    (inputValue: string) => {\r\n      if (!inputValue) return channelList;\r\n      else return channelList2;\r\n    },\r\n    [channelList],\r\n  );\r\n\r\n  return (\r\n    <ChannelLeftDrawBarContainer>\r\n      <input\r\n        className=\"search-input\"\r\n        autoComplete=\"off\"\r\n        onChange={onChangeChannelSearchInput}\r\n        value={channelSearchInputValue}\r\n      ></input>\r\n      <div className=\"header-wrapper\">\r\n        <Link to={`/channels`}>\r\n          <List\r\n            className=\"channel-discover-wrapper\"\r\n            component=\"nav\"\r\n            aria-label=\"main mailbox folders\"\r\n          >\r\n            <ListItemButton\r\n              className=\"channel-discover-btn\"\r\n              selected={selectedIndex === 0}\r\n              onClick={(event) => handleListItemClick(event, 0)}\r\n            >\r\n              <FlareIcon className=\"fireicon\" />\r\n              <ListItemText primary=\"Discover\" />\r\n            </ListItemButton>\r\n          </List>\r\n        </Link>\r\n      </div>\r\n      <div className=\"channel-list-wrapper\">\r\n        <Scrollbars\r\n          autoHide\r\n          renderThumbVertical={({ style, ...props }) => <ScrollbarColor {...props} />}\r\n        >\r\n          {getChannelList(channelSearchInputValue)?.map((channel: any, index) => {\r\n            let channelMode = '';\r\n            if (channel.type === 0) {\r\n              channelMode = 'Public';\r\n            } else if (channel.type === 1) {\r\n              channelMode = 'Protected';\r\n            } else if (channel.type === 2) {\r\n              channelMode = 'Private';\r\n            }\r\n            return (\r\n              <Link to={`/channels/${channel.id}`} key={channel.id}>\r\n                <List className=\"channel-list\" component=\"nav\" aria-label=\"main mailbox folders\">\r\n                  <ListItemButton\r\n                    className=\"channel-list-btn\"\r\n                    selected={selectedIndex === index + 1}\r\n                    onClick={(event) => handleListItemClick(event, index + 1)}\r\n                  >\r\n                    <ListItemText\r\n                      className=\"channel-list-text\"\r\n                      primary={channel.name}\r\n                      secondary={channelMode}\r\n                    />\r\n                  </ListItemButton>\r\n                </List>\r\n              </Link>\r\n            );\r\n          })}\r\n        </Scrollbars>\r\n      </div>\r\n      <div className=\"footer\">\r\n        <Link to={`/channels/create`}>\r\n          <Button className=\"create-btn\" variant=\"contained\">\r\n            CREATE&nbsp;&nbsp;+\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n    </ChannelLeftDrawBarContainer>\r\n  );\r\n};\r\n\r\nexport default ChannelLeftDrawBar;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ProtectedRoomModalBack = styled.div`\r\n\tcolor: white;\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tz-index: 2000;\r\n\tbackground-color: rgba(30, 30, 030, 0.5);\r\n`;\r\n\r\nexport const ProtectedRoomModalContainer = styled.div`\r\n\tposition: fixed;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\twidth: 500px;\r\n\theight: 180px;\r\n\tbackground-color: #1e1e1e;\r\n\tcolor: #979797;\r\n\topacity: 1;\r\n\tborder: 1px solid #1e1e1e;\r\n\tborder-radius: 3px;\r\n\tpadding: 10px 20px 10px 20px;\r\n\tz-index: 3000;\r\n\ttransform: translate(-50%, -50%);\r\n\tboxShadow:\r\n\t\t0 3px 1px -2px rgb(0 0 0 / 20%), 0 2px 2px 0 rgb(0 0 0 / 14%), 0 1px 5px 0 rgb(0 0 0 / 12%);\r\n\r\n\t& .header {\r\n\t\tdisplay: flex;\r\n\t\tcolor: white;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t& .close-icon {\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t& .body {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t& .form-control {\r\n\t\twidth: 100%;\r\n\t\tcolor: white;\r\n\t\tmargin-top: 15px;\r\n\t}\r\n\r\n\t& .input-label {\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t& .visibility-icon {\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t& .join-btn {\r\n\t\twidth: 120px;\r\n\t\theight: 45px;\r\n\t\tbackground-color: #597aff;\r\n\t\tborder-color: #597aff;\r\n\t\tfont-weight: bold;\r\n\t\tmargin: 20px 0 0 10px;\r\n\t}\r\n\r\n\t& .password-error-text {\r\n\t\tcolor: red;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t& .css-1480iag-MuiInputBase-root-MuiInput-root {\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t& .css-1480iag-MuiInputBase-root-MuiInput-root:before {\r\n\t\tborder-bottom: 1px solid rgba(255, 255, 255, 0.6);\r\n\t}\r\n\r\n\t& .css-1480iag-MuiInputBase-root-MuiInput-root:hover:not(.Mui-disabled):before {\r\n\t\tborder-bottom: 1px solid rgba(255, 255, 255, 1);\r\n\r\n\t}\r\n`;","import React, { VFC, useCallback, useState } from 'react';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Input from '@mui/material/Input';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport Button from '@mui/material/Button';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\r\nimport Visibility from '@mui/icons-material/Visibility';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport useSWR from 'swr';\r\nimport { IChannelList } from '@typings/db';\r\nimport fetcher from '@utils/fetcher';\r\nimport config from '@utils/config';\r\nimport { ProtectedRoomModalBack, ProtectedRoomModalContainer } from './style';\r\nimport { toast } from 'react-toastify';\r\n\r\ninterface Props {\r\n  channelPasswordModal: boolean;\r\n  setChannelPasswordModal: any;\r\n  channelPasswordRoomNumber: string;\r\n  setChannelPasswordRoomNumber: any;\r\n}\r\n\r\nconst ProtectedRoomModal: VFC<Props> = ({\r\n  channelPasswordModal,\r\n  setChannelPasswordModal,\r\n  channelPasswordRoomNumber,\r\n  setChannelPasswordRoomNumber,\r\n}) => {\r\n  const { data: myChannelList, mutate: mutateChannelList } = useSWR<IChannelList[]>(\r\n    '/api/channels/myChannelList',\r\n    fetcher,\r\n  );\r\n  const { data: allChannelList, mutate: mutateAllChannelList } = useSWR<IChannelList[]>(\r\n    `/api/channels/allChannelList`,\r\n    fetcher,\r\n  );\r\n  const [PasswordValues, setPasswordValues] = useState({\r\n    password: '',\r\n    showPassword: false,\r\n  });\r\n  const [passwordError, setPasswordError] = useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  const handleClickShowPassword = useCallback(() => {\r\n    setPasswordValues({\r\n      ...PasswordValues,\r\n      showPassword: !PasswordValues.showPassword,\r\n    });\r\n  }, [PasswordValues, setPasswordValues]);\r\n  const handleChange = useCallback(\r\n    (prop: any) => (event: any) => {\r\n      setPasswordValues({ ...PasswordValues, [prop]: event.target.value });\r\n      setPasswordError(false);\r\n    },\r\n    [PasswordValues, setPasswordValues, passwordError, setPasswordError],\r\n  );\r\n  const handleMouseDownPassword = useCallback((event: any) => {\r\n    event.preventDefault();\r\n  }, []);\r\n\r\n  const onClickModalClose = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      setChannelPasswordModal(false);\r\n      setPasswordValues({\r\n        password: '',\r\n        showPassword: false,\r\n      });\r\n    },\r\n    [channelPasswordModal, setChannelPasswordModal],\r\n  );\r\n\r\n  const onSubmitPassword = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      axios\r\n        .post(\r\n          `/api/channels/join/${channelPasswordRoomNumber}`,\r\n          {\r\n            password: PasswordValues.password,\r\n          },\r\n          config,\r\n        )\r\n        .then((response) => {\r\n          setPasswordValues({\r\n            password: '',\r\n            showPassword: false,\r\n          });\r\n          setChannelPasswordModal(false);\r\n          mutateAllChannelList();\r\n          mutateChannelList().then(() => {\r\n            history.push(`/channels/${channelPasswordRoomNumber}`);\r\n          });\r\n          setChannelPasswordRoomNumber('');\r\n        })\r\n        .catch((error) => {\r\n          if (error.response.data.data.message === '아이디 혹은 비밀번호가 틀림')\r\n            setPasswordError(true);\r\n          else {\r\n            toast.error(error.message, {\r\n              autoClose: 4000,\r\n              position: toast.POSITION.TOP_RIGHT,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              theme: 'colored',\r\n            });\r\n          }\r\n        });\r\n    },\r\n    [PasswordValues, channelPasswordModal, channelPasswordRoomNumber, passwordError],\r\n  );\r\n  return (\r\n    <>\r\n      <ProtectedRoomModalBack onClick={onClickModalClose}></ProtectedRoomModalBack>\r\n      <ProtectedRoomModalContainer>\r\n        <div className=\"header\">\r\n          <h2>Unlock channel access password</h2>\r\n          <IconButton className=\"close-icon\" aria-label=\"close\" onClick={onClickModalClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </div>\r\n        <div className=\"body\">\r\n          <FormControl className=\"form-control\" variant=\"standard\">\r\n            <InputLabel htmlFor=\"standard-adornment-password\" className=\"input-label\">\r\n              What is the password?\r\n            </InputLabel>\r\n            <Input\r\n              id=\"standard-adornment-password\"\r\n              type={PasswordValues.showPassword ? 'text' : 'password'}\r\n              value={PasswordValues.password}\r\n              onChange={handleChange('password')}\r\n              endAdornment={\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    className=\"visibility-icon \"\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={handleClickShowPassword}\r\n                    onMouseDown={handleMouseDownPassword}\r\n                  >\r\n                    {PasswordValues.showPassword ? <VisibilityOff /> : <Visibility />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              }\r\n            />\r\n          </FormControl>\r\n          <Button className=\"join-btn\" onClick={onSubmitPassword} variant=\"contained\">\r\n            JOIN\r\n          </Button>\r\n        </div>\r\n        {passwordError && <span className=\"password-error-text\">Password is wrong</span>}\r\n      </ProtectedRoomModalContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoomModal;\r\n","import styled from '@emotion/styled';\r\nimport Box from '@mui/material/Box';\r\nimport Card from '@mui/material/Card';\r\nimport Typography from '@mui/material/Typography';\r\n\r\n\r\nexport const ChannelBodyContainer = styled(Box)`\r\n\tbackground-color: #121212;\r\n\tpadding: 15px 8px 15px 15px;\r\n\twidth: 100%;\r\n\theight: calc(100% - 64px);\r\n\r\n\t& .grid-container {\r\n\t\twidth: 100%;\r\n\t}\r\n`;\r\n\r\nexport const ScrollbarColor = styled.div`\r\n  ...style;\r\n  background-color: #787c7f;\r\n  width: 8px;\r\n  border-radius: 5px;\r\n\r\n\t&:hover {\r\n\t\tbackground-color: white;\r\n\t}\r\n`;\r\n\r\nexport const ChannelCard = styled(Card) <{ ismobile: boolean }>`\r\n\tbackground-color: #1e1e1e;\r\n\twidth: ${(props) => { return props.ismobile ? '95%' : '100%' }};\r\n\tcolor: white;\r\n`;\r\n\r\nexport const ChannelName = styled(Typography)`\r\n\tdisplay:flex;\r\n\tjustify-content: space-between;\r\n`;\r\n\r\n","import React, { VFC, useCallback, useState } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport Paper from '@mui/material/Paper';\r\nimport Grid from '@mui/material/Grid';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Typography from '@mui/material/Typography';\r\nimport { CardActionArea } from '@mui/material';\r\nimport Scrollbars from 'react-custom-scrollbars';\r\nimport useSWR from 'swr';\r\nimport { IChannelList } from '@typings/db';\r\nimport fetcher from '@utils/fetcher';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\nimport LockIcon from '@mui/icons-material/Lock';\r\nimport axios from 'axios';\r\nimport ProtectedRoomModal from '@components/ProtectedRoomModal';\r\nimport config from '@utils/config';\r\nimport { ChannelBodyContainer, ScrollbarColor, ChannelCard, ChannelName } from './style';\r\nimport { toast } from 'react-toastify';\r\nimport { useMediaQuery } from 'react-responsive';\r\n\r\nconst ChannelBody = () => {\r\n  const { data: allChannelList, mutate: mutateAllChannelList } = useSWR<IChannelList[]>(\r\n    `/api/channels/allChannelList`,\r\n    fetcher,\r\n  );\r\n  const { data: myChannelList, mutate: mutateMyChannelList } = useSWR<IChannelList[]>(\r\n    `/api/channels/myChannelList`,\r\n    fetcher,\r\n  );\r\n  const [channelPasswordModal, setChannelPasswordModal] = useState(false);\r\n  const [channelPasswordRoomNumber, setChannelPasswordRoomNumber] = useState('');\r\n  const history = useHistory();\r\n  const isMobile = useMediaQuery({ maxWidth: 420 });\r\n  const onClickPublicRoom = useCallback((channelId, e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post(\r\n        `/api/channels/join/${channelId}`,\r\n        {\r\n          password: '',\r\n        },\r\n        config,\r\n      )\r\n      .then(() => {\r\n        mutateAllChannelList();\r\n        mutateMyChannelList().then(() => {\r\n          history.push(`/channels/${channelId}`);\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        if (error.response.data.code === 403) {\r\n          toast.error('This room is not accessible', {\r\n            autoClose: 4000,\r\n            position: toast.POSITION.TOP_RIGHT,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            theme: 'colored',\r\n          });\r\n        } else {\r\n          toast.error(error.message, {\r\n            autoClose: 4000,\r\n            position: toast.POSITION.TOP_RIGHT,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            theme: 'colored',\r\n          });\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const onClickProtectedRoom = useCallback(\r\n    (roomNumber, e) => {\r\n      e.preventDefault();\r\n      setChannelPasswordModal(true);\r\n      setChannelPasswordRoomNumber(roomNumber);\r\n    },\r\n    [\r\n      channelPasswordModal,\r\n      setChannelPasswordModal,\r\n      channelPasswordRoomNumber,\r\n      setChannelPasswordRoomNumber,\r\n    ],\r\n  );\r\n  return (\r\n    <ChannelBodyContainer sx={{ flexGrow: 1 }}>\r\n      <Scrollbars renderThumbVertical={({ style, ...props }) => <ScrollbarColor {...props} />}>\r\n        <Grid className=\"grid-container\" container spacing={3}>\r\n          {channelPasswordModal ? (\r\n            <ProtectedRoomModal\r\n              channelPasswordModal={channelPasswordModal}\r\n              setChannelPasswordModal={setChannelPasswordModal}\r\n              channelPasswordRoomNumber={channelPasswordRoomNumber}\r\n              setChannelPasswordRoomNumber={setChannelPasswordRoomNumber}\r\n            />\r\n          ) : null}\r\n          {allChannelList?.map((Channel: IChannelList) => {\r\n            let flag = false;\r\n            myChannelList?.forEach((myChannel) => {\r\n              if (myChannel.id === Channel.id) {\r\n                flag = true;\r\n                return null;\r\n              }\r\n            });\r\n            if (flag) return null;\r\n            if (Channel.type === 2) {\r\n              return null;\r\n            } else if (Channel.type === 0) {\r\n              return (\r\n                <Grid item xs={12} sm={12} md={6} key={Channel.id}>\r\n                  <ChannelCard\r\n                    ismobile={isMobile}\r\n                    className=\"card\"\r\n                    onClick={(e) => {\r\n                      onClickPublicRoom(Channel.id, e);\r\n                    }}\r\n                  >\r\n                    <CardActionArea>\r\n                      <CardContent>\r\n                        <ChannelName>\r\n                          <span>{Channel.name}</span>\r\n                        </ChannelName>\r\n                        <Typography variant=\"body2\" color=\"hsla(0,0%,100%,.7)\">\r\n                          {Channel.authId}\r\n                        </Typography>\r\n                      </CardContent>\r\n                    </CardActionArea>\r\n                  </ChannelCard>\r\n                </Grid>\r\n              );\r\n            } else if (Channel.type === 1) {\r\n              return (\r\n                <Grid item xs={12} sm={12} md={6} key={Channel.id}>\r\n                  <ChannelCard\r\n                    ismobile={isMobile}\r\n                    className=\"card\"\r\n                    onClick={(e) => {\r\n                      onClickProtectedRoom(Channel.id, e);\r\n                    }}\r\n                  >\r\n                    <CardActionArea>\r\n                      <CardContent>\r\n                        <ChannelName>\r\n                          <span>{Channel.name}</span>\r\n                          <span>{<LockIcon />}</span>\r\n                        </ChannelName>\r\n                        <Typography variant=\"body2\" color=\"hsla(0,0%,100%,.7)\">\r\n                          {Channel.authId}\r\n                        </Typography>\r\n                      </CardContent>\r\n                    </CardActionArea>\r\n                  </ChannelCard>\r\n                </Grid>\r\n              );\r\n            }\r\n          })}\r\n        </Grid>\r\n      </Scrollbars>\r\n    </ChannelBodyContainer>\r\n  );\r\n};\r\n\r\nexport default ChannelBody;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ChannelDiscoverContainer = styled.div`\r\n\twidth: 100%;\r\n`;","import ChannelBody from '@components/ChannelBody';\r\nimport ChannelHeader from '@components/ChannelHeader';\r\nimport React, { VFC } from 'react';\r\nimport { ChannelDiscoverContainer } from './style';\r\nimport ChannelLeftDrawBar from '@components/ChannelLeftDrawBar';\r\nimport { useMediaQuery } from 'react-responsive';\r\n\r\nconst ChannelDiscover = () => {\r\n  return (\r\n    <>\r\n      <ChannelLeftDrawBar />\r\n      <ChannelDiscoverContainer>\r\n        <ChannelHeader content={'Discover some channels'} />\r\n        <ChannelBody />\r\n      </ChannelDiscoverContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChannelDiscover;\r\n"],"names":["ChannelHeaderContainer","styled","Box","content","useParams","id","AppBar","className","position","Toolbar","Typography","variant","component","channelList2","ChannelLeftDrawBarContainer","ScrollbarColor","useSWR","fetcher","data","channelList","useState","selectedIndex","setSelectedIndex","channelSearchInputValue","setChannelSearchInputValue","handleListItemClick","useCallback","event","index","onChangeChannelSearchInput","e","target","value","indexOf","filter","channel","regex","RegExp","name","match","getChannelList","inputValue","autoComplete","onChange","to","List","ListItemButton","selected","onClick","Flare","ListItemText","primary","autoHide","renderThumbVertical","style","props","map","channelMode","type","key","secondary","Button","ProtectedRoomModalBack","ProtectedRoomModalContainer","channelPasswordModal","setChannelPasswordModal","channelPasswordRoomNumber","setChannelPasswordRoomNumber","mutateChannelList","mutate","mutateAllChannelList","password","showPassword","PasswordValues","setPasswordValues","passwordError","setPasswordError","history","useHistory","handleClickShowPassword","handleChange","prop","handleMouseDownPassword","preventDefault","onClickModalClose","onSubmitPassword","axios","config","then","response","push","catch","error","message","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","theme","IconButton","Close","FormControl","InputLabel","htmlFor","Input","endAdornment","InputAdornment","onMouseDown","VisibilityOff","Visibility","ChannelBodyContainer","ChannelCard","Card","ismobile","ChannelName","allChannelList","myChannelList","mutateMyChannelList","isMobile","useMediaQuery","maxWidth","onClickPublicRoom","channelId","code","onClickProtectedRoom","roomNumber","sx","flexGrow","Grid","container","spacing","Channel","flag","forEach","myChannel","item","xs","sm","md","CardActionArea","CardContent","color","authId","Lock","ChannelDiscoverContainer","ChannelLeftDrawBar","ChannelHeader"],"sourceRoot":""}