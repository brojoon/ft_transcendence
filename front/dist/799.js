"use strict";(self.webpackChunkbrojoon=self.webpackChunkbrojoon||[]).push([[799],{3870:function(t,e,n){var r=n(5318);e.Z=void 0;var i=r(n(4938)),o=n(5893),a=(0,i.default)((0,o.jsx)("path",{d:"m15 16-4 4h10v-4zm-2.94-8.81L3 16.25V20h3.75l9.06-9.06zm1.072-1.0673 2.5385-2.5386 3.7477 3.7477-2.5385 2.5385z"}),"DriveFileRenameOutlineSharp");e.Z=a},270:function(t,e,n){n.d(e,{Z:function(){return Z}});var r=n(3366),i=n(7462),o=n(7294),a=(n(5697),n(6010)),l=n(7463),s=n(8216),c=n(2658),u=n(7167),d=n(4423),p=n(9602),m=n(1420);function h(t){return(0,m.Z)("MuiInputAdornment",t)}var f=(0,n(1271).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),v=n(6122),b=n(5893);const g=["children","className","component","disablePointerEvents","disableTypography","position","variant"],w=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${(0,s.Z)(n.position)}`],!0===n.disablePointerEvents&&e.disablePointerEvents,e[n.variant]]}})((({theme:t,ownerState:e})=>(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:t.palette.action.active},"filled"===e.variant&&{[`&.${f.positionStart}&:not(.${f.hiddenLabel})`]:{marginTop:16}},"start"===e.position&&{marginRight:8},"end"===e.position&&{marginLeft:8},!0===e.disablePointerEvents&&{pointerEvents:"none"})));var Z=o.forwardRef((function(t,e){const n=(0,v.Z)({props:t,name:"MuiInputAdornment"}),{children:p,className:m,component:f="div",disablePointerEvents:Z=!1,disableTypography:y=!1,position:E,variant:I}=n,x=(0,r.Z)(n,g),S=(0,d.Z)()||{};let k=I;I&&S.variant,S&&!k&&(k=S.variant);const P=(0,i.Z)({},n,{hiddenLabel:S.hiddenLabel,size:S.size,disablePointerEvents:Z,position:E,variant:k}),A=(t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:a}=t,c={root:["root",n&&"disablePointerEvents",i&&`position${(0,s.Z)(i)}`,a,r&&"hiddenLabel",o&&`size${(0,s.Z)(o)}`]};return(0,l.Z)(c,h,e)})(P);return(0,b.jsx)(u.Z.Provider,{value:null,children:(0,b.jsx)(w,(0,i.Z)({as:f,ownerState:P,className:(0,a.Z)(A.root,m),ref:e},x,{children:"string"!=typeof p||y?(0,b.jsxs)(o.Fragment,{children:["start"===E?(0,b.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):null,p]}):(0,b.jsx)(c.Z,{color:"text.secondary",children:p})}))})}))},1799:function(t,e,n){n.r(e),n.d(e,{default:function(){return S}});var r,i,o=n(7294),a=n(7109),l=n(2642),s=n(2503),c=n(3564),u=n(270),d=n(3870),p=n(6446),m=n(3981),h=n(9669),f=n.n(h),v=n(5977),b=n(175),g=n(4524);function w(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Z=g.Z.div(r||(r=w(["\n\tdisplay: flex;\n\tcolor: white;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\theight: 100%;g\n\tfont-weight: 700;\n\tfont-size: 22px;\n\n\t& .avatar-wrapper {\n\t\tmargin-bottom: 10px;\n\t}\n\n\t& .avatar {\n\t\twidth: 180px;\n\t\theight: 180px;\n\t}\n\n\t& .input-nickname-wrapper {\n\t\tmargin: 10px 0x; \n\t}\n\n\t& .input-nickname {\n\t\tcolor: white;\n\t}\n\n\n\t& .input-icon {\n\t\tcolor: black;\n\t\tbackground-color: white;\n\t}\n\n\t& .submit-btn {\n\t\theight: 35px;\n\t\tbackground-color: #597aff;\n\t\tborder-color: #597aff;\n\t\tfont-weight: bold;\n\t\twhite-space: nowrap;\n\t}\n\n\t& .css-1c2i806-MuiFormLabel-root-MuiInputLabel-root {\n\t\tcolor: white;\n\t}\n\n\t& .css-1480iag-MuiInputBase-root-MuiInput-root:before {\n\t\tborder-bottom: 1px solid rgba(255, 255, 255, 0.6);\n\t}\n\n\t& .css-1480iag-MuiInputBase-root-MuiInput-root:hover:not(.Mui-disabled):before {\n\t\tborder-bottom: 1px solid rgba(255, 255, 255, 1);\n\t}\n"]))),y=g.Z.div(i||(i=w(["\n\tcolor: red;\n\tmargin-bottom: 15px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tvisibility: ",";\n"])),(function(t){return t.visible})),E=n(2132);function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){l=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var S=function(){var t=(0,s.ZP)("/api/users",c.Z),e=t.data,n=t.mutate,r=I((0,o.useState)(0),2),i=r[0],h=r[1],g=I((0,o.useState)(null==e?void 0:e.userId),2),w=g[0],x=g[1],S=(0,v.k6)(),k=(0,o.useCallback)((function(t){h(0),x(t.target.value)}),[w]);null!=e&&e.username&&S.push("/home");var P=(0,o.useCallback)((function(t){if(t.preventDefault(),w){if((null==w?void 0:w.length)<1||(null==w?void 0:w.length)>10)return void h(1);f().get("/api/users/update-username/".concat(w),b.Z).then((function(t){!1===t.data?h(2):(E.Am.success("Successfully registered",{autoClose:2e3,position:E.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"}),setTimeout((function(){n()}),2e3))})).catch((function(){h(3)}))}}),[w]);return o.createElement(Z,null,o.createElement("div",{className:"avatar-wrapper"},o.createElement(a.Z,{className:"avatar",src:"pricture"===(null==e?void 0:e.profile)||null==e?void 0:e.profile,alt:"Avatar"})),o.createElement("b",null,null==e?void 0:e.userId),o.createElement("div",{className:"input-nickname-wrapper"},o.createElement(p.Z,{variant:"standard"},o.createElement(m.Z,{className:"input-nickname",onChange:k,value:w,placeholder:"nickname",id:"input-with-icon-adornment",startAdornment:o.createElement(u.Z,{position:"start"},o.createElement(d.Z,{className:"input-icon "}))}))),o.createElement(y,{visible:"".concat(i?"visible":"hidden")},0===i?"hidden":"",i?1===i&&"Nickname length must be between 1 and 10":"",i?2===i&&"This nickname is already using":"",i?3===i&&"Something is wrong with the server":""),o.createElement("div",null,o.createElement(l.Z,{className:"submit-btn",onClick:P,variant:"contained"},"FINALIZE REGISTRATION")))}},175:function(t,e){e.Z={withCredentials:!0}},3564:function(t,e,n){var r=n(9669),i=n.n(r),o=n(2132);e.Z=function(t){return i().get(t,{withCredentials:!0}).then((function(t){return t.data})).catch((function(t){return o.Am.error(t.message,{autoClose:4e3,position:o.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"}),401===t.response.data.code||"ban 유저"===t.response.data.data.message?setTimeout((function(){window.location.href="/login"}),4e3):setTimeout((function(){window.location.href="/home"}),4e3),!1}))}}}]);