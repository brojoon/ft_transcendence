"use strict";(self.webpackChunkbrojoon=self.webpackChunkbrojoon||[]).push([[225],{1377:function(t,e,n){n.d(e,{Z:function(){return v}});var r,a,o,l=n(7294),i=n(2642),c=n(6867),u=n(594),s=n(9572),d=n(4524);function m(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var f=d.Z.div(r||(r=m(["\n\tcolor: white;\n\tposition: fixed;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tz-index: 6000;\n\tbackground-color: rgba(30, 30, 030, 0.5);\n\n"]))),p=d.Z.div(a||(a=m(["\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\twidth: ","; \n\tbackground-color: #1e1e1e;\n\tcolor: #979797;\n\topacity: 1;\n\tborder: 1px solid #1e1e1e;\n\tborder-radius: 4px;\n\tz-index: 7000;\n\ttransform: translate(-50%, -50%);\n\tbox-shadow:\n\t\t0 3px 1px -2px rgb(0 0 0 / 20%), 0 2px 2px 0 rgb(0 0 0 / 14%), 0 1px 5px 0 rgb(0 0 0 / 12%);\n\n\t& .container {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tbackground-color: #fec107;\n\t}\n\n\t& .header {\n\t\tmargin: 1px 10px 0 8px;\n\t\tfont-size: 20px;\n\t\tcolor: white;\n\t\tdisplay: flex;\n\t}\n\n\t& .header-content {\n\t\tmargin: 0 0 0 4px;\n\t\tline-height: 22px;\n\t}\n\n\t& .header .emoji {\n\t\tcolor: white;\n\t}\n\n\t& .content {\n\t\tmargin: 10px;\n\t}\n"])),(function(t){return t.ismobile?"290px":"400px"})),h=d.Z.div(o||(o=m(["\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tmargin-top: 15px;\n\tfont-weight: 600;\n\n\t& .noBtn {\n\t\tcolor: #979797;\n\t}\n"]))),b=n(1852),v=function(t){var e=t.content,n=t.NoBtn,r=t.YesBtn,a=t.headerContent,o=(0,b.useMediaQuery)({maxWidth:480});return l.createElement(l.Fragment,null,l.createElement(f,{onClick:n}),l.createElement(p,{ismobile:o},l.createElement("div",{className:"container"},l.createElement("div",{className:"header"},l.createElement(s.Z,{className:"emoji"}),l.createElement("div",{className:"header-content"},a)),l.createElement("div",null,l.createElement(c.Z,{className:"emoji",onClick:n},l.createElement(u.Z,null)))),l.createElement("div",{className:"content"},e),l.createElement(h,null,l.createElement(i.Z,{className:"noBtn",onClick:n,variant:"text"},"NO"),l.createElement(i.Z,{onClick:r,variant:"text"},"YES"))))}},7449:function(t,e,n){n.d(e,{Z:function(){return s}});var r,a,o,l=n(7294),i=n(6307),c=n(4524).Z.div(r||(a=["\n\theight: 60px;\n\tbackground-color: #272727;\n\tpadding: 20px 6px 3px 16px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\n\t& .chat-box-form {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t}\n\n\t& .chat-box-input {\n\t\twidth: 95%;\n\t\toutline: none;\n\t\tresize: none;\n\t\tborder-radius: 4px;\n\t\tbackground: #bdbdbd;\n\t\tfont-size: 16px;\n\t\tfont-weight: bold;\n\t\tfont-family: monospace;\n\t\theight: 37px;\n\t\tcolor: black;\n\t\tborder: none;\n\t\tpadding: 10px;\n\t}\n\n\t& .submit-btn {\n\t\tbackground: #272727;\n\t\tbox-shadow: none;\n\t\tborder: none;\n\t\tcolor: white;\n\t\tmargin-left: 10px;\n\t\tcursor: pointer;\n\t}\n"],o||(o=a.slice(0)),r=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(o)}}))));function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=function(t){var e,n,r=t.chat,a=t.onSubmitChat,o=t.setChat,s=(e=(0,l.useState)(""),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(t);!(l=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);l=!0);}catch(t){i=!0,a=t}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,n)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=s[0],m=s[1],f=(0,l.useCallback)((function(t){m(t.target.value)}),[]);(0,l.useEffect)((function(){r&&(a(),m(""))}),[r,a]);var p=(0,l.useCallback)((function(t){t.preventDefault(),o(d)}),[d,a]);return l.createElement(c,null,l.createElement("form",{className:"chat-box-form"},l.createElement("input",{className:"chat-box-input",value:d,onChange:f}),l.createElement("button",{className:"submit-btn",onClick:p},l.createElement(i.Z,null))))}},6225:function(t,e,n){n.r(e),n.d(e,{default:function(){return $t}});var r,a,o,l,i,c,u=n(7449),s=n(3564),d=n(9669),m=n.n(d),f=n(7294),p=n(2503),h=n(958),b=n(5977),v=n(3284),g=n(3720),x=n(1508),y=n(2658),E=n(7547),Z=n(1781),w=n(4524),I=n(4386),k=(0,w.Z)(I.Z)(r||(a=["\n\t.myFab {\n\t\twidth: 45px;\n\t\theight: 45px;\n\t\tbox-shadow: none;\n\t\tcolor: white;\n\t}\n\t.on {\n\t\tbackground-color: #4d4d4d;\n\t}\n\t.off {\n\t\tbackground-color: #272727;\n\t}\n\t.myFab:hover {\n\t\tbackground-color: #4a4b54;\n\t}\n\n"],o||(o=a.slice(0)),r=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(o)}})))),C=function(t){var e=t.onClickMembersToggle,n=t.membersToggle,r=(0,b.UO)().id,a=(0,p.ZP)("/api/channels/myChannelList",s.Z),o=a.data;return a.mutate,f.createElement(x.Z,null,f.createElement(g.Z,{position:"static",sx:{bgcolor:"#272727"}},f.createElement(k,null,f.createElement(y.Z,{variant:"h6",component:"span",sx:{flexGrow:1}},null==o?void 0:o.map((function(t){if(t.id===parseInt(r))return t.name}))),f.createElement(Z.Z,{"aria-label":"add",className:"myFab "+(n?"on":"off"),onClick:e},f.createElement(E.Z,null)))))},O=n(7109),P=n(1298);function S(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var N=w.Z.div(l||(l=S(["\n\tbackground: #1e1e1e;\n\twidth: 100%;\n\theight: 100%;\n\tpadding: 8px 0 8px 15px;\n\n\t& .chat-container {\n\t\tdisplay: flex;\n\t\tcolor: white;\n\t}\n\n\t& .profile-container {\n\t\tmargin-right: 10px;\n\t}\n\n\t& .chat-avatar {\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tmargin-bottom: 25px;\n\t}\n\n\t& .chat-text {\n\t\tmargin-top: 0;\n\t}\n"]))),A=w.Z.div(i||(i=S(["\n  display: flex;\n  justify-content: center;\n  flex: 1;\n  width: 100%;\n  position: sticky;\n  top: 14px;\n\n  & button {\n    font-weight: bold;\n    font-size: 13px;\n    height: 28px;\n\t\tcolor: white;\n    line-height: 27px;\n    padding: 0 16px;\n    z-index: 2;\n    --saf-0: rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 1px 3px 0 rgba(0, 0, 0, 0.08);\n    border-radius: 24px;\n    position: relative;\n    top: -13px;\n    background: #363636;\n    border: none;\n    outline: none;\n  }\n"]))),T=w.Z.div(c||(c=S(["\n  ...style;\n  background-color: #787c7f;\n  width: 8px;\n  border-radius: 5px;\n\n  &:hover {\n\t\tbackground-color: white;\n\t}\n"]))),j=n(8667),M=["style"];function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var B,D,H,L,R=function(t){var e=t.chatData,n=t.scrollbarRef,r=t.setSize,a=t.isReachingEnd,o=((0,b.UO)().id,(0,p.ZP)("/api/users/alluser",s.Z).data),l=(0,p.ZP)("/api/friend/blocklist",s.Z).data,i=((0,p.ZP)("/api/users",s.Z).data,(0,f.useCallback)((function(t){0!==t.scrollTop||a||r((function(t){return t+1})).then((function(){var e,r;null!=n&&n.current&&(null===(e=n.current)||void 0===e||e.scrollTop((null===(r=n.current)||void 0===r?void 0:r.getScrollHeight())-t.scrollHeight))}))}),[n,r,a])),c=(0,j.a)(e?e.flat().reverse():[]),u="";return f.createElement(N,null,f.createElement(P.ZP,{ref:n,onScrollFrame:i,renderThumbVertical:function(t){t.style;var e=function(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}(t,M);return f.createElement(T,e)}},Object.entries(c).map((function(t,e){var n,r,a=(r=2,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(t);!(l=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);l=!0);}catch(t){i=!0,a=t}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(n,r)||function(t,e){if(t){if("string"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1];return f.createElement("div",{key:e},f.createElement(A,null,f.createElement("button",null,i)),null==c?void 0:c.map((function(t,e){var n=!1;if(null==l||l.map((function(e){t.userId===e.userId2&&(n=!0)})),!n)return f.createElement("div",{className:"chat-container",key:e},f.createElement("div",{className:"profile-container "},null==o?void 0:o.map((function(n){if(n.userId===t.userId)return u=n.username,f.createElement(O.Z,{className:"chat-avatar",src:n.profile,alt:"Avatar",key:t.message+e})}))),f.createElement("div",null,f.createElement("div",null,u),f.createElement("p",{className:"chat-text"},t.message)))})))}))))},U=n(576),F=n(9334),G=n(2642),Y=n(9123),_=n(4229),V=n(4765);function W(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var $,Q,X,J,q=w.Z.div(B||(B=W(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: rgba(30, 30, 030, 0.5);\n\tz-index: 100;\n"]))),K=w.Z.div(D||(D=W(["\n\n\t&.MemberDrawBar {\n\t\tposition: absolute;\n\t\tright: 0;\n\t  background-color: #363636;\n\t\twidth: 230px;\n\t\theight: 100%;\n\t\tmargin: 0;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tz-index: 500;\n\t\tdisplay: flex;\n\t\tpadding-bottom: 3px;\n\t}\n\t&.hidden {\n\t\ttransform: translateX(100%);\n\t\tvisibility: none;\n\t\ttransition: all ease-in 0.2s;\n\t}\n  &.visible {\n\t\ttransform: translateX(0%);\n\t\ttransition: all ease-out 0.2s;\n\t\tborder-left: 1px solid #4f4f4f;\n\t}\n\n\t& .List-header {\n\t\tfont-size: 16px;\n\t\tmargin-top: 11px;\n\t\tcolor: gray;\n\t}\n\n\t& .member-text {\n\t\tmargin-left: 12px;\n\t\tcolor: white;\n\t}\n\n\t& .channel-room-btn {\n\t\twidth: 200px;\n\t\theight: 35px;\n\t\tbackground-color: #597aff;\n\t\tborder-color: #597aff;\n\t\tfont-weight: bold;\n\t\tmargin: 10px 0;\n\t}\n\n\t& .unmute-icon {\n\t\tcolor: white;\n\t}\n\n\t& .mute-icon {\n\t\tcolor: red;\n\t}\n"]))),tt=(0,w.Z)(O.Z)(H||(H=W(["\n\tborder: ",";\n\twidth: 45px;\n\theight: 45px;\n"])),(function(t){return t.isstate})),et=w.Z.div(L||(L=W(["\n  ...style;\n  background-color: #787c7f;\n  width: 8px;\n  border-radius: 5px;\n\n\t&:hover {\n\t\tbackground-color: white;\n\t}\n"]))),nt=n(5089),rt=n(6760),at=n(3727),ot=n(175);function lt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var it=w.Z.div($||($=lt(["\n\tfont-size: 20px;\n\twidth: 300px;\n\theight: 360px;\n\tfont-Weight: 600;\n\tbackground-Color: #1e1e1e;\n\tcolor: white;\n\tposition: fixed;\n\tleft: -301px;\n\tbox-shadow: 0 3px 1px -2px rgb(0 0 0 / 20%), 0 2px 2px 0 rgb(0 0 0 / 14%), 0 1px 5px 0 rgb(0 0 0 / 12%);\n\n\t& .header {\n\t\tborder-bottom: 1px solid #3a3a3a;\n\t}\n\n\t& .header-wrapper {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tmargin: 12px 15px 20px 20px;\n\t}\n\n\t& .user-text {\n\t\tmargin-left: 14px;\n\t}\n\n\n\t& .avatar {\n\t\tmargin-top: 5px;\n\t\twidth: 50px;\n\t\theight: 50px;\n\t\t\n\t}\n\n\n\n"]))),ct=(0,w.Z)(G.Z)(Q||(Q=lt(["\n\tcolor: ",";\n\tfont-weight: 600;\n\tmargin: 0 0 0 40px;\n"])),(function(t){return t.btncolor})),ut=w.Z.div(X||(X=lt(["\n\tborder-bottom: 1px solid #3a3a3a;\n\n\t& .count-wrapper {\n\t\tmargin: 17px 15px 20px 20px;\n\t\tdisplay: flex;\n\t}\n\n\t& .match-icon {\n\t\tfont-size: 40px;\n\t}\n\n\t& .match-text {\n\t\twidth: 100%;\n\t\tmargin-left: 15px;\n\t\tline-height: 40px;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n"]))),st=w.Z.div(J||(J=lt(["\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .profile-message-wrapper {\n\t\tborder-bottom: 1px solid #3a3a3a;\n\t}\n\n\t& .profile-btn {\n\t\tcolor: #979797;\n\t\tfont-weight: 600;\n\t\tmargin: 17px 15px 20px 20px;\n\t}\n\n\t& .message-btn {\n\t\tcolor: #43a047;\n\t\tfont-weight: 600;\n\t\tmargin: 17px 15px 20px 20px;\n\t}\n\n\t& .mute-kick-ban-btn {\n\t\tcolor: #d50000;\n\t\tfont-weight: 600;\n\t\tmargin: 17px 15px 20px 20px;\n\t}\n"]))),dt=n(2132),mt=function(t){var e=t.user,n=t.setSelectedIndex,r=(0,b.UO)().id,a=(0,p.ZP)("/api/dms/dmlist",s.Z),o=a.data,l=a.mutate,i=(0,p.ZP)("/api/users",s.Z).data,c=(0,p.ZP)("/api/channels/mutedMembers/".concat(r),s.Z),u=(c.data,c.mutate,(0,p.ZP)("/api/friend/blocklist",s.Z).data),d=(0,p.ZP)("/api/channels/userList/".concat(r),s.Z),h=d.data,v=(d.mutate,(0,p.ZP)("/api/game/achievement/numOfWin/".concat(e.userId),s.Z).data),g=(0,p.ZP)("/api/game/achievement/numOfLose/".concat(e.userId),s.Z).data,x=!1,y=(0,b.k6)(),E=-1,Z=-1;null==h||h.map((function(t){t.userId===e.userId?Z=t.auth:t.userId===(null==i?void 0:i.userId)&&(E=t.auth)}));var w=(0,f.useCallback)((function(t){t.preventDefault(),m().get("/api/channels/muteUser/".concat(r,"/").concat(e.userId,"/20"),ot.Z).then((function(t){n(-1)})).catch((function(t){dt.Am.error(t.message,{autoClose:3e3,position:dt.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[]),I=(0,f.useCallback)((function(t){t.preventDefault(),m().get("/api/channels/kickUser/".concat(r,"/").concat(e.userId),ot.Z).then((function(t){n(-1)})).catch((function(t){dt.Am.error(t.message,{autoClose:3e3,position:dt.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[]),k=(0,f.useCallback)((function(t){t.preventDefault(),m().get("/api/channels/banUser/".concat(r,"/").concat(e.userId),ot.Z).then((function(t){n(-1)})).catch((function(t){dt.Am.error(t.message,{autoClose:3e3,position:dt.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[]),C=(0,f.useCallback)((function(t){t.preventDefault(),m().get("/api/dms/create/".concat(e.userId),ot.Z).then((function(t){l().then((function(){y.push("/social/dm/".concat(t.data))}))})).catch((function(t){dt.Am.error(t.message,{autoClose:3e3,position:dt.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[e,l,o]),P=(0,f.useCallback)((function(t){t.preventDefault(),0===Z?m().get("/api/channels/giveAdmin/".concat(r,"/").concat(e.userId),ot.Z).then((function(){n(-1)})).catch((function(t){dt.Am.error(t.message,{autoClose:3e3,position:dt.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})})):1===Z&&m().get("/api/channels/removeAdmin/".concat(r,"/").concat(e.userId),ot.Z).then((function(){n(-1)})).catch((function(t){dt.Am.error(t.message,{autoClose:3e3,position:dt.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[E]);return f.createElement(it,null,f.createElement("div",{className:"header"},f.createElement("div",{className:"header-wrapper"},f.createElement(O.Z,{className:"avatar",src:e.profile,alt:"Avatar"}),f.createElement("div",{className:"user-text"},e.username),f.createElement("div",{className:"admin-btn"},2===E&&2!==Z&&f.createElement(ct,{onClick:P,btncolor:"".concat(1===Z?"#f33c36":"#002BC"),variant:"text"},"admin")))),f.createElement(ut,null,f.createElement("div",{className:"count-wrapper"},f.createElement(nt.Z,{className:"match-icon"}),f.createElement("div",{className:"match-text"},f.createElement("span",null,"Win Count"),f.createElement("span",null,null==v?void 0:v.number))),f.createElement("div",{className:"count-wrapper"},f.createElement(rt.Z,{className:"match-icon"}),f.createElement("div",{className:"match-text"},f.createElement("span",null,"Lose Count"),f.createElement("span",null,null==g?void 0:g.number)))),f.createElement(st,null,f.createElement("div",{className:"profile-message-wrapper"},f.createElement(at.rU,{to:"/users/".concat(e.userId)},f.createElement(G.Z,{className:"profile-btn",variant:"text"},"profile")),null==u?void 0:u.map((function(t){t.userId2===e.userId&&(x=!0)})),!x&&f.createElement(G.Z,{className:"message-btn",onClick:C,variant:"text"},"message")),0===Z&&(1===E||2===E)&&f.createElement("div",null,f.createElement(G.Z,{onClick:w,className:"mute-kick-ban-btn",variant:"text"},"mute"),f.createElement(G.Z,{onClick:I,className:"mute-kick-ban-btn",variant:"text"},"kick"),f.createElement(G.Z,{onClick:k,className:"mute-kick-ban-btn",variant:"text"},"ban"))))},ft=n(5868),pt=n(4593),ht=n(6103),bt=["style"];var vt,gt=function(t){var e,n=t.onClickMembersToggle,r=t.onClickSettingBtn,a=t.onClickChannelLeaveModal,o=t.onClickChannelInviteModal,l=t.onClickMember,i=t.selectedIndex,c=t.setSelectedIndex,u=t.membersToggle,d=(0,b.UO)().id,m=(0,p.ZP)("/api/channels/userList/".concat(d),s.Z).data,h=(0,p.ZP)("/api/users/alluser",s.Z).data,v=(0,p.ZP)("/api/channels/checkOwner/".concat(d),s.Z).data,g=(0,p.ZP)("/api/channels/checkAdmin/".concat(d),s.Z).data,x=(0,p.ZP)("/api/users",s.Z).data,y=(0,f.useContext)(ht.J),E=y.onlineList,Z=y.onGameList,w=(0,b.k6)();return 0===(null==m?void 0:m.length)&&w.push("/channels"),f.createElement(f.Fragment,null,u&&f.createElement(q,{onClick:n}),f.createElement(K,{className:"MemberDrawBar "+(u?"visible":"hidden")},f.createElement(P.ZP,{renderThumbVertical:function(t){t.style;var e=function(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}(t,bt);return f.createElement(et,e)}},f.createElement("div",null,f.createElement(U.ZP,{className:"List-header"},"Owner"),m&&(null==m?void 0:m.map((function(t){if(2===t.auth)return null==h?void 0:h.map((function(n,r){if(n.userId==t.userId)return e=0,Z&&Z[n.userId]&&(e=2),0===e&&(null==E||E.map((function(t){t.userId===n.userId&&(e=1)}))),f.createElement("div",{key:n.userId},i===r&&n.userId!==(null==x?void 0:x.userId)&&f.createElement(mt,{user:n,setSelectedIndex:c}),f.createElement(U.ZP,{button:!0,onClick:function(t){return l(t,r)}},f.createElement(tt,{isstate:"".concat(e?1===e?"2px solid #1ed14b":"2px solid #FFD400":"2px solid #d63638"),src:n.profile,alt:"Avatar"}),f.createElement(F.Z,{className:"member-text",primary:n.username}),f.createElement(pt.Z,{className:"unmute-icon"})))}))}))),f.createElement(U.ZP,{className:"List-header"},"Admin"),m&&(null==m?void 0:m.map((function(t){if(1===t.auth)return null==h?void 0:h.map((function(n,r){if(n.userId==t.userId)return e=0,Z&&Z[n.userId]&&(e=2),0===e&&(null==E||E.map((function(t){t.userId===n.userId&&(e=1)}))),f.createElement("div",{key:n.userId},i===r&&n.userId!==(null==x?void 0:x.userId)&&f.createElement(mt,{user:n,setSelectedIndex:c}),f.createElement(U.ZP,{button:!0,onClick:function(t){return l(t,r)}},f.createElement(tt,{isstate:"".concat(e?1===e?"2px solid #1ed14b":"2px solid #FFD400":"2px solid #d63638"),src:n.profile,alt:"Avatar"}),f.createElement(F.Z,{className:"member-text",primary:n.username}),f.createElement(pt.Z,{className:"unmute-icon"})))}))}))),f.createElement(U.ZP,{className:"List-header"},"Users"),m&&(null==m?void 0:m.map((function(t){if(0===t.auth)return null==h?void 0:h.map((function(n,r){if(n.userId==t.userId)return e=0,Z&&Z[n.userId]&&(e=2),0===e&&(null==E||E.map((function(t){t.userId===n.userId&&(e=1)}))),f.createElement("div",{key:n.userId},i===r&&n.userId!==(null==x?void 0:x.userId)&&f.createElement(mt,{user:n,setSelectedIndex:c}),f.createElement(U.ZP,{button:!0,onClick:function(t){return l(t,r)}},f.createElement(tt,{isstate:"".concat(e?1===e?"2px solid #1ed14b":"2px solid #FFD400":"2px solid #d63638"),src:n.profile,alt:"Avatar"}),f.createElement(F.Z,{className:"member-text",primary:n.username}),t.mute?f.createElement(ft.Z,{className:"mute-icon"}):f.createElement(pt.Z,{className:"unmute-icon"})))}))}))))),v&&f.createElement(G.Z,{className:"channel-room-btn",variant:"contained",onClick:r},"SETTING  ",f.createElement(_.Z,null)),g&&f.createElement(G.Z,{className:"channel-room-btn",variant:"contained",onClick:o},"INVITE  ",f.createElement(V.Z,null)),!1===v&&f.createElement(G.Z,{className:"channel-room-btn",variant:"contained",onClick:a},"LEAVE  ",f.createElement(Y.Z,null))))},xt=n(1733),yt=n(594),Et=n(6867),Zt=w.Z.div(vt||(vt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t.hidden {\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\ttop: 0;\n\t\tbackground-color: #000000;\n\t\tz-Index: 501;\n\t\tflex-direction: column;\n\t\tpadding: 0 25px;\n\t\toverflowY: auto;\n\t\ttransform: translateY(100%);\n\t\ttransition: all ease-in 0.2s;\n\t\topacity: 0;\n\n\t}\n\n\t.visible {\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\ttop: 0;\n\t\tbackground-color: #000000;\n\t\tz-Index: 501;\n\t\tflex-direction: column;\n\t\tpadding: 0 25px;\n\t\toverflowY: auto;\n\t\ttransform: translateY(0%);\n\t\ttransition: all ease-out 0.2s;\n\t}\n\n\t& .setting-modal-header {\n\t\tdisplay: flex;\n\t\tcolor: white;\n\t\tjustify-content: space-between\n\t}\n\n\t& .close-icon {\n\t\tcolor: white;\n\t}\n\n\t& .setting-modal-body {\n\t\tbackground-color: #1e1e1e;\n\t\tborder-radius: 4px;\n\t}\n\n\t& .setting-modal-delete-wrapper {\n\t\twidth: 100%;\n\t\theight: 120px;\n\t\tbackground-color: #1e1e1e;\n\t\tcolor: #e24c34;\n\t\tborder: 1px solid #a6625f;\n\t\tborder-radius: 4px;\n\t\tpadding: 0 15px;\n\t}\n\n\t& .delete-btn {\n\t\tbackground-color: red;\n\t\tfont-weight: 600;\n\t}\n\n\n"]))),wt=n(1377),It=n(2945);function kt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(t);!(l=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);l=!0);}catch(t){i=!0,a=t}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ot,Pt,St=function(t){var e=t.settingToggle,n=t.onClickSettingBtn,r=(0,b.UO)().id,a=(0,p.ZP)("/api/channels/myChannelList",s.Z),o=(a.data,a.mutate),l=(0,p.ZP)("/api/channels/allChannelList",s.Z),i=l.data,c=l.mutate,u=(0,p.ZP)("/api/channels/userList/".concat(r),s.Z),d=(u.data,u.mutate,(0,b.k6)()),h=kt((0,f.useState)(!1),2),v=h[0],g=h[1],x=kt((0,f.useState)(""),2),y=x[0],E=x[1],Z=kt((0,f.useState)("0"),2),w=Z[0],I=Z[1],k=kt((0,f.useState)(0),2),C=k[0],O=k[1],P=kt((0,f.useState)({password:"",showPassword:!1}),2),S=P[0],N=P[1],A=(0,f.useCallback)((function(t){t.preventDefault(),g((function(t){return!t}))}),[v]),T=(0,f.useCallback)((function(){y&&m().get("/api/channels/updateChannelName/".concat(r,"/").concat(y),ot.Z).then((function(){dt.Am.success("Successfully renamed a channel",{autoClose:3e3,position:dt.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"}),""!==w&&m().get("/api/channels/updateChannelType/".concat(r,"/").concat(w),ot.Z).then((function(){1===parseInt(w)?m().post("/api/channels/updateChannelPassword/".concat(r),{password:S.password},ot.Z).then((function(){dt.Am.success("Successfully changed channel password",{autoClose:3e3,position:dt.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"}),c(),o(),E(""),I("0"),N({password:"",showPassword:!1})})).catch((function(){c(),o(),E(""),I("0"),N({password:"",showPassword:!1}),O(1)})):(c(),o(),E(""),I("0"),N({password:"",showPassword:!1}))})).catch((function(){c(),o(),E(""),I("0"),O(1)}))})).catch((function(t){O(1),E(""),I("0"),N({password:"",showPassword:!1})}))}),[y,w,S]),j=(0,f.useCallback)((function(t){t.preventDefault(),m().get("/api/channels/deleteChannel/".concat(r),ot.Z).then((function(){d.push("/channels"),o(),c(),dt.Am.success("Successfully deleted the channel",{autoClose:3e3,position:dt.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})})).catch((function(t){dt.Am.error(t.message,{autoClose:3e3,position:dt.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[r]);return f.createElement(f.Fragment,null,f.createElement(Zt,null,v?f.createElement(wt.Z,{NoBtn:A,YesBtn:j,headerContent:"Delete Channel",content:"This will remove the channel as well as all of its messages"}):"",f.createElement("div",{className:e?"visible":"hidden"},f.createElement("div",{className:"setting-modal-header"},f.createElement("h1",null,"Settings of"," ",null==i?void 0:i.map((function(t){if(t.id===parseInt(r))return t.name}))),f.createElement(Et.Z,{className:"close-icon","aria-label":"close",onClick:n},f.createElement(yt.Z,null))),f.createElement("div",{className:"setting-modal-body"},f.createElement(It.Z,{value:"EDIT",onSubmitChannelCreate:T,name:y,setVisibility:I,setName:E,setPasswordValues:N,createError:C,setCreateError:O})),f.createElement("div",{className:"setting-modal-delete-wrapper"},f.createElement("h3",null,"Danger Zone"),f.createElement(G.Z,{className:"delete-btn",variant:"contained",startIcon:f.createElement(xt.Z,null),onClick:A},"DELETE CHANNEL")))))},Nt=n(270),At=n(5116),Tt=n(8096);function jt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Mt=w.Z.div(Ot||(Ot=jt(["\n\tcolor: white;\n\tposition: fixed;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tz-index: 2000;\n\tbackground-color: rgba(30; 30, 030, 0.5);\n"]))),zt=w.Z.div(Pt||(Pt=jt(["\n\tposition: fixed;\n\ttop: 50%;\n\tleft: 50%;\n\twidth: 500px;\n\theight: 180px;\n\tbackground-color: #1e1e1e;\n\tcolor: #979797;\n\topacity: 1;\n\tborder: 1px solid #1e1e1e;\n\tborder-radius: 3px;\n\tpadding: 10px 20px 10px 20px;\n\tz-index: 3000;\n\ttransform: translate(-50%, -50%);\n\tbox-shadow:\n\t\t0 3px 1px -2px rgb(0 0 0 / 20%), 0 2px 2px 0 rgb(0 0 0 / 14%), 0 1px 5px 0 rgb(0 0 0 / 12%);\n\n\t& .invite-Modal-wrapper {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t& .invite-Modal-wrapper h3 {\n\t\tcolor: red;\n\t\tmargin-top: 0;\n\t}\n\n\t& .invite-Modal-header {\n\t\tdisplay: flex;\n\t\tcolor: white;\n\t\tjustify-content: space-between;\n\t}\n\n\t& .invite-Modal-body {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\tjustify-content: space-between;\n\t}\n\n\t& .color-white {\n\t\tcolor: white;\n\t}\n\n\t& .invite-Modal-input {\n\t\twidth: calc(100% - 130px);\n\t\tcolor: white;\n\t}\n\n\t& .invite-Modal-button {\n\t\twidth: 110px;\n\t\theight: 42px;\n\t\tbackground-color: #597aff;\n\t\tborder-color: #597aff;\n\t\tfont-weight: bold;\n\t\tmargin-top: 10px;\n\t}\n\n\t& .css-1480iag-MuiInputBase-root-MuiInput-root {\n\t\tcolor: white;\n\t}\n\n\t& .css-1480iag-MuiInputBase-root-MuiInput-root:before {\n\t\tborder-bottom: 1px solid rgba(255, 255, 255, 0.6);\n\t}\n\n\t& .css-1480iag-MuiInputBase-root-MuiInput-root:hover:not(.Mui-disabled):before {\n\t\tborder-bottom: 1px solid rgba(255, 255, 255, 1);\n\t\t\n\t}\n\n"]))),Bt=n(1852);function Dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(t);!(l=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);l=!0);}catch(t){i=!0,a=t}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lt,Rt=function(t){var e=t.setChannelInviteModal,n=t.onClickModalClose,r=(0,b.UO)().id,a=(0,p.ZP)("/api/users/alluser",s.Z).data,o=(0,p.ZP)("/api/channels/userList/".concat(r),s.Z),l=(o.data,o.mutate),i=Dt((0,f.useState)(""),2),c=i[0],u=i[1],d=Dt((0,f.useState)(!1),2),h=d[0],v=d[1],g=((0,Bt.useMediaQuery)({maxWidth:600}),(0,f.useCallback)((function(t){var n;t.preventDefault(),null==a||a.map((function(t){t.username===c&&(n=t.userId)})),n?m().get("/api/channels/invite/".concat(r,"/").concat(n),ot.Z).then((function(){l(),u(""),e(!1)})).catch((function(t){dt.Am.error(t.message,{autoClose:3e3,position:dt.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})})):v(!0)}),[c,u])),x=(0,f.useCallback)((function(t){t.preventDefault(),v(!1),u(t.target.value)}),[]);return f.createElement(f.Fragment,null,f.createElement(Mt,{onClick:n}),f.createElement(zt,null,f.createElement("div",{className:"invite-Modal-wrapper"},f.createElement("div",{className:"invite-Modal-header"},f.createElement("h2",null,"Invite people to channel"),f.createElement(Et.Z,{className:"color-white","aria-label":"close",onClick:n},f.createElement(yt.Z,null))),f.createElement("div",{className:"invite-Modal-body"},f.createElement(At.Z,{className:"invite-Modal-input",value:c,onChange:x,id:"input-with-icon-textfield",label:"user",InputProps:{startAdornment:f.createElement(Nt.Z,{className:"color-white",position:"start"},f.createElement(Tt.Z,null))},variant:"standard"}),f.createElement(G.Z,{className:"invite-Modal-button",variant:"contained",onClick:g},"INVITE")),h&&f.createElement("h3",null,"invited the wrong user"))))},Ut=w.Z.div(Lt||(Lt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\twidth: 100%;\n\theight: 100vh;\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: hidden;\n"]))),Ft=n(7015),Gt=n(7484),Yt=n.n(Gt);function _t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(t);!(l=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);l=!0);}catch(t){i=!0,a=t}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,e)||Vt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(t,e){if(t){if("string"==typeof t)return Wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(t,e):void 0}}function Wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $t=function(){var t,e,n=(0,b.UO)().id,r=(0,p.ZP)("/api/users",s.Z).data,a=(0,p.ZP)("/api/users/alluser",s.Z),o=(a.data,a.mutate),l=(0,p.ZP)("/api/channels/userList/".concat(n),s.Z),i=(l.data,l.mutate),c=(0,p.ZP)("/api/channels/allChannelList",s.Z),d=(c.data,c.mutate),g=(0,p.ZP)("/api/channels/myChannelList",s.Z),x=g.data,y=g.mutate,E=(0,p.ZP)("/api/channels/checkMyMute/".concat(n),s.Z),Z=E.data,w=E.mutate,I=(0,h.ZP)((function(t){return"/api/channels/20MessageList/".concat(n,"/").concat(19*t)}),s.Z),k=I.data,O=I.mutate,P=I.setSize,S=0===(null==k||null===(t=k[0])||void 0===t?void 0:t.length)||k&&(null===(e=k[k.length-1])||void 0===e?void 0:e.length)<20||!1,N=(0,f.useRef)(null),A=(0,v.Z)(),T=(0,b.k6)(),j=_t((0,f.useState)(""),2),M=j[0],z=j[1],B=_t((0,f.useState)(!1),2),D=B[0],H=B[1],L=_t((0,f.useState)(!1),2),U=L[0],F=L[1],G=_t((0,f.useState)(!1),2),Y=G[0],_=G[1],V=_t((0,f.useState)(!1),2),W=V[0],$=V[1],Q=_t((0,f.useState)(-1),2),X=Q[0],J=Q[1],q=_t((0,f.useState)(!1),2),K=(q[0],q[1]),tt=(0,Bt.useMediaQuery)({maxWidth:700}),et=(0,f.useCallback)((function(t,e){t.preventDefault(),J(X===e?-1:e)}),[X]),nt=(0,f.useCallback)((function(t){t.preventDefault(),$((function(t){return!t}))}),[W]),rt=(0,f.useCallback)((function(t){t.preventDefault(),J(-1),F((function(t){return!t}))}),[U,F]),at=(0,f.useCallback)((function(t){t.preventDefault(),H((function(t){return!t}))}),[D,H]),lt=(0,f.useCallback)((function(){null!=M&&M.trim()&&k&&(O((function(t){return null==t||t[0].unshift({userId:null==r?void 0:r.userId,message:M,updatedAt:Yt()(new Date).add(9,"hour")}),t}),!1),m().post("/api/channels/send/".concat(n),{msg:M},ot.Z).catch((function(t){dt.Am.error(t.message,{autoClose:3e3,position:dt.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"}),O()})),z(""),setTimeout((function(){var t;null===(t=N.current)||void 0===t||t.scrollToBottom()}),50))}),[M]),it=(0,f.useCallback)((function(t){t.preventDefault(),_((function(t){return!t}))}),[Y,_]),ct=(0,f.useCallback)((function(t){t.preventDefault(),m().get("/api/channels/getout/".concat(n),ot.Z).then((function(){d(),y(),_(!1),T.push("/channels")})).catch((function(t){dt.Am.error(t.message,{autoClose:3e3,position:dt.Am.POSITION.TOP_RIGHT,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})}))}),[Y]),ut=(0,f.useCallback)((function(t){t.userId!=(null==r?void 0:r.userId)&&t.channelId==n&&O((function(e){return null==e||e[0].unshift({userId:t.userId,message:t.msg,updatedAt:t.createdAt}),e}),!1).then((function(){K((function(t){return!t})),N.current&&N.current.getScrollHeight()<N.current.getClientHeight()+N.current.getScrollTop()+150&&setTimeout((function(){var t;null===(t=N.current)||void 0===t||t.scrollToBottom()}),50)}))}),[r,N,n]);return(0,f.useEffect)((function(){if(x){var t,e=!0,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Vt(t))){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){i=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw o}}}}(x);try{for(r.s();!(t=r.n()).done;)if(t.value.id===parseInt(n)){e=!1;break}}catch(t){r.e(t)}finally{r.f()}e&&T.push("/home")}}),[x]),(0,f.useEffect)((function(){return null==A||A.on("join",(function(){i(),o()})),function(){null==A||A.off("join")}}),[A]),(0,f.useEffect)((function(){return null==A||A.on("leave",i),function(){null==A||A.off("leave")}}),[A]),(0,f.useEffect)((function(){return null==A||A.on("channelType",(function(){y()})),function(){null==A||A.off("channelType")}}),[A]),(0,f.useEffect)((function(){return null==A||A.on("channelDelete",(function(){y(),T.push("/channels")})),function(){null==A||A.off("channelDelete")}}),[A]),(0,f.useEffect)((function(){return null==A||A.on("admin",i),function(){null==A||A.off("admin")}}),[A]),(0,f.useEffect)((function(){return null==A||A.on("ban",(function(t){t===(null==r?void 0:r.userId)&&T.push("/channels"),i()})),function(){null==A||A.off("ban")}}),[A]),(0,f.useEffect)((function(){return null==A||A.on("mute",(function(){i(),w()})),function(){null==A||A.off("mute")}}),[A]),(0,f.useEffect)((function(){return null==A||A.on("ch",ut),function(){null==A||A.off("ch",ut)}}),[A,ut]),(0,f.useEffect)((function(){setTimeout((function(){var t;null===(t=N.current)||void 0===t||t.scrollToBottom()}),50)}),[A]),(0,f.useEffect)((function(){var t;1===(null==k?void 0:k.length)&&(null===(t=N.current)||void 0===t||t.scrollToBottom())}),[k]),f.createElement(f.Fragment,null,tt?null:f.createElement(Ft.Z,null),f.createElement(f.Fragment,null,f.createElement(St,{settingToggle:D,onClickSettingBtn:at}),f.createElement(Ut,null,f.createElement(C,{membersToggle:U,onClickMembersToggle:rt}),f.createElement(R,{chatData:k,scrollbarRef:N,setSize:P,isReachingEnd:S}),!Z&&f.createElement(u.Z,{chat:M,setChat:z,onSubmitChat:lt})),f.createElement(gt,{onClickMembersToggle:rt,onClickSettingBtn:at,onClickChannelLeaveModal:it,onClickChannelInviteModal:nt,onClickMember:et,selectedIndex:X,membersToggle:U,setSelectedIndex:J}),W&&f.createElement(Rt,{onClickModalClose:nt,setChannelInviteModal:$}),Y&&f.createElement(wt.Z,{headerContent:"Leave Channel",content:"Are you really leaving this channel?",NoBtn:it,YesBtn:ct})))}},8667:function(t,e,n){n.d(e,{W:function(){return l},a:function(){return i}});var r=n(7484),a=n.n(r),o=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"];function l(t){var e={};return t.forEach((function(t){var n=a()(t.createdAt).subtract(9,"hour").format("YYYY-MM-DD");n+=" "+o[a()(t.createdAt).subtract(9,"hour").day()],Array.isArray(e[n])?e[n].push(t):e[n]=[t]})),e}function i(t){var e={};return t.forEach((function(t){var n=a()(t.updatedAt).subtract(9,"hour").format("YYYY-MM-DD");n+=" "+o[a()(t.updatedAt).subtract(9,"hour").day()],Array.isArray(e[n])?e[n].push(t):e[n]=[t]})),e}}}]);