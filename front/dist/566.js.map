{"version":3,"file":"566.js","mappings":"qKAEaA,E,QAAmBC,EAAAA,IAAH,I,EAAA,wrB,kBAAA,E,qLCS7B,IAqCA,EArC4B,SAAC,GAAoC,I,IAAlCC,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,aAAcC,EAAc,EAAdA,QACjD,G,GAAsCC,EAAAA,EAAAA,UAAS,I,EAA/C,E,8zBAAOC,EAAP,KAAoBC,EAApB,KACMC,GAAsBC,EAAAA,EAAAA,cAAY,SAACC,GACvCH,EAAeG,EAAEC,OAAOC,SACvB,KAEHC,EAAAA,EAAAA,YAAU,WACJX,IACFC,IACAI,EAAe,OAEhB,CAACL,EAAMC,IAEV,IAAMW,GAAsBL,EAAAA,EAAAA,cAC1B,SAACC,GACCA,EAAEK,iBACFX,EAAQE,KAEV,CAACA,EAAaH,IAGhB,OACE,gBAACH,EAAD,KACE,wBAAMgB,UAAU,iBACd,yBACEA,UAAU,iBACVJ,MAAON,EACPW,SAAUT,IAEZ,0BAAQQ,UAAU,aAAaE,QAASJ,GACtC,gBAACK,EAAA,EAAD,W,iSCtCH,ICUHC,EDVSC,EAAwBpB,EAAAA,EAAAA,IAAH,i/BAqDrBqB,EAAkBrB,EAAAA,EAAAA,IAAH,yeAmCfsB,GAAatB,EAAAA,EAAAA,GAAOuB,EAAAA,EAAPvB,CAAH,qDACZ,SAACwB,GAAD,OAAWA,EAAMC,WAIfC,EAAiB1B,EAAAA,EAAAA,IAAH,qJ,o9BCjF3B,IAuHA,EAvHwB,WAAM,MASxB2B,EARUC,GAAWC,EAAAA,EAAAA,IAAkB,kBAAmBC,EAAAA,GAAtDC,KACMC,GAAUH,EAAAA,EAAAA,IAAmB,qBAAsBC,EAAAA,GAAzDC,KACME,GAAcJ,EAAAA,EAAAA,IAAM,wBAAwCC,EAAAA,GAAlEC,KAGR,KAA0C3B,EAAAA,EAAAA,UAAS,GAAnD,GAAO8B,EAAP,KAAsBC,EAAtB,KACA,KAAoD/B,EAAAA,EAAAA,UAAS,IAA7D,GAAOgC,EAAP,KAA2BC,EAA3B,KACA,GAAmCC,EAAAA,EAAAA,YAAWC,EAAAA,GAAtCC,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,WAGdC,GAAsBlC,EAAAA,EAAAA,cAC1B,SAACmC,EAAYC,GACXT,EAAiBS,KAEnB,CAACV,EAAeC,IAGZU,GAAwBrC,EAAAA,EAAAA,cAAY,SAACC,GACzC4B,EAAsB5B,EAAEC,OAAOC,SAC9B,IAECyB,IAA4D,IAAtCA,EAAmBU,QAAQ,QACnD3B,EAAUS,MAAAA,OAAH,EAAGA,EAAQmB,QAAO,SAACC,GACxB,IAAMC,EAAQ,IAAIC,OAAOd,EAAoB,MAC7C,OAAOY,EAAGG,SAASC,MAAMH,OAI7B,IAAMI,GAAY7C,EAAAA,EAAAA,cAChB,SAAC8C,GACC,OAAKA,EACOnC,EADYS,IAG1B,CAACA,IAGH,OACE,gBAACR,EAAD,KACE,yBACEL,UAAU,eACVC,SAAU6B,EACVlC,MAAOyB,EACPmB,aAAa,QAEf,uBAAKxC,UAAU,uBACb,gBAAC,KAAD,CAAMyC,GAAE,WACN,gBAACC,EAAA,EAAD,CAAM1C,UAAU,sBAAsB2C,UAAU,MAAM,aAAW,wBAC/D,gBAACC,EAAA,EAAD,CACE5C,UAAU,kBACV6C,SAA4B,IAAlB1B,EACVjB,QAAS,SAAC0B,GAAD,OAAgBD,EAAoBC,EAAO,KAEpD,gBAACkB,EAAA,EAAD,CAAwB9C,UAAU,qBAClC,gBAAC+C,EAAA,EAAD,CAAcC,QAAQ,gBAK9B,gBAAC1C,EAAD,KACE,gBAAC,KAAD,CACE2C,UAAQ,EACRC,oBAAqB,cAAGC,MAAH,IAAa1C,E,kXAAb,aAAyB,gBAACE,EAAmBF,KAElE,qCACG6B,EAAUjB,UADb,aACG,EAA+B+B,KAAI,SAACnB,EAAaJ,GAChD,IAAIwB,GAAU,EAId,GAHAnC,MAAAA,GAAAA,EAAWkC,KAAI,SAACE,GACVA,EAAYC,UAAYtB,EAAGuB,SAAQH,GAAU,OAE9CA,EACH,OACE,gBAAC,KAAD,CAAMZ,GAAE,qBAAgBR,EAAGwB,IAAMC,IAAKzB,EAAGwB,IACvC,gBAACf,EAAA,EAAD,CAAM1C,UAAU,OAAO2C,UAAU,MAAM,aAAW,wBAChD,gBAACC,EAAA,EAAD,CACE5C,UAAU,mBACV6C,SAAU1B,IAAkBU,EAAQ,EACpC3B,QAAS,SAAC0B,GAAD,OAAgBD,EAAoBC,EAAOC,EAAQ,KAE3DZ,MAAAA,OALH,EAKGA,EAAOmC,KAAI,SAACO,GACX,GAAIA,EAAKH,SAAWvB,EAAGuB,OAQrB,OAPA5C,EAAU,EACNc,GAAcA,EAAWiC,EAAKH,UAAS5C,EAAU,GACrC,IAAZA,IACFa,MAAAA,GAAAA,EAAY2B,KAAI,SAACQ,GACXA,EAAWJ,SAAWG,EAAKH,SAAQ5C,EAAU,OAInD,uBAAKZ,UAAU,yBAAyB0D,IAAKzB,EAAGwB,IAC9C,gBAAClD,EAAD,CACEG,QAAO,UACLE,EACgB,IAAZA,EACE,oBACA,oBACF,qBAENiD,IAAKF,EAAKG,QACVC,IAAI,WAEN,gBAAChB,EAAA,EAAD,CAAc/C,UAAU,UAAUgD,QAASW,EAAKvB,2B,gPCjHnE4B,GAAwB/E,EAAAA,EAAAA,GAAOgF,EAAAA,EAAPhF,CAAH,I,EAAA,s+B,kBAAA,E,yGC0GlC,EA1FqB,WACnB,IAAQwE,GAAOS,EAAAA,EAAAA,MAAPT,GACMU,GAAWrD,EAAAA,EAAAA,IAAqB,aAAcC,EAAAA,GAApDC,KACMwC,GAAW1C,EAAAA,EAAAA,IAAM,8BAAgC2C,GAAM1C,EAAAA,GAA7DC,KACMoD,GAAYtD,EAAAA,EAAAA,IAAmB,qBAAsBC,EAAAA,GAA3DC,KACR,GAAmCO,EAAAA,EAAAA,YAAWC,EAAAA,GAA1BE,GAApB,EAAQD,WAAR,EAAoBC,YACd2C,GAAUC,EAAAA,EAAAA,MACZ1D,EAAU,EAEVc,GAAc8B,GAAU9B,EAAW8B,KAAS5C,EAAU,GAE1D,IAAM2D,GAAsB9E,EAAAA,EAAAA,cAC1B,SAACC,GACCA,EAAEK,iBACFyE,IAAAA,KAAA,+BACgChB,EADhC,QAC8C,CAAEiB,QAAS,IAAMC,EAAAA,GAC5DC,MAAK,SAACC,GACLP,EAAQQ,KAAR,0BAAgCD,EAAI5D,UAErC8D,OAAM,SAACC,GACmC,aAArCA,EAAMC,SAAShE,KAAKA,KAAKyD,QAC3BQ,EAAAA,GAAAA,MAAY,yCAA0C,CACpDC,UAAW,IACXC,SAAUF,EAAAA,GAAAA,SAAAA,UACVG,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,MAAO,YAGTN,EAAAA,GAAAA,MAAYF,EAAMN,QAAS,CACzBS,UAAW,IACXC,SAAUF,EAAAA,GAAAA,SAAAA,UACVG,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,MAAO,iBAKjB,CAAC/B,EAAQY,IAGLoB,GAAkB/F,EAAAA,EAAAA,cACtB,SAACC,GACCA,EAAEK,iBACE2B,GAAc8B,GAAQa,EAAQQ,KAAR,0BAAgCnD,EAAW8B,OAEvE,CAAC9B,IAGH,OACE,gBAACsC,EAAD,KACE,gBAACyB,EAAA,EAAD,CAAQzF,UAAU,WAChB,gBAAC0F,EAAA,EAAD,KACE,gBAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKjD,UAAU,OAAO3C,UAAU,0BACjDoE,MAAAA,OADH,EACGA,EAAShB,KAAI,SAACO,GACb,GAAIA,EAAKH,QAAUA,EACjB,OACE,uBAAKxD,UAAU,uBAAuB0D,IAAKF,GACzC,gBAAChD,EAAA,EAAD,CAAQR,UAAU,SAAS6D,IAAKF,EAAKG,QAASC,IAAI,WAClD,4BAAOJ,EAAKvB,eAMT,IAAZxB,GAAiBc,GAAcyC,QAAyC0B,IAA/BnE,EAAWyC,MAAAA,OAAD,EAACA,EAAQX,QAC3D,gBAACsC,EAAA,EAAD,CAAQ5F,QAASsF,EAAiBI,QAAQ,YAAY5F,UAAU,aAAhE,SAEE,gBAAC+F,EAAA,EAAD,OAEArE,GAAcyC,GAAUzC,EAAWyC,MAAAA,OAAD,EAACA,EAAQX,QAC7C,gBAACsC,EAAA,EAAD,CAAQ9F,UAAU,sBAAsBE,QAASqE,EAAqByB,UAAQ,GAA9E,aAEE,gBAACC,EAAA,EAAD,OAGF,gBAACH,EAAA,EAAD,CAAQ9F,UAAU,gBAAgBE,QAASqE,GAA3C,aAEE,gBAAC0B,EAAA,EAAD,W,4HClGP,IAAMC,EAAsBjH,EAAAA,EAAAA,IAAH,MAAG,8rBA6CtBkH,EAAelH,EAAAA,EAAAA,IAAH,sjBA2BZ0B,EAAiB1B,EAAAA,EAAAA,IAAH,qJ,0ICvD3B,I,EAyGA,EAzG+B,SAAC,GAAuD,IAsBjFmD,EAtB4BgE,EAAqD,EAArDA,SAAUC,EAA2C,EAA3CA,aAAcC,EAA6B,EAA7BA,cAAeC,EAAc,EAAdA,QACzDnC,GAAYtD,EAAAA,EAAAA,IAAmB,qBAAsBC,EAAAA,GAA3DC,KACMmD,GAAWrD,EAAAA,EAAAA,IAAqB,aAAcC,EAAAA,GAApDC,KACAU,GAAeH,EAAAA,EAAAA,YAAWC,EAAAA,GAA1BE,WACF8E,GAAW/G,EAAAA,EAAAA,cACf,SAACgH,GAC0B,IAArBA,EAAOC,WAAoBJ,GAC7BC,GAAQ,SAACI,GACP,OAAOA,EAAW,KACjBhC,MAAK,WACqB,QAAvB0B,MAAAA,GAAAA,EAAcO,UAChB,UAAAP,EAAaO,eAAb,SAAsBF,WACpB,UAAAL,EAAaO,eAAb,eAAsBC,mBAAoBJ,EAAOK,oBAM3D,CAACP,EAASD,EAAeD,IAGrBU,GAAeC,EAAAA,EAAAA,GAAcZ,EAAWA,EAASa,OAAOC,UAAY,IAG1E,OACE,gBAAChB,EAAD,KACE,gBAAC,KAAD,CACEiB,IAAKd,EACLe,cAAeZ,EACftD,oBAAqB,cAAGC,MAAH,IAAa1C,E,kXAAb,aAAyB,gBAACE,EAAmBF,KAEjE4G,OAAOC,QAAQP,GAAc3D,KAAI,YAAmB,I,IAAA,G,EAAA,E,4CAAA,I,gxBAAjBmE,EAAiB,KAAXC,EAAW,KACnD,OACE,uBAAK9D,IAAK6D,GACR,gBAACpB,EAAD,KACE,8BAASoB,IAEVC,MAAAA,OAJH,EAIGA,EAAOpE,KAAI,SAAClE,EAAM2C,GAEjB,OADAO,EAAW,GAET,uBAAKpC,UAAU,mBAAmB0D,IAAKxE,EAAKuF,QAAU5C,GACpD,uBAAK7B,UAAU,4BACZoE,MAAAA,OADH,EACGA,EAAShB,KAAI,SAACO,GACb,GAAIA,EAAKH,SAAWtE,EAAKuI,QAEvB,OADArF,EAAWuB,EAAKvB,SAEd,gBAAC5B,EAAA,EAAD,CACER,UAAU,SACV6D,IAAKF,EAAKG,QACVC,IAAI,SACJL,IAAKxE,EAAKuF,QAAU5C,QAMd,IAAf3C,EAAKmD,OACJ,2BACE,2BAAMD,GACN,qBAAGpC,UAAU,QAAQd,EAAKuF,WAGb,IAAfvF,EAAKmD,OAA8B,IAAfnD,EAAKmD,QACzB,uBAAKrC,UAAU,0BACb,2BACE,2BAAMoC,GACN,qBAAGpC,UAAU,QAAQd,EAAKuF,UAE3B/C,GAAcyC,GAAUzC,EAAWyC,MAAAA,OAAD,EAACA,EAAQX,QAC1C,gBAACsC,EAAA,EAAD,CAAQ9F,UAAU,2BAA2B4F,QAAQ,YAAYI,UAAQ,GAAzE,QAIA,gBAAC,KAAD,CAAMvD,GAAE,0BAAqBvD,EAAKwI,YAChC,gBAAC5B,EAAA,EAAD,CAAQ9F,UAAU,qBAAqB4F,QAAQ,aAA/C,UAOQ,IAAf1G,EAAKmD,OACJ,uBAAKrC,UAAU,0BACb,2BACE,2BAAMoC,GACN,qBAAGpC,UAAU,QAAQd,EAAKuF,UAE5B,gBAAC,KAAD,CAAMhC,GAAE,wBAAmBvD,EAAKwI,YAC9B,gBAAC5B,EAAA,EAAD,CAAQ9F,UAAU,qBAAqB4F,QAAQ,aAA/C,wB,mBCzGb+B,EAAyB1I,EAAAA,EAAAA,IAAH,M,gHAAG,0F,q9BCiBtC,IA0JA,EA1JsB,WAAM,QAC1B,KAAwBI,EAAAA,EAAAA,UAAS,IAAjC,GAAOH,EAAP,KAAaE,EAAb,KACQqE,GAAOS,EAAAA,EAAAA,MAAPT,GACMU,GAAWrD,EAAAA,EAAAA,IAAqB,aAAcC,EAAAA,GAApDC,KACMwC,GAAW1C,EAAAA,EAAAA,IAAM,8BAAgC2C,GAAM1C,EAAAA,GAA7DC,KACM4G,GAAa9G,EAAAA,EAAAA,IAAM,kBAA+BC,EAAAA,GAAxDC,KACR,KAAkD3B,EAAAA,EAAAA,WAAS,GAA3D,GAA0BwI,GAA1B,WACMC,GAAWC,EAAAA,EAAAA,eAAc,CAAEC,SAAU,MACrCC,GAAiBF,EAAAA,EAAAA,eAAc,CAAEC,SAAU,MAMjD,GAIIE,EAAAA,EAAAA,KACF,SAACrG,GAAD,6CAA2C4B,EAA3C,YAAiD5B,EAAQ,KACzDd,EAAAA,GALMqF,EADR,EACEpF,KACQmH,EAFV,EAEEC,OACA7B,EAHF,EAGEA,QAMIlC,GAAUC,EAAAA,EAAAA,MAEVgC,EADoC,KAA1BF,MAAAA,GAAA,UAAAA,EAAW,UAAX,eAAeiC,SAEjBjC,IAAY,UAAAA,EAASA,EAASiC,OAAS,UAA3B,eAA+BA,QAAS,KAAO,EACnEhC,GAAeiC,EAAAA,EAAAA,QAAmB,MAClCC,GAASC,EAAAA,EAAAA,KAETrJ,GAAeM,EAAAA,EAAAA,cAAY,WAC3BP,MAAAA,GAAAA,EAAMuJ,QAAUrC,IAClB+B,GAAW,SAACO,GAYV,OAXAA,MAAAA,GAAAA,EAAe,GAAGC,QAAQ,CACxBlF,GAAIiF,EAAa,GAAG,GAAGjF,GAAK,EAC5BmF,KAAMC,SAASpF,GACfgE,QAAStD,MAAAA,OAAF,EAAEA,EAAQX,OACjBD,QAASC,EACTiB,QAASvF,EACTmD,MAAO,EACPyG,UAAW,IAAIC,KACfC,UAAW,IAAID,KACfrB,UAAW,IAENgB,KACN,GACHlE,IAAAA,KAAA,+BAE4BhB,EAF5B,QAGI,CACEiB,QAASvF,GAEXwF,EAAAA,GAEDI,OAAM,SAACC,GACmC,aAArCA,EAAMC,SAAShE,KAAKA,KAAKyD,QAC3BQ,EAAAA,GAAAA,MAAY,2CAA4C,CACtDC,UAAW,IACXC,SAAUF,EAAAA,GAAAA,SAAAA,UACVG,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,MAAO,YAGTN,EAAAA,GAAAA,MAAYF,EAAMN,QAAS,CACzBS,UAAW,IACXC,SAAUF,EAAAA,GAAAA,SAAAA,UACVG,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,MAAO,YAGX4C,OAEJ/I,EAAQ,IACR6J,YAAW,WAAM,MACf,UAAA5C,EAAaO,eAAb,SAAsBsC,mBACrB,OAEJ,CAAChK,IAEEiK,GAAY1J,EAAAA,EAAAA,cAChB,SAACuB,GACKA,EAAKyG,UAAWtD,MAAAA,OAAhB,EAAgBA,EAAQX,SAC1B2E,GAAW,SAACiB,GAGV,OAFAA,MAAAA,GAAAA,EAAe,GAAGT,QAAQ3H,GAEnBoI,KACN,GAAOzE,MAAK,WACbkD,GAAqB,SAACwB,GAAD,OAAWA,KAC5BhD,EAAaO,SAEbP,EAAaO,QAAQC,kBACrBR,EAAaO,QAAQ0C,kBAAoBjD,EAAaO,QAAQ2C,eAAiB,KAE/EN,YAAW,WAAM,MACf,UAAA5C,EAAaO,eAAb,SAAsBsC,mBACrB,SAMb,CAAC/E,EAAQkC,IA+BX,OA5BAxG,EAAAA,EAAAA,YAAU,WACR,GAAI+H,EAAU,CACZ,IADY,EACR4B,GAAiB,EADT,E,+lBAAA,CAEK5B,GAFL,IAEZ,2BACE,GADyB,QAChBnE,KAAOoF,SAASpF,GAAK,CAC5B+F,GAAiB,EACjB,OALQ,8BAQRA,GACFnF,EAAQQ,KAAK,YAGhB,CAAC+C,KAEJ/H,EAAAA,EAAAA,YAAU,WAER,OADA0I,MAAAA,GAAAA,EAAQkB,GAAG,KAAMN,GACV,WACLZ,MAAAA,GAAAA,EAAQmB,IAAI,SAEb,CAACnB,EAAQY,KAEZtJ,EAAAA,EAAAA,YAAU,WACoB,MAAH,KAArBuG,MAAAA,OAAA,EAAAA,EAAUiC,UACZ,UAAAhC,EAAaO,eAAb,SAAsBsC,oBAEvB,CAAC9C,IAGF,gCACG0B,EAAW,KAAO,gBAAC6B,EAAA,EAAD,MACnB,gBAAChC,EAAD,KACGM,EAAiB,KAAO,gBAAC,EAAD,MAEzB,gBAAC,EAAD,CACE7B,SAAUA,EACVC,aAAcA,EACdC,cAAeA,EACfC,QAASA,IAEX,gBAACqD,EAAA,EAAD,CAAS1K,KAAMA,EAAME,QAASA,EAASD,aAAcA,Q,qHCpK7D0K,IAAAA,OAAaC,KAEb,IAAMC,EAAO,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAEjD,SAAS/C,EAAcgD,GAC7B,IAAMC,EAA2C,GASjD,OARAD,EAASE,SAAQ,SAAChL,GACjB,IAAIiL,EAAYN,GAAAA,CAAM3K,EAAK4J,WAAWsB,OAAO,cAC7CD,GAAa,IAAMJ,EAAKF,GAAAA,CAAM3K,EAAK4J,WAAWuB,OAC1CC,MAAMC,QAAQN,EAASE,IAC1BF,EAASE,GAAWtF,KAAK3F,GAEzB+K,EAASE,GAAa,CAACjL,MAElB+K,EAGD,SAASO,EAAmBR,GAClC,IAAMC,EAAkD,GAUxD,OATAD,EAASE,SAAQ,SAAChL,GACjBuL,QAAQC,IAAIxL,GACZ,IAAIiL,EAAYN,GAAAA,CAAM3K,EAAK8J,WAAWoB,OAAO,cAC7CD,GAAa,IAAMJ,EAAKF,GAAAA,CAAM3K,EAAK8J,WAAWqB,OAC1CC,MAAMC,QAAQN,EAASE,IAC1BF,EAASE,GAAWtF,KAAK3F,GAEzB+K,EAASE,GAAa,CAACjL,MAElB+K","sources":["webpack://brojoon/./components/ChatBox/style.ts","webpack://brojoon/./components/ChatBox/index.tsx","webpack://brojoon/./components/DMLeftDrawer/style.ts","webpack://brojoon/./components/DMLeftDrawer/index.tsx","webpack://brojoon/./components/DMChatHeader/style.ts","webpack://brojoon/./components/DMChatHeader/index.tsx","webpack://brojoon/./components/DMChatList/style.ts","webpack://brojoon/./components/DMChatList/index.tsx","webpack://brojoon/./pages/DirectMessage/style.ts","webpack://brojoon/./pages/DirectMessage/index.tsx","webpack://brojoon/./utils/makeSection.ts"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const ChatBoxContainer = styled.div`\n\theight: 60px;\n\tbackground-color: #272727;\n\tpadding: 20px 6px 3px 16px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\n\t& .chat-box-form {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t}\n\n\t& .chat-box-input {\n\t\twidth: 95%;\n\t\toutline: none;\n\t\tresize: none;\n\t\tborder-radius: 4px;\n\t\tbackground: #bdbdbd;\n\t\tfont-size: 16px;\n\t\tfont-weight: bold;\n\t\tfont-family: monospace;\n\t\theight: 37px;\n\t\tcolor: black;\n\t\tborder: none;\n\t\tpadding: 10px;\n\t}\n\n\t& .submit-btn {\n\t\tbackground: #272727;\n\t\tbox-shadow: none;\n\t\tborder: none;\n\t\tcolor: white;\n\t\tmargin-left: 10px;\n\t\tcursor: pointer;\n\t}\n`;","import React, { useCallback, useEffect, useState, VFC } from 'react';\nimport Button from '@mui/material/Button';\nimport SendIcon from '@mui/icons-material/Send';\nimport { ChatBoxContainer } from './style';\n\ninterface Props {\n  onSubmitChat: () => void;\n  setChat: (chat: string) => void;\n  chat: string;\n}\n\nconst ChatBox: VFC<Props> = ({ chat, onSubmitChat, setChat }) => {\n  const [chatBoxChat, setChatBoxChat] = useState('');\n  const onChangeChatBoxChat = useCallback((e) => {\n    setChatBoxChat(e.target.value);\n  }, []);\n\n  useEffect(() => {\n    if (chat) {\n      onSubmitChat();\n      setChatBoxChat('');\n    }\n  }, [chat, onSubmitChat]);\n\n  const onSubmitChatBoxChat = useCallback(\n    (e) => {\n      e.preventDefault();\n      setChat(chatBoxChat);\n    },\n    [chatBoxChat, onSubmitChat],\n  );\n\n  return (\n    <ChatBoxContainer>\n      <form className=\"chat-box-form\">\n        <input\n          className=\"chat-box-input\"\n          value={chatBoxChat}\n          onChange={onChangeChatBoxChat}\n        ></input>\n        <button className=\"submit-btn\" onClick={onSubmitChatBoxChat}>\n          <SendIcon />\n        </button>\n      </form>\n    </ChatBoxContainer>\n  );\n};\n\nexport default ChatBox;\n","import styled from '@emotion/styled';\nimport Avatar from '@mui/material/Avatar';\n\nexport const DMLeftDrawerContainer = styled.div`\n\twidth: 300px;\n\theight: 100%;\n\tpadding: 30px 15px;\n\tbackground-color: #363636;\n\tborder-right: 1px solid #4f4f4f;\n\toverflow: hidden;\n\n\t& .search-input {\n\t\twidth: 100%;\n\t\toutline: none;\n\t\tresize: none;\n\t\tborder-radius: 4px;\n\t\tbackground: #bdbdbd;\n\t\tfont-size: 16px;\n\t\tfont-weight: bold;\n\t\tfont-family: monospace;\n\t\theight: 40px;\n\t\tcolor: black;\n\t\tborder: none;\n\t\tpadding: 0 12px;\n\t}\n\n\t& .friend-icon-wrapper {\n\t\tborder-top: 1px solid #4f4f4f;\n\t\tborder-bottom: 1px solid #4f4f4f;\n\t\tmargin: 10px 0;\n\t\tpadding: 14px 0 0;\n\t\theight: 80px;\n\t}\n\n\t& .css-cvhtoe-MuiButtonBase-root-MuiListItemButton-root.Mui-selected {\n\t\tbackground-color: #666666 !important;\n\t}\n\n\t& .friend-list-wrapper {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t& .friend-list-wrapper:hover {\n\t\tbackground-color: rgba(74,75,84,0.7);\n\t}\n\n\t& .friend-list-btn {\n\t\tcolor: white;\n\t}\n\n\t& .friend-list-icon {\n\t\tmargin-right: 20px;\n\t}\n`;\n\nexport const DMListContainer = styled.div`\n\theight: 79%;\n\n\t& .list {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t}\n\n\t& .css-cvhtoe-MuiButtonBase-root-MuiListItemButton-root.Mui-selected {\n\t\tbackground-color: #666666 !important;\n\t}\n\n\t& .list:hover {\n\t\tbackground-color: rgba(74,75,84,0.7);\n\t}\n\n\t& .list-item-button {\n\t\tpadding: 8px;\n\t}\n\n\t& .user-avatar-id-wrapper {\n\t\tdisplay: flex;\n\n\t\talign-items: center;\n\t}\n\n\n\t& .user-id {\n\t\tmargin-left: 12px;\n\t\tcolor: white;\n\t}\n\n\n`;\n\nexport const UserAvatar = styled(Avatar) <{ isstate: string }>`\n\tborder: ${(props) => props.isstate};\n\tmargin-left: 0;\n`;\n\nexport const ScrollbarColor = styled.div`\n  ...style;\n  background-color: #787c7f;\n  width: 8px;\n  border-radius: 5px;\n\n\t&:hover {\n\t\tbackground-color: white;\n\t}\n`;","import React, { useCallback, useState, useContext } from 'react';\nimport ListItemText from '@mui/material/ListItemText';\nimport Scrollbars from 'react-custom-scrollbars';\nimport List from '@mui/material/List';\nimport { IUser, IAllUser, IDmList, IBlockList } from '@typings/db';\nimport fetcher from '@utils/fetcher';\nimport useSWR from 'swr';\nimport { Link } from 'react-router-dom';\nimport EmojiPeopleRoundedIcon from '@mui/icons-material/EmojiPeopleRounded';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport { DMLeftDrawerContainer, DMListContainer, UserAvatar, ScrollbarColor } from './style';\nimport { SocketContext } from '@store/socket';\n\nlet dmlist2: IDmList[] | undefined;\n\nconst DMLeftDrawerBar = () => {\n  const { data: dmlist } = useSWR<IDmList[]>('/api/dms/dmlist', fetcher);\n  const { data: users } = useSWR<IAllUser[]>('/api/users/alluser', fetcher);\n  const { data: blockList } = useSWR<IBlockList[]>(`/api/friend/blocklist`, fetcher);\n  // const { data: myData } = useSWR<IUser | null>('/api/users', fetcher);\n\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const [dmSearchInputValue, setDMSearchInputValue] = useState('');\n  const { onlineList, onGameList } = useContext(SocketContext);\n  let isState;\n\n  const handleListItemClick = useCallback(\n    (event: any, index: number) => {\n      setSelectedIndex(index);\n    },\n    [selectedIndex, setSelectedIndex],\n  );\n\n  const onChangeDMSearchInput = useCallback((e) => {\n    setDMSearchInputValue(e.target.value);\n  }, []);\n\n  if (dmSearchInputValue && dmSearchInputValue.indexOf('\\\\') === -1) {\n    dmlist2 = dmlist?.filter((dm) => {\n      const regex = new RegExp(dmSearchInputValue, 'gi');\n      return dm.username.match(regex);\n    });\n  }\n\n  const getDMList = useCallback(\n    (inputValue: string) => {\n      if (!inputValue) return dmlist;\n      else return dmlist2;\n    },\n    [dmlist],\n  );\n\n  return (\n    <DMLeftDrawerContainer>\n      <input\n        className=\"search-input\"\n        onChange={onChangeDMSearchInput}\n        value={dmSearchInputValue}\n        autoComplete=\"off\"\n      ></input>\n      <div className=\"friend-icon-wrapper\">\n        <Link to={`/social`}>\n          <List className=\"friend-list-wrapper\" component=\"nav\" aria-label=\"main mailbox folders\">\n            <ListItemButton\n              className=\"friend-list-btn\"\n              selected={selectedIndex === 0}\n              onClick={(event: any) => handleListItemClick(event, 0)}\n            >\n              <EmojiPeopleRoundedIcon className=\"friend-list-icon\" />\n              <ListItemText primary=\"Friends\" />\n            </ListItemButton>\n          </List>\n        </Link>\n      </div>\n      <DMListContainer>\n        <Scrollbars\n          autoHide\n          renderThumbVertical={({ style, ...props }) => <ScrollbarColor {...props} />}\n        >\n          <div>\n            {getDMList(dmSearchInputValue)?.map((dm: IDmList, index: number) => {\n              let isblock = false;\n              blockList?.map((blockedUser) => {\n                if (blockedUser.userId2 === dm.userId) isblock = true;\n              });\n              if (!isblock) {\n                return (\n                  <Link to={`/social/dm/${dm.id}`} key={dm.id}>\n                    <List className=\"list\" component=\"nav\" aria-label=\"main mailbox folders\">\n                      <ListItemButton\n                        className=\"list-item-button\"\n                        selected={selectedIndex === index + 1}\n                        onClick={(event: any) => handleListItemClick(event, index + 1)}\n                      >\n                        {users?.map((user: any) => {\n                          if (user.userId === dm.userId) {\n                            isState = 0;\n                            if (onGameList && onGameList[user.userId]) isState = 2;\n                            if (isState === 0) {\n                              onlineList?.map((onlineUser) => {\n                                if (onlineUser.userId === user.userId) isState = 1;\n                              });\n                            }\n                            return (\n                              <div className=\"user-avatar-id-wrapper\" key={dm.id}>\n                                <UserAvatar\n                                  isstate={`${\n                                    isState\n                                      ? isState === 1\n                                        ? '2px solid #1ed14b'\n                                        : '2px solid #FFD400'\n                                      : '2px solid #d63638'\n                                  }`}\n                                  src={user.profile}\n                                  alt=\"Avatar\"\n                                />\n                                <ListItemText className=\"user-id\" primary={user.username} />\n                              </div>\n                            );\n                          }\n                        })}\n                      </ListItemButton>\n                    </List>\n                  </Link>\n                );\n              }\n            })}\n          </div>\n        </Scrollbars>\n      </DMListContainer>\n    </DMLeftDrawerContainer>\n  );\n};\n\nexport default DMLeftDrawerBar;\n","import styled from '@emotion/styled';\nimport Box from '@mui/material/Box';\n\nexport const DMChatHeaderContainer = styled(Box)`\n\tflex-grow: 1;\n\n\t& .wrapper {\n\t\tposition: static;\n\t\tbackground-color: #272727;\n\t}\n\n\t& .user-profile-container {\n\t\tflex-grow: 1;\n\t}\n\n\t& .user-profile-wrapper {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\twhite-space: nowrap;\n\t}\n\n\t& .avatar {\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tleft: -10px;\n\t}\n\n\t& .challenge-btn {\n\t\tbackground-color: rgba(22, 120, 209, 0.8);\n\t\tcolor: white;\n\t\twidth: 160px;\n\t\theight: 35px;\n\t\tpadding: 0 16px;\n\t\tfont-weight: bold;\n\t}\n\n\t& .challenge-btn:hover\t {\n\t\tbackground-color: rgba(22, 120, 209, 1);\n\t}\n\n\n\t& .challenge-block-btn {\n\t\twidth: 160px;\n\t\theight: 35px;\n\t\tpadding: 0 16px;\n\t\tbackground-color: #393939;\n\t\tfont-weight: bold;\n\t}\n\t& .watch-btn {\n\t\twidth: 160px;\n\t\theight: 35px;\n\t\tbackground-color: rgba(255, 212, 0, 0.9);\n\t\tfont-weight: bold;\n\t}\n\n\t& .watch-btn:hover {\n\t\tbackground-color: rgba(255, 212, 0, 1);\n\n\t}\n\n`;","import React, { useCallback, useContext } from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport Avatar from '@mui/material/Avatar';\nimport useSWR from 'swr';\nimport fetcher from '@utils/fetcher';\nimport { IAllUser, IUser } from '@typings/db';\nimport { useParams } from 'react-router-dom';\nimport GamepadIcon from '@mui/icons-material/Gamepad';\nimport axios from 'axios';\nimport config from '@utils/config';\nimport { useHistory } from 'react-router-dom';\nimport { DMChatHeaderContainer } from './style';\nimport { toast } from 'react-toastify';\nimport { SocketContext } from '@store/socket';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\n\nconst DMChatHeader = () => {\n  const { id } = useParams<{ id: string }>();\n  const { data: myData } = useSWR<IUser | null>('/api/users', fetcher);\n  const { data: userId } = useSWR<string>(`/api/dms/findDmUser/${id}`, fetcher);\n  const { data: alluser } = useSWR<IAllUser[]>('/api/users/alluser', fetcher);\n  const { onlineList, onGameList } = useContext(SocketContext);\n  const history = useHistory();\n  let isState = 0;\n\n  if (onGameList && userId && onGameList[userId]) isState = 2;\n\n  const onClickChallengeBtn = useCallback(\n    (e) => {\n      e.preventDefault();\n      axios\n        .post(`/api/dms/sendMessage/${userId}/3/0`, { message: '' }, config)\n        .then((res) => {\n          history.push(`/game/ping-pong/${res.data}`);\n        })\n        .catch((error) => {\n          if (error.response.data.data.message === 'Block 상태') {\n            toast.error('Cant challenge because you are blocked', {\n              autoClose: 4000,\n              position: toast.POSITION.TOP_RIGHT,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              theme: 'colored',\n            });\n          } else {\n            toast.error(error.message, {\n              autoClose: 4000,\n              position: toast.POSITION.TOP_RIGHT,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              theme: 'colored',\n            });\n          }\n        });\n    },\n    [userId, alluser],\n  );\n\n  const onClickWatchBtn = useCallback(\n    (e) => {\n      e.preventDefault();\n      if (onGameList && userId) history.push(`/game/ping-pong/${onGameList[userId]}`);\n    },\n    [onGameList],\n  );\n\n  return (\n    <DMChatHeaderContainer>\n      <AppBar className=\"wrapper\">\n        <Toolbar>\n          <Typography variant=\"h6\" component=\"span\" className=\"user-profile-container\">\n            {alluser?.map((user) => {\n              if (user.userId == userId) {\n                return (\n                  <div className=\"user-profile-wrapper\" key={userId}>\n                    <Avatar className=\"avatar\" src={user.profile} alt=\"Avatar\" />\n                    <span>{user.username}</span>\n                  </div>\n                );\n              }\n            })}\n          </Typography>\n          {isState === 2 && onGameList && myData && onGameList[myData?.userId] === undefined ? (\n            <Button onClick={onClickWatchBtn} variant=\"contained\" className=\"watch-btn\">\n              WATCH&nbsp;\n              <VisibilityIcon />\n            </Button>\n          ) : onGameList && myData && onGameList[myData?.userId] ? (\n            <Button className=\"challenge-block-btn\" onClick={onClickChallengeBtn} disabled>\n              CHALLENGE&nbsp;\n              <GamepadIcon />\n            </Button>\n          ) : (\n            <Button className=\"challenge-btn\" onClick={onClickChallengeBtn}>\n              CHALLENGE&nbsp;\n              <GamepadIcon />\n            </Button>\n          )}\n        </Toolbar>\n      </AppBar>\n    </DMChatHeaderContainer>\n  );\n};\n\nexport default DMChatHeader;\n","import styled from '@emotion/styled';\n\nexport const DMChatListContainer = styled.div`\n\tbackground: #1e1e1e;\n\twidth: 100%;\n\theight: 100%;\n\tpadding: 8px 0 8px 15px;\n\n\t& .chatList-wrapper {\n\t\tcolor: white; \n\t\tdisplay: flex;\n\t}\n\n\t& .chatList-profile-wrapper {\n\t\tmargin-right: 10px;\n\t}\n\n\t& .avatar {\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tmargin-bottom: 25px;\n\t}\n\n\t& .chat {\n\t\tmargin-top: 0;\n\t}\n\n  & .challenge-join-wrapper {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n  }\n\n  & .challenge-join-btn {\n    margin-right: 15px;\n    font-weight: 700;\n\n  }\n\n  & .challenge-join-block-btn {\n    margin-right: 15px;\n    font-weight: 700;\n\t\tbackground-color: #393939;\n  }\n`;\n\nexport const StickyHeader = styled.div`\n  display: flex;\n  justify-content: center;\n  flex: 1;\n  width: 100%;\n  position: sticky;\n  top: 14px;\n\n  & button {\n    font-weight: bold;\n    font-size: 13px;\n    height: 28px;\n\t\tcolor: white;\n    line-height: 27px;\n    padding: 0 16px;\n    z-index: 2;\n    --saf-0: rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 1px 3px 0 rgba(0, 0, 0, 0.08);\n    border-radius: 24px;\n    position: relative;\n    top: -13px;\n    background: #363636;\n    border: none;\n    outline: none;\n  }\n`;\n\nexport const ScrollbarColor = styled.div`\n  ...style;\n  background-color: #787c7f;\n  width: 8px;\n  border-radius: 5px;\n\n\t&:hover {\n\t\tbackground-color: white;\n\t}\n`;","import React, { useCallback, RefObject, VFC, useEffect, useContext } from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport { IChatList, IAllUser, IUser } from '@typings/db';\nimport fetcher from '@utils/fetcher';\nimport Scrollbars from 'react-custom-scrollbars';\nimport useSWR from 'swr';\nimport Button from '@mui/material/Button';\nimport { DMChatListContainer, StickyHeader, ScrollbarColor } from './style';\nimport { makeSectionDM } from '@utils/makeSection';\nimport { Link } from 'react-router-dom';\nimport { SocketContext } from '@store/socket';\n\ninterface Props {\n  chatData: IChatList[][] | undefined;\n  scrollbarRef: RefObject<Scrollbars>;\n  setSize: (f: (size: number) => number) => Promise<IChatList[][] | undefined>;\n  isReachingEnd: boolean;\n}\n\nconst DMChatList: VFC<Props> = ({ chatData, scrollbarRef, isReachingEnd, setSize }) => {\n  const { data: alluser } = useSWR<IAllUser[]>('/api/users/alluser', fetcher);\n  const { data: myData } = useSWR<IUser | null>('/api/users', fetcher);\n  const { onGameList } = useContext(SocketContext);\n  const onScroll = useCallback(\n    (values) => {\n      if (values.scrollTop === 0 && !isReachingEnd) {\n        setSize((prevSize) => {\n          return prevSize + 1;\n        }).then(() => {\n          if (scrollbarRef?.current) {\n            scrollbarRef.current?.scrollTop(\n              scrollbarRef.current?.getScrollHeight() - values.scrollHeight,\n            );\n          }\n        });\n      }\n    },\n    [setSize, isReachingEnd, scrollbarRef],\n  );\n\n  const chatSections = makeSectionDM(chatData ? chatData.flat().reverse() : []);\n  let username;\n\n  return (\n    <DMChatListContainer>\n      <Scrollbars\n        ref={scrollbarRef}\n        onScrollFrame={onScroll}\n        renderThumbVertical={({ style, ...props }) => <ScrollbarColor {...props} />}\n      >\n        {Object.entries(chatSections).map(([date, chats]) => {\n          return (\n            <div key={date}>\n              <StickyHeader>\n                <button>{date}</button>\n              </StickyHeader>\n              {chats?.map((chat, index) => {\n                username = '';\n                return (\n                  <div className=\"chatList-wrapper\" key={chat.message + index}>\n                    <div className=\"chatList-profile-wrapper\">\n                      {alluser?.map((user) => {\n                        if (user.userId === chat.userId1) {\n                          username = user.username;\n                          return (\n                            <Avatar\n                              className=\"avatar\"\n                              src={user.profile}\n                              alt=\"Avatar\"\n                              key={chat.message + index}\n                            />\n                          );\n                        }\n                      })}\n                    </div>\n                    {chat.match === 0 && (\n                      <div>\n                        <div>{username}</div>\n                        <p className=\"chat\">{chat.message}</p>\n                      </div>\n                    )}\n                    {(chat.match === 1 || chat.match === 3) && (\n                      <div className=\"challenge-join-wrapper\">\n                        <div>\n                          <div>{username}</div>\n                          <p className=\"chat\">{chat.message}</p>\n                        </div>\n                        {onGameList && myData && onGameList[myData?.userId] ? (\n                          <Button className=\"challenge-join-block-btn\" variant=\"contained\" disabled>\n                            JOIN\n                          </Button>\n                        ) : (\n                          <Link to={`/game/ping-pong/${chat.historyId}`}>\n                            <Button className=\"challenge-join-btn\" variant=\"contained\">\n                              JOIN\n                            </Button>\n                          </Link>\n                        )}\n                      </div>\n                    )}\n                    {chat.match === 2 && (\n                      <div className=\"challenge-join-wrapper\">\n                        <div>\n                          <div>{username}</div>\n                          <p className=\"chat\">{chat.message}</p>\n                        </div>\n                        <Link to={`/game/history/${chat.historyId}`}>\n                          <Button className=\"challenge-join-btn\" variant=\"contained\">\n                            HISTORY\n                          </Button>\n                        </Link>\n                      </div>\n                    )}\n                  </div>\n                );\n              })}\n            </div>\n          );\n        })}\n      </Scrollbars>\n    </DMChatListContainer>\n  );\n};\n\nexport default DMChatList;\n","import styled from '@emotion/styled';\n\nexport const DirectMessageContainer = styled.div`\n\twidth: 100%;\n\theight: 100vh;\n\tdisplay: flex;\n\tflex-direction: column;\n`;","import ChatBox from '@components/ChatBox';\nimport ChatHeader from '@components/DMChatHeader';\nimport DMChatList from '@components/DMChatList';\nimport { AutoFixOffSharp } from '@mui/icons-material';\nimport { IChatList, IDmList, IUser } from '@typings/db';\nimport fetcher from '@utils/fetcher';\nimport axios from 'axios';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport Scrollbars from 'react-custom-scrollbars';\nimport useSWR from 'swr';\nimport useSWRInfinite from 'swr/infinite';\nimport { useParams, useHistory } from 'react-router-dom';\nimport getSocket from '@utils/useSocket';\nimport config from '@utils/config';\nimport { DirectMessageContainer } from './style';\nimport { toast } from 'react-toastify';\nimport { useMediaQuery } from 'react-responsive';\nimport DMLeftDrawer from '@components/DMLeftDrawer';\n\nconst DirectMessage = () => {\n  const [chat, setChat] = useState('');\n  const { id } = useParams<{ id: string }>();\n  const { data: myData } = useSWR<IUser | null>('/api/users', fetcher);\n  const { data: userId } = useSWR<string>(`/api/dms/findDmUser/${id}`, fetcher);\n  const { data: myDMList } = useSWR<IDmList[]>(`/api/dms/dmlist`, fetcher);\n  const [messageRevalidate, setMessageRevalidate] = useState(false);\n  const isMobile = useMediaQuery({ maxWidth: 700 });\n  const isMobileHeader = useMediaQuery({ maxWidth: 420 });\n\n  // const { data: chatData, mutate: mutateChat } = useSWR<IChatList[]>(\n  //   `/api/dms/getAllMessageUseDmId/${id}`,\n  //   fetcher,\n  // );\n  const {\n    data: chatData,\n    mutate: mutateChat,\n    setSize,\n  } = useSWRInfinite<IChatList[]>(\n    (index) => `/api/dms/get20MessageUseDmId/${id}/${index + 1}`,\n    fetcher,\n  );\n\n  const history = useHistory();\n  const isEmpty = chatData?.[0]?.length === 0;\n  const isReachingEnd =\n    isEmpty || (chatData && chatData[chatData.length - 1]?.length < 20) || false;\n  const scrollbarRef = useRef<Scrollbars>(null);\n  const socket = getSocket();\n\n  const onSubmitChat = useCallback(() => {\n    if (chat?.trim() && chatData) {\n      mutateChat((prevChatData) => {\n        prevChatData?.[0].unshift({\n          id: prevChatData[0][0].id + 1,\n          dmId: parseInt(id),\n          userId1: myData?.userId,\n          userId2: userId,\n          message: chat,\n          match: 0,\n          createdAt: new Date(),\n          updatedAt: new Date(),\n          historyId: 0,\n        });\n        return prevChatData;\n      }, false);\n      axios\n        .post(\n          `/api/dms/sendMessage/${userId}/0/0`,\n          {\n            message: chat,\n          },\n          config,\n        )\n        .catch((error) => {\n          if (error.response.data.data.message === 'Block 상태') {\n            toast.error(' Cant send message because it is blocked', {\n              autoClose: 4000,\n              position: toast.POSITION.TOP_RIGHT,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              theme: 'colored',\n            });\n          } else {\n            toast.error(error.message, {\n              autoClose: 4000,\n              position: toast.POSITION.TOP_RIGHT,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              theme: 'colored',\n            });\n          }\n          mutateChat();\n        });\n      setChat('');\n      setTimeout(() => {\n        scrollbarRef.current?.scrollToBottom();\n      }, 50);\n    }\n  }, [chat]);\n\n  const onMessage = useCallback(\n    (data) => {\n      if (data.userId1 != myData?.userId) {\n        mutateChat((prevchatData) => {\n          prevchatData?.[0].unshift(data);\n\n          return prevchatData;\n        }, false).then(() => {\n          setMessageRevalidate((prev) => !prev);\n          if (scrollbarRef.current) {\n            if (\n              scrollbarRef.current.getScrollHeight() <\n              scrollbarRef.current.getClientHeight() + scrollbarRef.current.getScrollTop() + 150\n            ) {\n              setTimeout(() => {\n                scrollbarRef.current?.scrollToBottom();\n              }, 50);\n            }\n          }\n        });\n      }\n    },\n    [myData, scrollbarRef],\n  );\n\n  useEffect(() => {\n    if (myDMList) {\n      let isUnauthorized = true;\n      for (let item of myDMList) {\n        if (item.id === parseInt(id)) {\n          isUnauthorized = false;\n          break;\n        }\n      }\n      if (isUnauthorized) {\n        history.push('/home');\n      }\n    }\n  }, [myDMList]);\n\n  useEffect(() => {\n    socket?.on('dm', onMessage);\n    return () => {\n      socket?.off('dm');\n    };\n  }, [socket, onMessage]);\n\n  useEffect(() => {\n    if (chatData?.length === 1) {\n      scrollbarRef.current?.scrollToBottom();\n    }\n  }, [chatData]);\n\n  return (\n    <>\n      {isMobile ? null : <DMLeftDrawer />}\n      <DirectMessageContainer>\n        {isMobileHeader ? null : <ChatHeader />}\n\n        <DMChatList\n          chatData={chatData}\n          scrollbarRef={scrollbarRef}\n          isReachingEnd={isReachingEnd}\n          setSize={setSize}\n        />\n        <ChatBox chat={chat} setChat={setChat} onSubmitChat={onSubmitChat} />\n      </DirectMessageContainer>\n    </>\n  );\n};\n\nexport default DirectMessage;\n","import { IChatList, IChannelChatList } from '@typings/db';\nimport customParseFormat from 'dayjs/plugin/customParseFormat'\nimport dayjs from 'dayjs';\ndayjs.extend(customParseFormat);\n\nconst days = ['일요일', '월요일', '화요일', '수요일', '목요일', '금요일', '토요일'];\n\nexport function makeSectionDM(chatList: IChatList[]) {\n\tconst sections: { [key: string]: IChatList[] } = {};\n\tchatList.forEach((chat) => {\n\t\tlet monthData = dayjs(chat.createdAt).format('YYYY-MM-DD');\n\t\tmonthData += ' ' + days[dayjs(chat.createdAt).day()];\n\t\tif (Array.isArray(sections[monthData]))\n\t\t\tsections[monthData].push(chat);\n\t\telse\n\t\t\tsections[monthData] = [chat];\n\t})\n\treturn sections;\n}\n\nexport function makeSectionChannel(chatList: IChannelChatList[]) {\n\tconst sections: { [key: string]: IChannelChatList[] } = {};\n\tchatList.forEach((chat) => {\n\t\tconsole.log(chat);\n\t\tlet monthData = dayjs(chat.updatedAt).format('YYYY-MM-DD');\n\t\tmonthData += ' ' + days[dayjs(chat.updatedAt).day()];\n\t\tif (Array.isArray(sections[monthData]))\n\t\t\tsections[monthData].push(chat);\n\t\telse\n\t\t\tsections[monthData] = [chat];\n\t})\n\treturn sections;\n}"],"names":["ChatBoxContainer","styled","chat","onSubmitChat","setChat","useState","chatBoxChat","setChatBoxChat","onChangeChatBoxChat","useCallback","e","target","value","useEffect","onSubmitChatBoxChat","preventDefault","className","onChange","onClick","Send","dmlist2","DMLeftDrawerContainer","DMListContainer","UserAvatar","Avatar","props","isstate","ScrollbarColor","isState","dmlist","useSWR","fetcher","data","users","blockList","selectedIndex","setSelectedIndex","dmSearchInputValue","setDMSearchInputValue","useContext","SocketContext","onlineList","onGameList","handleListItemClick","event","index","onChangeDMSearchInput","indexOf","filter","dm","regex","RegExp","username","match","getDMList","inputValue","autoComplete","to","List","component","ListItemButton","selected","EmojiPeopleRounded","ListItemText","primary","autoHide","renderThumbVertical","style","map","isblock","blockedUser","userId2","userId","id","key","user","onlineUser","src","profile","alt","DMChatHeaderContainer","Box","useParams","myData","alluser","history","useHistory","onClickChallengeBtn","axios","message","config","then","res","push","catch","error","response","toast","autoClose","position","hideProgressBar","closeOnClick","pauseOnHover","theme","onClickWatchBtn","AppBar","Toolbar","Typography","variant","undefined","Button","Visibility","disabled","Gamepad","DMChatListContainer","StickyHeader","chatData","scrollbarRef","isReachingEnd","setSize","onScroll","values","scrollTop","prevSize","current","getScrollHeight","scrollHeight","chatSections","makeSectionDM","flat","reverse","ref","onScrollFrame","Object","entries","date","chats","userId1","historyId","DirectMessageContainer","myDMList","setMessageRevalidate","isMobile","useMediaQuery","maxWidth","isMobileHeader","useSWRInfinite","mutateChat","mutate","length","useRef","socket","getSocket","trim","prevChatData","unshift","dmId","parseInt","createdAt","Date","updatedAt","setTimeout","scrollToBottom","onMessage","prevchatData","prev","getClientHeight","getScrollTop","isUnauthorized","on","off","DMLeftDrawer","ChatBox","dayjs","customParseFormat","days","chatList","sections","forEach","monthData","format","day","Array","isArray","makeSectionChannel","console","log"],"sourceRoot":""}