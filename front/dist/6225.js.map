{"version":3,"file":"6225.js","mappings":"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","sources":["webpack://brojoon/./components/BasicModal/style.ts","webpack://brojoon/./components/BasicModal/index.tsx","webpack://brojoon/./components/ChatBox/style.ts","webpack://brojoon/./components/ChatBox/index.tsx","webpack://brojoon/./components/ChannelChatHeader/style.ts","webpack://brojoon/./components/ChannelChatHeader/index.tsx","webpack://brojoon/./components/ChannelChatList/style.ts","webpack://brojoon/./components/ChannelChatList/index.tsx","webpack://brojoon/./components/ChannelMemberDrawBar/style.ts","webpack://brojoon/./components/ChannelProfile/style.ts","webpack://brojoon/./components/ChannelProfile/index.tsx","webpack://brojoon/./components/ChannelMemberDrawBar/index.tsx","webpack://brojoon/./components/ChannelRoomSettingModal/style.ts","webpack://brojoon/./components/ChannelRoomSettingModal/index.tsx","webpack://brojoon/./components/ChannelInviteModal/style.ts","webpack://brojoon/./components/ChannelInviteModal/index.tsx","webpack://brojoon/./pages/ChannelRoom/style.ts","webpack://brojoon/./pages/ChannelRoom/index.tsx","webpack://brojoon/./utils/makeSection.ts"],"sourcesContent":["import styled from '@emotion/styled';\r\n\r\nexport const ModalBackground = styled.div`\r\n\tcolor: white;\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tz-index: 6000;\r\n\tbackground-color: rgba(30, 30, 030, 0.5);\r\n\r\n`;\r\n\r\nexport const ModalContent = styled.div`\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\twidth: 400px;\r\n\tbackground-color: #1e1e1e;\r\n\tcolor: #979797;\r\n\topacity: 1;\r\n\tborder: 1px solid #1e1e1e;\r\n\tborder-radius: 4px;\r\n\tz-index: 7000;\r\n\ttransform: translate(-50%, -50%);\r\n\tbox-shadow:\r\n\t\t0 3px 1px -2px rgb(0 0 0 / 20%), 0 2px 2px 0 rgb(0 0 0 / 14%), 0 1px 5px 0 rgb(0 0 0 / 12%);\r\n\r\n\t& .container {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tbackground-color: #fec107;\r\n\t}\r\n\r\n\t& .header {\r\n\t\tmargin: 1px 10px 0 8px;\r\n\t\tfont-size: 20px;\r\n\t\tcolor: white;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t& .header-content {\r\n\t\tmargin: 0 0 0 4px;\r\n\t\tline-height: 22px;\r\n\t}\r\n\r\n\t& .header .emoji {\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t& .content {\r\n\t\tmargin: 10px;\r\n\t}\r\n`\r\n\r\nexport const ButtonContainer = styled.div`\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n\tmargin-top: 15px;\r\n\tfont-weight: 600;\r\n\r\n\t& .noBtn {\r\n\t\tcolor: #979797;\r\n\t}\r\n`;","import React, { VFC } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport ErrorIcon from '@mui/icons-material/Error';\r\nimport { ModalBackground, ModalContent, ButtonContainer } from './style';\r\n\r\ninterface Props {\r\n  content: string;\r\n  headerContent: string;\r\n  NoBtn: (e: any) => void;\r\n  YesBtn: (e: any) => void;\r\n}\r\nconst BasicModal: VFC<Props> = ({ content, NoBtn, YesBtn, headerContent }) => {\r\n  return (\r\n    <>\r\n      <ModalBackground onClick={NoBtn}></ModalBackground>\r\n      <ModalContent>\r\n        <div className=\"container\">\r\n          <div className=\"header\">\r\n            <ErrorIcon className=\"emoji\" />\r\n            <div className=\"header-content\">{headerContent}</div>\r\n          </div>\r\n          <div>\r\n            <IconButton className=\"emoji\" onClick={NoBtn}>\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n        <div className=\"content\">{content}</div>\r\n        <ButtonContainer>\r\n          <Button className=\"noBtn\" onClick={NoBtn} variant=\"text\">\r\n            NO\r\n          </Button>\r\n          <Button onClick={YesBtn} variant=\"text\">\r\n            YES\r\n          </Button>\r\n        </ButtonContainer>\r\n      </ModalContent>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BasicModal;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ChatBoxContainer = styled.div`\r\n\theight: 60px;\r\n\tbackground-color: #272727;\r\n\tpadding: 20px 6px 3px 16px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\r\n\t& .chat-box-form {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t& .chat-box-input {\r\n\t\twidth: 95%;\r\n\t\toutline: none;\r\n\t\tresize: none;\r\n\t\tborder-radius: 4px;\r\n\t\tbackground: #bdbdbd;\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: bold;\r\n\t\tfont-family: monospace;\r\n\t\theight: 37px;\r\n\t\tcolor: black;\r\n\t\tborder: none;\r\n\t\tpadding: 10px;\r\n\t}\r\n\r\n\t& .submit-btn {\r\n\t\tbackground: #272727;\r\n\t\tbox-shadow: none;\r\n\t\tborder: none;\r\n\t\tcolor: white;\r\n\t\tmargin-left: 10px;\r\n\t\tcursor: pointer;\r\n\t}\r\n`;","import React, { useCallback, useEffect, useState, VFC } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport { ChatBoxContainer } from './style';\r\n\r\ninterface Props {\r\n  onSubmitChat: () => void;\r\n  setChat: (chat: string) => void;\r\n  chat: string;\r\n}\r\n\r\nconst ChatBox: VFC<Props> = ({ chat, onSubmitChat, setChat }) => {\r\n  const [chatBoxChat, setChatBoxChat] = useState('');\r\n  const onChangeChatBoxChat = useCallback((e) => {\r\n    setChatBoxChat(e.target.value);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (chat) {\r\n      onSubmitChat();\r\n      setChatBoxChat('');\r\n    }\r\n  }, [chat, onSubmitChat]);\r\n\r\n  const onSubmitChatBoxChat = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      setChat(chatBoxChat);\r\n    },\r\n    [chatBoxChat, onSubmitChat],\r\n  );\r\n\r\n  return (\r\n    <ChatBoxContainer>\r\n      <form className=\"chat-box-form\">\r\n        <input\r\n          className=\"chat-box-input\"\r\n          value={chatBoxChat}\r\n          onChange={onChangeChatBoxChat}\r\n        ></input>\r\n        <button className=\"submit-btn\" onClick={onSubmitChatBoxChat}>\r\n          <SendIcon />\r\n        </button>\r\n      </form>\r\n    </ChatBoxContainer>\r\n  );\r\n};\r\n\r\nexport default ChatBox;\r\n","import styled from '@emotion/styled';\r\nimport Toolbar from '@mui/material/Toolbar';\r\n\r\nexport const MyToolbar = styled(Toolbar)`\r\n\t.myFab {\r\n\t\twidth: 45px;\r\n\t\theight: 45px;\r\n\t\tbox-shadow: none;\r\n\t\tcolor: white;\r\n\t}\r\n\t.on {\r\n\t\tbackground-color: #4d4d4d;\r\n\t}\r\n\t.off {\r\n\t\tbackground-color: #272727;\r\n\t}\r\n\t.myFab:hover {\r\n\t\tbackground-color: #4a4b54;\r\n\t}\r\n\r\n`;\r\n\r\n","import React, { VFC } from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\nimport Typography from '@mui/material/Typography';\r\nimport { IMemberList, IChannelList } from '@typings/db';\r\nimport { useParams } from 'react-router-dom';\r\nimport GroupsIcon from '@mui/icons-material/Groups';\r\nimport useSWR from 'swr';\r\nimport fetcher from '@utils/fetcher';\r\nimport Fab from '@mui/material/Fab';\r\nimport { MyToolbar } from './style';\r\n\r\ninterface Props {\r\n  onClickMembersToggle: (e: any) => void;\r\n  membersToggle: boolean;\r\n}\r\n\r\nconst ChannelChatHeader: VFC<Props> = ({ onClickMembersToggle, membersToggle }) => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const { data: myChannelList, mutate: mutateMyChannelList } = useSWR<IChannelList[]>(\r\n    `/api/channels/myChannelList`,\r\n    fetcher,\r\n  );\r\n  return (\r\n    <Box>\r\n      <AppBar position=\"static\" sx={{ bgcolor: '#272727' }}>\r\n        <MyToolbar>\r\n          <Typography variant=\"h6\" component=\"span\" sx={{ flexGrow: 1 }}>\r\n            {myChannelList?.map((channel: IChannelList) => {\r\n              if (channel.id === parseInt(id)) {\r\n                return channel.name;\r\n              }\r\n            })}\r\n          </Typography>\r\n          <Fab\r\n            aria-label=\"add\"\r\n            className={'myFab ' + (membersToggle ? 'on' : 'off')}\r\n            onClick={onClickMembersToggle}\r\n          >\r\n            <GroupsIcon />\r\n          </Fab>\r\n        </MyToolbar>\r\n      </AppBar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ChannelChatHeader;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ChannelChatListContainer = styled.div`\r\n\tbackground: #1e1e1e;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tpadding: 8px 0 8px 15px;\r\n\r\n\t& .chat-container {\r\n\t\tdisplay: flex;\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t& .profile-container {\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t& .chat-avatar {\r\n\t\twidth: 40px;\r\n\t\theight: 40px;\r\n\t\tmargin-bottom: 25px;\r\n\t}\r\n\r\n\t& .chat-text {\r\n\t\tmargin-top: 0;\r\n\t}\r\n`;\r\n\r\nexport const StickyHeader = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex: 1;\r\n  width: 100%;\r\n  position: sticky;\r\n  top: 14px;\r\n\r\n  & button {\r\n    font-weight: bold;\r\n    font-size: 13px;\r\n    height: 28px;\r\n\t\tcolor: white;\r\n    line-height: 27px;\r\n    padding: 0 16px;\r\n    z-index: 2;\r\n    --saf-0: rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);\r\n    box-shadow: 0 0 0 1px var(--saf-0), 0 1px 3px 0 rgba(0, 0, 0, 0.08);\r\n    border-radius: 24px;\r\n    position: relative;\r\n    top: -13px;\r\n    background: #363636;\r\n    border: none;\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport const ScrollbarColor = styled.div`\r\n  ...style;\r\n  background-color: #787c7f;\r\n  width: 8px;\r\n  border-radius: 5px;\r\n\r\n  &:hover {\r\n\t\tbackground-color: white;\r\n\t}\r\n`;","import Avatar from '@mui/material/Avatar';\r\nimport { IAllUser, IUser, IChannelChatList, IBlockList } from '@typings/db';\r\nimport fetcher from '@utils/fetcher';\r\nimport React, { RefObject, VFC, useCallback } from 'react';\r\nimport Scrollbars from 'react-custom-scrollbars';\r\nimport { useParams } from 'react-router';\r\nimport useSWR from 'swr';\r\nimport { ChannelChatListContainer, StickyHeader, ScrollbarColor } from './style';\r\nimport { makeSectionChannel } from '@utils/makeSection';\r\n\r\ninterface Props {\r\n  chatData: IChannelChatList[][] | undefined;\r\n  scrollbarRef: RefObject<Scrollbars>;\r\n  setSize: (f: (size: number) => number) => Promise<IChannelChatList[][] | undefined>;\r\n  isReachingEnd: boolean;\r\n}\r\n\r\nconst ChannelChatList: VFC<Props> = ({ chatData, scrollbarRef, setSize, isReachingEnd }) => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const { data: alluser } = useSWR<IAllUser[]>('/api/users/alluser', fetcher);\r\n  const { data: blockList } = useSWR<IBlockList[]>('/api/friend/blocklist', fetcher);\r\n  const { data: myData } = useSWR<IUser | null>('/api/users', fetcher);\r\n\r\n  const onScroll = useCallback(\r\n    (values) => {\r\n      if (values.scrollTop === 0 && !isReachingEnd) {\r\n        setSize((prevSize) => {\r\n          return prevSize + 1;\r\n        }).then(() => {\r\n          if (scrollbarRef?.current) {\r\n            scrollbarRef.current?.scrollTop(\r\n              scrollbarRef.current?.getScrollHeight() - values.scrollHeight,\r\n            );\r\n          }\r\n        });\r\n      }\r\n    },\r\n    [scrollbarRef, setSize, isReachingEnd],\r\n  );\r\n\r\n  const chatSections = makeSectionChannel(chatData ? chatData.flat().reverse() : []);\r\n  let username = '';\r\n\r\n  return (\r\n    <ChannelChatListContainer>\r\n      <Scrollbars\r\n        ref={scrollbarRef}\r\n        onScrollFrame={onScroll}\r\n        renderThumbVertical={({ style, ...props }) => <ScrollbarColor {...props} />}\r\n      >\r\n        {Object.entries(chatSections).map(([date, chats], index) => {\r\n          return (\r\n            <div key={index}>\r\n              <StickyHeader>\r\n                <button>{date}</button>\r\n              </StickyHeader>\r\n              {chats?.map((chat: IChannelChatList, index) => {\r\n                let isblock = false;\r\n                blockList?.map((blockUser) => {\r\n                  if (chat.userId === blockUser.userId2) isblock = true;\r\n                });\r\n                if (!isblock) {\r\n                  return (\r\n                    <div className=\"chat-container\" key={index}>\r\n                      <div className=\"profile-container \">\r\n                        {alluser?.map((user) => {\r\n                          if (user.userId === chat.userId) {\r\n                            username = user.username;\r\n                            return (\r\n                              <Avatar\r\n                                className=\"chat-avatar\"\r\n                                src={user.profile}\r\n                                alt=\"Avatar\"\r\n                                key={chat.message + index}\r\n                              />\r\n                            );\r\n                          }\r\n                        })}\r\n                      </div>\r\n                      <div>\r\n                        <div>{username}</div>\r\n                        <p className=\"chat-text\">{chat.message}</p>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                }\r\n              })}\r\n            </div>\r\n          );\r\n        })}\r\n      </Scrollbars>\r\n    </ChannelChatListContainer>\r\n  );\r\n};\r\n\r\nexport default ChannelChatList;\r\n","import styled from '@emotion/styled';\r\nimport Avatar from '@mui/material/Avatar';\r\n\r\nexport const ModalBackground = styled.div`\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba(30, 30, 030, 0.5);\r\n\tz-index: 100;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n\r\n\t&.MemberDrawBar {\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t  background-color: #363636;\r\n\t\twidth: 230px;\r\n\t\theight: 100%;\r\n\t\tmargin: 0;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tz-index: 500;\r\n\t\tdisplay: flex;\r\n\t\tpadding-bottom: 3px;\r\n\t}\r\n\t&.hidden {\r\n\t\ttransform: translateX(100%);\r\n\t\tvisibility: none;\r\n\t\ttransition: all ease-in 0.2s;\r\n\t}\r\n  &.visible {\r\n\t\ttransform: translateX(0%);\r\n\t\ttransition: all ease-out 0.2s;\r\n\t\tborder-left: 1px solid #4f4f4f;\r\n\t}\r\n\r\n\t& .List-header {\r\n\t\tfont-size: 16px;\r\n\t\tmargin-top: 11px;\r\n\t\tcolor: gray;\r\n\t}\r\n\r\n\t& .member-text {\r\n\t\tmargin-left: 12px;\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t& .channel-room-btn {\r\n\t\twidth: 200px;\r\n\t\theight: 35px;\r\n\t\tbackground-color: #597aff;\r\n\t\tborder-color: #597aff;\r\n\t\tfont-weight: bold;\r\n\t\tmargin: 10px 0;\r\n\t}\r\n\r\n\t& .unmute-icon {\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t& .mute-icon {\r\n\t\tcolor: red;\r\n\t}\r\n`;\r\n\r\nexport const UserAvatar = styled(Avatar) <{ isstate: string }>`\r\n\tborder: ${(props) => props.isstate};\r\n\twidth: 45px;\r\n\theight: 45px;\r\n`;\r\n\r\nexport const ScrollbarColor = styled.div`\r\n  ...style;\r\n  background-color: #787c7f;\r\n  width: 8px;\r\n  border-radius: 5px;\r\n\r\n\t&:hover {\r\n\t\tbackground-color: white;\r\n\t}\r\n`;","import styled from '@emotion/styled';\r\nimport Button from '@mui/material/Button';\r\n\r\nexport const Container = styled.div`\r\n\tfont-size: 20px;\r\n\twidth: 300px;\r\n\theight: 360px;\r\n\tfont-Weight: 600;\r\n\tbackground-Color: #1e1e1e;\r\n\tcolor: white;\r\n\tposition: fixed;\r\n\tleft: -301px;\r\n\tbox-shadow: 0 3px 1px -2px rgb(0 0 0 / 20%), 0 2px 2px 0 rgb(0 0 0 / 14%), 0 1px 5px 0 rgb(0 0 0 / 12%);\r\n\r\n\t& .header {\r\n\t\tborder-bottom: 1px solid #3a3a3a;\r\n\t}\r\n\r\n\t& .header-wrapper {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin: 12px 15px 20px 20px;\r\n\t}\r\n\r\n\t& .user-text {\r\n\t\tmargin-left: 14px;\r\n\t}\r\n\r\n\r\n\t& .avatar {\r\n\t\tmargin-top: 5px;\r\n\t\twidth: 50px;\r\n\t\theight: 50px;\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n`;\r\n\r\nexport const AdminBtn = styled(Button) <{ btncolor: string }>`\r\n\tcolor: ${(props) => props.btncolor};\r\n\tfont-weight: 600;\r\n\tmargin: 0 0 0 40px;\r\n`;\r\n\r\nexport const MatchDataContainer = styled.div`\r\n\tborder-bottom: 1px solid #3a3a3a;\r\n\r\n\t& .count-wrapper {\r\n\t\tmargin: 17px 15px 20px 20px;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t& .match-icon {\r\n\t\tfont-size: 40px;\r\n\t}\r\n\r\n\t& .match-text {\r\n\t\twidth: 100%;\r\n\t\tmargin-left: 15px;\r\n\t\tline-height: 40px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n`;\r\n\r\nexport const ButtonGroupsContainer = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\r\n\t& .profile-message-wrapper {\r\n\t\tborder-bottom: 1px solid #3a3a3a;\r\n\t}\r\n\r\n\t& .profile-btn {\r\n\t\tcolor: #979797;\r\n\t\tfont-weight: 600;\r\n\t\tmargin: 17px 15px 20px 20px;\r\n\t}\r\n\r\n\t& .message-btn {\r\n\t\tcolor: #43a047;\r\n\t\tfont-weight: 600;\r\n\t\tmargin: 17px 15px 20px 20px;\r\n\t}\r\n\r\n\t& .mute-kick-ban-btn {\r\n\t\tcolor: #d50000;\r\n\t\tfont-weight: 600;\r\n\t\tmargin: 17px 15px 20px 20px;\r\n\t}\r\n`;\r\n","import React, { VFC, useCallback } from 'react';\r\nimport EmojiEventsIcon from '@mui/icons-material/EmojiEvents';\r\nimport EventBusyIcon from '@mui/icons-material/EventBusy';\r\nimport { IAllUser, IMemberList, IUser, IDmList, IBlockList, IAchievement } from '@typings/db';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Button from '@mui/material/Button';\r\nimport axios from 'axios';\r\nimport { useParams, Link, useHistory } from 'react-router-dom';\r\nimport fetcher from '@utils/fetcher';\r\nimport useSWR from 'swr';\r\nimport config from '@utils/config';\r\nimport { Container, AdminBtn, MatchDataContainer, ButtonGroupsContainer } from './style';\r\nimport { toast } from 'react-toastify';\r\n\r\ninterface Props {\r\n  user: IAllUser;\r\n  setSelectedIndex: (e: any) => void;\r\n}\r\n\r\nconst ChannelProfile: VFC<Props> = ({ user, setSelectedIndex }) => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const { data: dmList, mutate: mutateDmList } = useSWR<IDmList[]>('/api/dms/dmlist', fetcher);\r\n  const { data: myData } = useSWR<IUser | null>('/api/users', fetcher);\r\n  const { data: MymuteMmbers, mutate: mutateMymuteMmbers } = useSWR<IMemberList[]>(\r\n    `/api/channels/mutedMembers/${id}`,\r\n    fetcher,\r\n  );\r\n  const { data: blockList } = useSWR<IBlockList[]>(`/api/friend/blocklist`, fetcher);\r\n  const { data: channelUserList, mutate: mutateChannelUserList } = useSWR<IMemberList[]>(\r\n    `/api/channels/userList/${id}`,\r\n    fetcher,\r\n  );\r\n\r\n  const { data: winCount } = useSWR<IAchievement>(\r\n    `/api/game/achievement/numOfWin/${user.userId}`,\r\n    fetcher,\r\n  );\r\n  const { data: loseCount } = useSWR<IAchievement>(\r\n    `/api/game/achievement/numOfLose/${user.userId}`,\r\n    fetcher,\r\n  );\r\n\r\n  let isBlcok = false;\r\n\r\n  const history = useHistory();\r\n  let myAuth = -1;\r\n  let userAuth = -1;\r\n\r\n  channelUserList?.map((channeluser) => {\r\n    if (channeluser.userId === user.userId) {\r\n      userAuth = channeluser.auth;\r\n    } else if (channeluser.userId === myData?.userId) {\r\n      myAuth = channeluser.auth;\r\n    }\r\n  });\r\n\r\n  const onClickMuteBtn = useCallback((e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .get(`/api/channels/muteUser/${id}/${user.userId}/20`, config)\r\n      .then((res) => {\r\n        setSelectedIndex(-1);\r\n      })\r\n      .catch((error) => {\r\n        toast.error(error.message, {\r\n          autoClose: 4000,\r\n          position: toast.POSITION.TOP_RIGHT,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          theme: 'colored',\r\n        });\r\n      });\r\n  }, []);\r\n\r\n  const onClickKickBtn = useCallback((e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .get(`/api/channels/kickUser/${id}/${user.userId}`, config)\r\n      .then((res) => {\r\n        setSelectedIndex(-1);\r\n      })\r\n      .catch((error) => {\r\n        toast.error(error.message, {\r\n          autoClose: 4000,\r\n          position: toast.POSITION.TOP_RIGHT,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          theme: 'colored',\r\n        });\r\n      });\r\n  }, []);\r\n\r\n  const onClickBanBtn = useCallback((e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .get(`/api/channels/banUser/${id}/${user.userId}`, config)\r\n      .then((res) => {\r\n        setSelectedIndex(-1);\r\n      })\r\n      .catch((error) => {\r\n        toast.error(error.message, {\r\n          autoClose: 4000,\r\n          position: toast.POSITION.TOP_RIGHT,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          theme: 'colored',\r\n        });\r\n      });\r\n  }, []);\r\n\r\n  const onClickMessageBtn = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      axios\r\n        .get(`/api/dms/create/${user.userId}`, config)\r\n        .then((res) => {\r\n          mutateDmList().then(() => {\r\n            history.push(`/social/dm/${res.data}`);\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          toast.error(error.message, {\r\n            autoClose: 4000,\r\n            position: toast.POSITION.TOP_RIGHT,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            theme: 'colored',\r\n          });\r\n        });\r\n    },\r\n    [user, mutateDmList, dmList],\r\n  );\r\n\r\n  const onClickAppointAdmin = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      if (userAuth === 0) {\r\n        axios\r\n          .get(`/api/channels/giveAdmin/${id}/${user.userId}`, config)\r\n          .then(() => {\r\n            setSelectedIndex(-1);\r\n            // mutateChannelUserList();\r\n          })\r\n          .catch((error) => {\r\n            toast.error(error.message, {\r\n              autoClose: 4000,\r\n              position: toast.POSITION.TOP_RIGHT,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              theme: 'colored',\r\n            });\r\n          });\r\n      } else if (userAuth === 1) {\r\n        axios\r\n          .get(`/api/channels/removeAdmin/${id}/${user.userId}`, config)\r\n          .then(() => {\r\n            setSelectedIndex(-1);\r\n            // mutateChannelUserList();\r\n          })\r\n          .catch((error) => {\r\n            toast.error(error.message, {\r\n              autoClose: 4000,\r\n              position: toast.POSITION.TOP_RIGHT,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              theme: 'colored',\r\n            });\r\n          });\r\n      }\r\n    },\r\n    [myAuth],\r\n  );\r\n  return (\r\n    <Container>\r\n      <div className=\"header\">\r\n        <div className=\"header-wrapper\">\r\n          <Avatar className=\"avatar\" src={user.profile} alt=\"Avatar\" />\r\n          <div className=\"user-text\">{user.username}</div>\r\n          <div className=\"admin-btn\">\r\n            {myAuth === 2 && userAuth !== 2 && (\r\n              <AdminBtn\r\n                onClick={onClickAppointAdmin}\r\n                btncolor={`${userAuth === 1 ? '#f33c36' : '#002BC'}`}\r\n                variant=\"text\"\r\n              >\r\n                admin\r\n              </AdminBtn>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <MatchDataContainer>\r\n        <div className=\"count-wrapper\">\r\n          <EmojiEventsIcon className=\"match-icon\" />\r\n          <div className=\"match-text\">\r\n            <span>Win Count</span>\r\n            <span>{winCount?.number}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"count-wrapper\">\r\n          <EventBusyIcon className=\"match-icon\" />\r\n          <div className=\"match-text\">\r\n            <span>Lose Count</span>\r\n            <span>{loseCount?.number}</span>\r\n          </div>\r\n        </div>\r\n      </MatchDataContainer>\r\n      <ButtonGroupsContainer>\r\n        <div className=\"profile-message-wrapper\">\r\n          <Link to={`/users/${user.userId}`}>\r\n            <Button className=\"profile-btn\" variant=\"text\">\r\n              profile\r\n            </Button>\r\n          </Link>\r\n          {blockList?.map((blockedUser: IBlockList) => {\r\n            if (blockedUser.userId2 === user.userId) isBlcok = true;\r\n          })}\r\n          {!isBlcok && (\r\n            <Button className=\"message-btn\" onClick={onClickMessageBtn} variant=\"text\">\r\n              message\r\n            </Button>\r\n          )}\r\n        </div>\r\n        {userAuth === 0 && (myAuth === 1 || myAuth === 2) && (\r\n          <div>\r\n            <Button onClick={onClickMuteBtn} className=\"mute-kick-ban-btn\" variant=\"text\">\r\n              mute\r\n            </Button>\r\n            <Button onClick={onClickKickBtn} className=\"mute-kick-ban-btn\" variant=\"text\">\r\n              kick\r\n            </Button>\r\n            <Button onClick={onClickBanBtn} className=\"mute-kick-ban-btn\" variant=\"text\">\r\n              ban\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </ButtonGroupsContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ChannelProfile;\r\n","import React, { VFC, useState, useCallback, useContext } from 'react';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport Scrollbars from 'react-custom-scrollbars';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { IAllUser, IMemberList, IUser, IChannelList } from '@typings/db';\r\nimport useSWR from 'swr';\r\nimport fetcher from '@utils/fetcher';\r\nimport Button from '@mui/material/Button';\r\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport PersonAddAlt1RoundedIcon from '@mui/icons-material/PersonAddAlt1Rounded';\r\nimport { Container } from './style';\r\nimport ChannelProfile from '@components/ChannelProfile';\r\nimport VoiceOverOffIcon from '@mui/icons-material/VoiceOverOff';\r\nimport RecordVoiceOverIcon from '@mui/icons-material/RecordVoiceOver';\r\nimport { ModalBackground, UserAvatar, ScrollbarColor } from './style';\r\nimport { SocketContext } from '@store/socket';\r\n\r\ninterface Props {\r\n  onClickSettingBtn: (e: any) => void;\r\n  onClickMembersToggle: (e: any) => void;\r\n  onClickChannelLeaveModal: (e: any) => void;\r\n  onClickChannelInviteModal: (e: any) => void;\r\n  onClickMember: (e: any, index: number) => void;\r\n  selectedIndex: number;\r\n  setSelectedIndex: (e: any) => void;\r\n  membersToggle: boolean;\r\n}\r\nconst ChannelMemberDrawBar: VFC<Props> = ({\r\n  onClickMembersToggle,\r\n  onClickSettingBtn,\r\n  onClickChannelLeaveModal,\r\n  onClickChannelInviteModal,\r\n  onClickMember,\r\n  selectedIndex,\r\n  setSelectedIndex,\r\n  membersToggle,\r\n}) => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const { data: memberList } = useSWR<IMemberList[]>(`/api/channels/userList/${id}`, fetcher);\r\n  const { data: alluser } = useSWR<IAllUser[], any[]>('/api/users/alluser', fetcher);\r\n  const { data: isOwner } = useSWR<boolean>(`/api/channels/checkOwner/${id}`, fetcher);\r\n  const { data: isAdmin } = useSWR<boolean>(`/api/channels/checkAdmin/${id}`, fetcher);\r\n\r\n  const { data: myData } = useSWR<IUser | null>('/api/users', fetcher);\r\n  // const { data: MymuteMmbers, mutate: mutateMymuteMmbers } = useSWR<IMemberList[]>(\r\n  //   `/api/channels/mutedMembers/${id}`,\r\n  //   fetcher,\r\n  // );\r\n  const { onlineList, onGameList } = useContext(SocketContext);\r\n  let isState;\r\n  const history = useHistory();\r\n\r\n  if (memberList?.length === 0) {\r\n    history.push('/channels');\r\n  }\r\n  return (\r\n    <>\r\n      {membersToggle && <ModalBackground onClick={onClickMembersToggle}></ModalBackground>}\r\n      <Container className={'MemberDrawBar ' + (membersToggle ? 'visible' : 'hidden')}>\r\n        <Scrollbars renderThumbVertical={({ style, ...props }) => <ScrollbarColor {...props} />}>\r\n          <div>\r\n            <ListItem className=\"List-header\">Owner</ListItem>\r\n            {memberList &&\r\n              memberList?.map((member) => {\r\n                if (member.auth === 2) {\r\n                  return alluser?.map((user, index) => {\r\n                    if (user.userId == member.userId) {\r\n                      isState = 0;\r\n                      if (onGameList && onGameList[user.userId]) isState = 2;\r\n                      if (isState === 0) {\r\n                        onlineList?.map((onlineUser) => {\r\n                          if (onlineUser.userId === user.userId) isState = 1;\r\n                        });\r\n                      }\r\n\r\n                      return (\r\n                        <div key={user.userId}>\r\n                          {selectedIndex === index && user.userId !== myData?.userId && (\r\n                            <ChannelProfile user={user} setSelectedIndex={setSelectedIndex} />\r\n                          )}\r\n                          <ListItem button onClick={(e) => onClickMember(e, index)}>\r\n                            <UserAvatar\r\n                              isstate={`${\r\n                                isState\r\n                                  ? isState === 1\r\n                                    ? '2px solid #1ed14b'\r\n                                    : '2px solid #FFD400'\r\n                                  : '2px solid #d63638'\r\n                              }`}\r\n                              src={user.profile}\r\n                              alt=\"Avatar\"\r\n                            />\r\n                            <ListItemText className=\"member-text\" primary={user.username} />\r\n                            <RecordVoiceOverIcon className=\"unmute-icon\" />\r\n                          </ListItem>\r\n                        </div>\r\n                      );\r\n                    }\r\n                  });\r\n                }\r\n              })}\r\n            <ListItem className=\"List-header\">Admin</ListItem>\r\n            {memberList &&\r\n              memberList?.map((member) => {\r\n                if (member.auth === 1) {\r\n                  return alluser?.map((user, index) => {\r\n                    if (user.userId == member.userId) {\r\n                      isState = 0;\r\n                      if (onGameList && onGameList[user.userId]) isState = 2;\r\n                      if (isState === 0) {\r\n                        onlineList?.map((onlineUser) => {\r\n                          if (onlineUser.userId === user.userId) isState = 1;\r\n                        });\r\n                      }\r\n                      return (\r\n                        <div key={user.userId}>\r\n                          {selectedIndex === index && user.userId !== myData?.userId && (\r\n                            <ChannelProfile user={user} setSelectedIndex={setSelectedIndex} />\r\n                          )}\r\n                          <ListItem button onClick={(e) => onClickMember(e, index)}>\r\n                            <UserAvatar\r\n                              isstate={`${\r\n                                isState\r\n                                  ? isState === 1\r\n                                    ? '2px solid #1ed14b'\r\n                                    : '2px solid #FFD400'\r\n                                  : '2px solid #d63638'\r\n                              }`}\r\n                              src={user.profile}\r\n                              alt=\"Avatar\"\r\n                            />\r\n                            <ListItemText className=\"member-text\" primary={user.username} />\r\n                            <RecordVoiceOverIcon className=\"unmute-icon\" />\r\n                          </ListItem>\r\n                        </div>\r\n                      );\r\n                    }\r\n                  });\r\n                }\r\n              })}\r\n            <ListItem className=\"List-header\">Users</ListItem>\r\n            {memberList &&\r\n              memberList?.map((member) => {\r\n                if (member.auth === 0) {\r\n                  return alluser?.map((user, index) => {\r\n                    if (user.userId == member.userId) {\r\n                      isState = 0;\r\n                      if (onGameList && onGameList[user.userId]) isState = 2;\r\n                      if (isState === 0) {\r\n                        onlineList?.map((onlineUser) => {\r\n                          if (onlineUser.userId === user.userId) isState = 1;\r\n                        });\r\n                      }\r\n                      // let isMute = false;\r\n                      // MymuteMmbers?.map((muteMember: IMemberList) => {\r\n                      //   if (muteMember.userId === user.userId) {\r\n                      //     if (muteMember.mute) isMute = true;\r\n                      //   }\r\n                      // });\r\n                      return (\r\n                        <div key={user.userId}>\r\n                          {selectedIndex === index && user.userId !== myData?.userId && (\r\n                            <ChannelProfile user={user} setSelectedIndex={setSelectedIndex} />\r\n                          )}\r\n                          <ListItem button onClick={(e) => onClickMember(e, index)}>\r\n                            <UserAvatar\r\n                              isstate={`${\r\n                                isState\r\n                                  ? isState === 1\r\n                                    ? '2px solid #1ed14b'\r\n                                    : '2px solid #FFD400'\r\n                                  : '2px solid #d63638'\r\n                              }`}\r\n                              src={user.profile}\r\n                              alt=\"Avatar\"\r\n                            />\r\n                            <ListItemText className=\"member-text\" primary={user.username} />\r\n                            {member.mute ? (\r\n                              <VoiceOverOffIcon className=\"mute-icon\" />\r\n                            ) : (\r\n                              <RecordVoiceOverIcon className=\"unmute-icon\" />\r\n                            )}\r\n                          </ListItem>\r\n                        </div>\r\n                      );\r\n                    }\r\n                  });\r\n                }\r\n              })}\r\n            ;\r\n          </div>\r\n        </Scrollbars>\r\n        {isOwner && (\r\n          <Button className=\"channel-room-btn\" variant=\"contained\" onClick={onClickSettingBtn}>\r\n            SETTING &nbsp;\r\n            <SettingsIcon />\r\n          </Button>\r\n        )}\r\n        {isAdmin && (\r\n          <Button\r\n            className=\"channel-room-btn\"\r\n            variant=\"contained\"\r\n            onClick={onClickChannelInviteModal}\r\n          >\r\n            INVITE &nbsp;\r\n            <PersonAddAlt1RoundedIcon />\r\n          </Button>\r\n        )}\r\n        {isOwner === false && (\r\n          <Button\r\n            className=\"channel-room-btn\"\r\n            variant=\"contained\"\r\n            onClick={onClickChannelLeaveModal}\r\n          >\r\n            LEAVE &nbsp;\r\n            <ExitToAppIcon />\r\n          </Button>\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChannelMemberDrawBar;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Toast = styled.div`\r\n\t.hidden {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\ttop: 0;\r\n\t\tbackground-color: #000000;\r\n\t\tz-Index: 501;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 0 25px;\r\n\t\toverflowY: auto;\r\n\t\ttransform: translateY(100%);\r\n\t\ttransition: all ease-in 0.2s;\r\n\t\topacity: 0;\r\n\r\n\t}\r\n\r\n\t.visible {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\ttop: 0;\r\n\t\tbackground-color: #000000;\r\n\t\tz-Index: 501;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 0 25px;\r\n\t\toverflowY: auto;\r\n\t\ttransform: translateY(0%);\r\n\t\ttransition: all ease-out 0.2s;\r\n\t}\r\n\r\n\t& .setting-modal-header {\r\n\t\tdisplay: flex;\r\n\t\tcolor: white;\r\n\t\tjustify-content: space-between\r\n\t}\r\n\r\n\t& .close-icon {\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t& .setting-modal-body {\r\n\t\tbackground-color: #1e1e1e;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\r\n\t& .setting-modal-delete-wrapper {\r\n\t\twidth: 100%;\r\n\t\theight: 120px;\r\n\t\tbackground-color: #1e1e1e;\r\n\t\tcolor: #e24c34;\r\n\t\tborder: 1px solid #a6625f;\r\n\t\tborder-radius: 4px;\r\n\t\tpadding: 0 15px;\r\n\t}\r\n\r\n\t& .delete-btn {\r\n\t\tbackground-color: red;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\r\n`;\r\n","import React, { VFC, useCallback, useState } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { useParams } from 'react-router-dom';\r\nimport useSWR from 'swr';\r\nimport { IMemberList, IChannelList } from '@typings/db';\r\nimport fetcher from '@utils/fetcher';\r\nimport { Toast } from './style';\r\nimport BasicModal from '@components/BasicModal';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport ChannelForm from '@components/ChannelForm';\r\nimport config from '@utils/config';\r\nimport { toast } from 'react-toastify';\r\n\r\ninterface Props {\r\n  settingToggle: boolean;\r\n  onClickSettingBtn: (e: any) => void;\r\n}\r\n\r\nconst ChannelRoomSettingMoDal: VFC<Props> = ({ settingToggle, onClickSettingBtn }) => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const { data: myChannelList, mutate: channelListMutate } = useSWR<IChannelList[]>(\r\n    '/api/channels/myChannelList',\r\n    fetcher,\r\n  );\r\n  const { data: allChannelList, mutate: MutateAllChannelList } = useSWR<IChannelList[]>(\r\n    '/api/channels/allChannelList',\r\n    fetcher,\r\n  );\r\n\r\n  const { data: memberList, mutate: muatememberList } = useSWR<IMemberList[]>(\r\n    `/api/channels/userList/${id}`,\r\n    fetcher,\r\n  );\r\n  const history = useHistory();\r\n\r\n  const [isChannelDeleteModal, setIsChannelDeleteModal] = useState(false);\r\n  const [name, setName] = useState('');\r\n  const [visibility, setVisibility] = useState('0');\r\n  const [createError, setCreateError] = useState(0);\r\n  const [PasswordValues, setPasswordValues] = useState({\r\n    password: '',\r\n    showPassword: false,\r\n  });\r\n\r\n  const onClickChannelDeleteModal = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      setIsChannelDeleteModal((prev) => !prev);\r\n    },\r\n    [isChannelDeleteModal],\r\n  );\r\n\r\n  const onSubmitChannelCreate = useCallback(() => {\r\n    if (name) {\r\n      axios\r\n        .get(`/api/channels/updateChannelName/${id}/${name}`, config)\r\n        .then(() => {\r\n          toast.success('Successfully renamed a channel', {\r\n            autoClose: 4000,\r\n            position: toast.POSITION.TOP_RIGHT,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            theme: 'colored',\r\n          });\r\n          MutateAllChannelList();\r\n          channelListMutate();\r\n          setName('');\r\n        })\r\n        .catch((error) => {\r\n          setCreateError(1);\r\n          setName('');\r\n          setVisibility('0');\r\n          setPasswordValues({\r\n            password: '',\r\n            showPassword: false,\r\n          });\r\n        });\r\n    }\r\n    if (visibility !== '') {\r\n      axios\r\n        .get(`/api/channels/updateChannelType/${id}/${visibility}`, config)\r\n        .then(() => {\r\n          if (parseInt(visibility) === 1) {\r\n            axios\r\n              .post(\r\n                `/api/channels/updateChannelPassword/${id}`,\r\n                {\r\n                  password: PasswordValues.password,\r\n                },\r\n                config,\r\n              )\r\n              .then(() => {\r\n                toast.success('Successfully changed channel password', {\r\n                  autoClose: 4000,\r\n                  position: toast.POSITION.TOP_RIGHT,\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                  pauseOnHover: true,\r\n                  theme: 'colored',\r\n                });\r\n                MutateAllChannelList();\r\n                channelListMutate();\r\n                setName('');\r\n                setVisibility('0');\r\n                setPasswordValues({\r\n                  password: '',\r\n                  showPassword: false,\r\n                });\r\n              })\r\n              .catch(() => {\r\n                setCreateError(1);\r\n              });\r\n          } else {\r\n            MutateAllChannelList();\r\n            channelListMutate();\r\n            setName('');\r\n            setVisibility('0');\r\n            setPasswordValues({\r\n              password: '',\r\n              showPassword: false,\r\n            });\r\n          }\r\n        })\r\n        .catch(() => {\r\n          setCreateError(1);\r\n        });\r\n    }\r\n  }, [name, visibility, PasswordValues]);\r\n\r\n  const DeleteClickChannelBtn = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      axios\r\n        .get(`/api/channels/deleteChannel/${id}`, config)\r\n        .then(() => {\r\n          history.push('/channels');\r\n          channelListMutate();\r\n          MutateAllChannelList();\r\n          toast.success('Successfully deleted the channel', {\r\n            autoClose: 4000,\r\n            position: toast.POSITION.TOP_RIGHT,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            theme: 'colored',\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          toast.error(error.message, {\r\n            autoClose: 4000,\r\n            position: toast.POSITION.TOP_RIGHT,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            theme: 'colored',\r\n          });\r\n        });\r\n    },\r\n    [id],\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Toast>\r\n        {isChannelDeleteModal ? (\r\n          <BasicModal\r\n            NoBtn={onClickChannelDeleteModal}\r\n            YesBtn={DeleteClickChannelBtn}\r\n            headerContent=\"Delete Channel\"\r\n            content=\"This will remove the channel as well as all of its messages\"\r\n          />\r\n        ) : (\r\n          ''\r\n        )}\r\n        <div className={settingToggle ? 'visible' : 'hidden'}>\r\n          <div className=\"setting-modal-header\">\r\n            <h1>\r\n              Settings of{' '}\r\n              {allChannelList?.map((channel: IChannelList) => {\r\n                if (channel.id === parseInt(id)) {\r\n                  return channel.name;\r\n                }\r\n              })}\r\n            </h1>\r\n            <IconButton className=\"close-icon\" aria-label=\"close\" onClick={onClickSettingBtn}>\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </div>\r\n          <div className=\"setting-modal-body\">\r\n            <ChannelForm\r\n              value=\"EDIT\"\r\n              onSubmitChannelCreate={onSubmitChannelCreate}\r\n              name={name}\r\n              setVisibility={setVisibility}\r\n              setName={setName}\r\n              setPasswordValues={setPasswordValues}\r\n              createError={createError}\r\n              setCreateError={setCreateError}\r\n            />\r\n          </div>\r\n          <div className=\"setting-modal-delete-wrapper\">\r\n            <h3>Danger Zone</h3>\r\n            <Button\r\n              className=\"delete-btn\"\r\n              variant=\"contained\"\r\n              startIcon={<DeleteIcon />}\r\n              onClick={onClickChannelDeleteModal}\r\n            >\r\n              DELETE CHANNEL\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Toast>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChannelRoomSettingMoDal;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ChannelInviteModalBackground = styled.div`\r\n\tcolor: white;\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tz-index: 2000;\r\n\tbackground-color: rgba(30; 30, 030, 0.5);\r\n`;\r\n\r\nexport const ChannelInviteModalContainer = styled.div`\r\n\tposition: fixed;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\twidth: 500px;\r\n\theight: 180px;\r\n\tbackground-color: #1e1e1e;\r\n\tcolor: #979797;\r\n\topacity: 1;\r\n\tborder: 1px solid #1e1e1e;\r\n\tborder-radius: 3px;\r\n\tpadding: 10px 20px 10px 20px;\r\n\tz-index: 3000;\r\n\ttransform: translate(-50%, -50%);\r\n\tbox-shadow:\r\n\t\t0 3px 1px -2px rgb(0 0 0 / 20%), 0 2px 2px 0 rgb(0 0 0 / 14%), 0 1px 5px 0 rgb(0 0 0 / 12%);\r\n\r\n\t& .invite-Modal-wrapper {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t& .invite-Modal-wrapper h3 {\r\n\t\tcolor: red;\r\n\t\tmargin-top: 0;\r\n\t}\r\n\r\n\t& .invite-Modal-header {\r\n\t\tdisplay: flex;\r\n\t\tcolor: white;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t& .invite-Modal-body {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t& .color-white {\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t& .invite-Modal-input {\r\n\t\twidth: calc(100% - 130px);\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t& .invite-Modal-button {\r\n\t\twidth: 110px;\r\n\t\theight: 42px;\r\n\t\tbackground-color: #597aff;\r\n\t\tborder-color: #597aff;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t& .css-1480iag-MuiInputBase-root-MuiInput-root {\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t& .css-1480iag-MuiInputBase-root-MuiInput-root:before {\r\n\t\tborder-bottom: 1px solid rgba(255, 255, 255, 0.6);\r\n\t}\r\n\r\n\t& .css-1480iag-MuiInputBase-root-MuiInput-root:hover:not(.Mui-disabled):before {\r\n\t\tborder-bottom: 1px solid rgba(255, 255, 255, 1);\r\n\t\t\r\n\t}\r\n\r\n`;","import React, { VFC, useCallback, useState } from 'react';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport TextField from '@mui/material/TextField';\r\nimport PersonRoundedIcon from '@mui/icons-material/PersonRounded';\r\nimport Button from '@mui/material/Button';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\nimport useSWR from 'swr';\r\nimport { IMemberList, IAllUser } from '@typings/db';\r\nimport fetcher from '@utils/fetcher';\r\nimport config from '@utils/config';\r\nimport { ChannelInviteModalBackground, ChannelInviteModalContainer } from './style';\r\nimport { toast } from 'react-toastify';\r\ninterface Props {\r\n  onClickModalClose: (e: any) => void;\r\n  setChannelInviteModal: (e: any) => void;\r\n}\r\n\r\nconst ChannelInviteModal: VFC<Props> = ({ setChannelInviteModal, onClickModalClose }) => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const { data: alluser } = useSWR<IAllUser[]>('/api/users/alluser', fetcher);\r\n  const { data: memberList, mutate: memberListMutate } = useSWR<IMemberList[]>(\r\n    `/api/channels/userList/${id}`,\r\n    fetcher,\r\n  );\r\n  const [inviteValue, setInviteValue] = useState('');\r\n  const [inviteError, setInviteError] = useState(false);\r\n  const onClickInviteBtn = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      let userId;\r\n      alluser?.map((user) => {\r\n        if (user.username === inviteValue) userId = user.userId;\r\n      });\r\n      if (!userId) {\r\n        setInviteError(true);\r\n        return;\r\n      }\r\n      axios\r\n        .get(`/api/channels/invite/${id}/${userId}`, config)\r\n        .then(() => {\r\n          memberListMutate();\r\n          setInviteValue('');\r\n          setChannelInviteModal(false);\r\n        })\r\n        .catch((error) => {\r\n          toast.error(error.message, {\r\n            autoClose: 4000,\r\n            position: toast.POSITION.TOP_RIGHT,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            theme: 'colored',\r\n          });\r\n        });\r\n    },\r\n    [inviteValue, setInviteValue],\r\n  );\r\n  const onChangeInviteInput = useCallback((e) => {\r\n    e.preventDefault();\r\n    setInviteError(false);\r\n    setInviteValue(e.target.value);\r\n  }, []);\r\n  return (\r\n    <>\r\n      <ChannelInviteModalBackground onClick={onClickModalClose}></ChannelInviteModalBackground>\r\n      <ChannelInviteModalContainer>\r\n        <div className=\"invite-Modal-wrapper\">\r\n          <div className=\"invite-Modal-header\">\r\n            <h2>Invite people to channel</h2>\r\n            <IconButton className=\"color-white\" aria-label=\"close\" onClick={onClickModalClose}>\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </div>\r\n          <div className=\"invite-Modal-body\">\r\n            <TextField\r\n              className=\"invite-Modal-input\"\r\n              value={inviteValue}\r\n              onChange={onChangeInviteInput}\r\n              id=\"input-with-icon-textfield\"\r\n              label=\"user\"\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment className=\"color-white\" position=\"start\">\r\n                    <PersonRoundedIcon />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              variant=\"standard\"\r\n            />\r\n            <Button className=\"invite-Modal-button\" variant=\"contained\" onClick={onClickInviteBtn}>\r\n              INVITE\r\n            </Button>\r\n          </div>\r\n          {inviteError && <h3>invited the wrong user</h3>}\r\n        </div>\r\n      </ChannelInviteModalContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChannelInviteModal;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ChannelRoomContainer = styled.div`\r\n\twidth: 100%;\r\n\theight: 100vh;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\toverflow: hidden;\r\n`;","import ChatBox from '@components/ChatBox';\r\nimport { IChannelChatList, IChannelList, IMemberList, IUser } from '@typings/db';\r\nimport fetcher from '@utils/fetcher';\r\nimport axios from 'axios';\r\nimport React, { useCallback, useEffect, useRef, useState, VFC } from 'react';\r\nimport Scrollbars from 'react-custom-scrollbars';\r\nimport useSWR from 'swr';\r\nimport useSWRInfinite from 'swr/infinite';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport getSocket from '@utils/useSocket';\r\nimport ChannelChatHeader from '@components/ChannelChatHeader';\r\nimport ChannelChatList from '@components/ChannelChatList';\r\nimport ChannelMemberDrawBar from '@components/ChannelMemberDrawBar';\r\nimport ChannelRoomSettingModal from '@components/ChannelRoomSettingModal';\r\nimport BasicModal from '@components/BasicModal';\r\nimport ChannelInviteModal from '@components/ChannelInviteModal';\r\nimport config from '@utils/config';\r\nimport { ChannelRoomContainer } from './style';\r\nimport { toast } from 'react-toastify';\r\nimport ChannelLeftDrawBar from '@components/ChannelLeftDrawBar';\r\nimport { useMediaQuery } from 'react-responsive';\r\n\r\nconst ChannelRoom = () => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const { data: myData } = useSWR<IUser | null>('/api/users', fetcher);\r\n  const { data: ChannelMembers, mutate: mutateChannelMembers } = useSWR<IMemberList[]>(\r\n    `/api/channels/userList/${id}`,\r\n    fetcher,\r\n  );\r\n  const { data: allChannelList, mutate: mutateAllChannelList } = useSWR<IChannelList[]>(\r\n    `/api/channels/allChannelList`,\r\n    fetcher,\r\n  );\r\n  const { data: myChannelList, mutate: mutateMyChannelList } = useSWR<IChannelList[]>(\r\n    `/api/channels/myChannelList`,\r\n    fetcher,\r\n  );\r\n  const { data: myMute, mutate: mutateMyMute } = useSWR<boolean>(\r\n    `/api/channels/checkMyMute/${id}`,\r\n    fetcher,\r\n  );\r\n\r\n  // const { data: MymuteMmbers, mutate: mutateMymuteMmbers } = useSWR<IMemberList[]>(\r\n  //   `/api/channels/mutedMembers/${id}`,\r\n  //   fetcher,\r\n  // );\r\n\r\n  const {\r\n    data: chatData,\r\n    mutate: mutateChat,\r\n    setSize,\r\n  } = useSWRInfinite<IChannelChatList[]>(\r\n    (index) => `/api/channels/20MessageList/${id}/${index * 19}`,\r\n    fetcher,\r\n  );\r\n\r\n  const isEmpty = chatData?.[0]?.length === 0;\r\n  const isReachingEnd =\r\n    isEmpty || (chatData && chatData[chatData.length - 1]?.length < 20) || false;\r\n\r\n  const scrollbarRef = useRef<Scrollbars>(null);\r\n  const socket = getSocket();\r\n  const history = useHistory();\r\n  const [chat, setChat] = useState('');\r\n  const [settingToggle, setSettingToggle] = useState(false);\r\n  const [membersToggle, setMembersToggle] = useState(false);\r\n  const [channelLeaveModal, setChannelLeaveModal] = useState(false);\r\n  const [channelInviteModal, setChannelInviteModal] = useState(false);\r\n  const [selectedIndex, setSelectedIndex] = useState(-1);\r\n  const [messageRevalidate, setMessageRevalidate] = useState(false);\r\n  const isMobile = useMediaQuery({ maxWidth: 700 });\r\n\r\n  const onClickMember = useCallback(\r\n    (e, index) => {\r\n      e.preventDefault();\r\n      if (selectedIndex === index) {\r\n        setSelectedIndex(-1);\r\n      } else {\r\n        setSelectedIndex(index);\r\n      }\r\n    },\r\n    [selectedIndex],\r\n  );\r\n\r\n  const onClickChannelInviteModal = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      setChannelInviteModal((prev) => !prev);\r\n    },\r\n    [channelInviteModal],\r\n  );\r\n\r\n  const onClickMembersToggle = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      setSelectedIndex(-1);\r\n      setMembersToggle((prev) => !prev);\r\n    },\r\n    [membersToggle, setMembersToggle],\r\n  );\r\n\r\n  const onClickSettingBtn = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      setSettingToggle((prev) => !prev);\r\n    },\r\n    [settingToggle, setSettingToggle],\r\n  );\r\n\r\n  const onSubmitChat = useCallback(() => {\r\n    if (chat?.trim() && chatData) {\r\n      mutateChat((prevChatData) => {\r\n        prevChatData?.[0].unshift({\r\n          userId: myData?.userId,\r\n          message: chat,\r\n          updatedAt: new Date(),\r\n        });\r\n        return prevChatData;\r\n      }, false);\r\n      axios\r\n        .post(\r\n          `/api/channels/send/${id}`,\r\n          {\r\n            msg: chat,\r\n          },\r\n          config,\r\n        )\r\n        .catch((error) => {\r\n          toast.error(error.message, {\r\n            autoClose: 4000,\r\n            position: toast.POSITION.TOP_RIGHT,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            theme: 'colored',\r\n          });\r\n          mutateChat();\r\n        });\r\n      setChat('');\r\n      setTimeout(() => {\r\n        scrollbarRef.current?.scrollToBottom();\r\n      }, 50);\r\n    }\r\n  }, [chat]);\r\n  const onClickChannelLeaveModal = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      setChannelLeaveModal((prev) => !prev);\r\n    },\r\n    [channelLeaveModal, setChannelLeaveModal],\r\n  );\r\n  const onClickChannelLeaveMdoalYes = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      axios\r\n        .get(`/api/channels/getout/${id}`, config)\r\n        .then(() => {\r\n          mutateAllChannelList();\r\n          mutateMyChannelList();\r\n          setChannelLeaveModal(false);\r\n          history.push('/channels');\r\n        })\r\n        .catch((error) => {\r\n          toast.error(error.message, {\r\n            autoClose: 4000,\r\n            position: toast.POSITION.TOP_RIGHT,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            theme: 'colored',\r\n          });\r\n        });\r\n    },\r\n    [channelLeaveModal],\r\n  );\r\n\r\n  const onMessage = useCallback(\r\n    (data) => {\r\n      if (data.userId != myData?.userId) {\r\n        mutateChat((prevchatData) => {\r\n          prevchatData?.[0].unshift({\r\n            userId: data.userId,\r\n            message: data.msg,\r\n            updatedAt: data.createdAt,\r\n          });\r\n\r\n          return prevchatData;\r\n        }, false).then(() => {\r\n          setMessageRevalidate((prev) => !prev);\r\n          if (scrollbarRef.current) {\r\n            if (\r\n              scrollbarRef.current.getScrollHeight() <\r\n              scrollbarRef.current.getClientHeight() + scrollbarRef.current.getScrollTop() + 150\r\n            ) {\r\n              setTimeout(() => {\r\n                scrollbarRef.current?.scrollToBottom();\r\n              }, 50);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    [myData, scrollbarRef],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (myChannelList) {\r\n      let isUnauthorized = true;\r\n      for (let channel of myChannelList) {\r\n        if (channel.id === parseInt(id)) {\r\n          isUnauthorized = false;\r\n          break;\r\n        }\r\n      }\r\n      if (isUnauthorized) {\r\n        history.push('/home');\r\n      }\r\n    }\r\n  }, [myChannelList]);\r\n\r\n  useEffect(() => {\r\n    socket?.on('join', mutateChannelMembers);\r\n    return () => {\r\n      socket?.off('join');\r\n    };\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket?.on('leave', mutateChannelMembers);\r\n    return () => {\r\n      socket?.off('leave');\r\n    };\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket?.on('channelType', () => {\r\n      mutateMyChannelList();\r\n    });\r\n    return () => {\r\n      socket?.off('channelType');\r\n    };\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket?.on('channelDelete', () => {\r\n      mutateMyChannelList();\r\n      history.push('/channels');\r\n    });\r\n    return () => {\r\n      socket?.off('channelDelete');\r\n    };\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket?.on('admin', mutateChannelMembers);\r\n    return () => {\r\n      socket?.off('admin');\r\n    };\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket?.on('ban', mutateChannelMembers);\r\n    return () => {\r\n      socket?.off('ban');\r\n    };\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket?.on('mute', () => {\r\n      mutateChannelMembers();\r\n      mutateMyMute();\r\n    });\r\n    return () => {\r\n      socket?.off('mute');\r\n    };\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket?.on('ch', onMessage);\r\n    return () => {\r\n      socket?.off('ch', onMessage);\r\n    };\r\n  }, [socket, onMessage]);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      scrollbarRef.current?.scrollToBottom();\r\n    }, 50);\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    if (chatData?.length === 1) {\r\n      scrollbarRef.current?.scrollToBottom();\r\n    }\r\n  }, [chatData]);\r\n\r\n  return (\r\n    <>\r\n      {isMobile ? null : <ChannelLeftDrawBar />}\r\n      <>\r\n        <ChannelRoomSettingModal\r\n          settingToggle={settingToggle}\r\n          onClickSettingBtn={onClickSettingBtn}\r\n        />\r\n        <ChannelRoomContainer>\r\n          <ChannelChatHeader\r\n            membersToggle={membersToggle}\r\n            onClickMembersToggle={onClickMembersToggle}\r\n          />\r\n          <ChannelChatList\r\n            chatData={chatData}\r\n            scrollbarRef={scrollbarRef}\r\n            setSize={setSize}\r\n            isReachingEnd={isReachingEnd}\r\n          />\r\n          {!myMute && <ChatBox chat={chat} setChat={setChat} onSubmitChat={onSubmitChat} />}\r\n        </ChannelRoomContainer>\r\n        <ChannelMemberDrawBar\r\n          onClickMembersToggle={onClickMembersToggle}\r\n          onClickSettingBtn={onClickSettingBtn}\r\n          onClickChannelLeaveModal={onClickChannelLeaveModal}\r\n          onClickChannelInviteModal={onClickChannelInviteModal}\r\n          onClickMember={onClickMember}\r\n          selectedIndex={selectedIndex}\r\n          membersToggle={membersToggle}\r\n          setSelectedIndex={setSelectedIndex}\r\n        />\r\n        {channelInviteModal && (\r\n          <ChannelInviteModal\r\n            onClickModalClose={onClickChannelInviteModal}\r\n            setChannelInviteModal={setChannelInviteModal}\r\n          />\r\n        )}\r\n        {channelLeaveModal && (\r\n          <BasicModal\r\n            headerContent=\"Leave Channel\"\r\n            content={`Are you really leaving this channel?`}\r\n            NoBtn={onClickChannelLeaveModal}\r\n            YesBtn={onClickChannelLeaveMdoalYes}\r\n          />\r\n        )}\r\n      </>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChannelRoom;\r\n","import { IChatList, IChannelChatList } from '@typings/db';\r\nimport customParseFormat from 'dayjs/plugin/customParseFormat'\r\nimport dayjs from 'dayjs';\r\ndayjs.extend(customParseFormat);\r\n\r\nconst days = ['일요일', '월요일', '화요일', '수요일', '목요일', '금요일', '토요일'];\r\n\r\nexport function makeSectionDM(chatList: IChatList[]) {\r\n\tconst sections: { [key: string]: IChatList[] } = {};\r\n\tchatList.forEach((chat) => {\r\n\t\tlet monthData = dayjs(chat.createdAt).format('YYYY-MM-DD');\r\n\t\tmonthData += ' ' + days[dayjs(chat.createdAt).day()];\r\n\t\tif (Array.isArray(sections[monthData]))\r\n\t\t\tsections[monthData].push(chat);\r\n\t\telse\r\n\t\t\tsections[monthData] = [chat];\r\n\t})\r\n\treturn sections;\r\n}\r\n\r\nexport function makeSectionChannel(chatList: IChannelChatList[]) {\r\n\tconst sections: { [key: string]: IChannelChatList[] } = {};\r\n\tchatList.forEach((chat) => {\r\n\t\tlet monthData = dayjs(chat.updatedAt).format('YYYY-MM-DD');\r\n\t\tmonthData += ' ' + days[dayjs(chat.updatedAt).day()];\r\n\t\tif (Array.isArray(sections[monthData]))\r\n\t\t\tsections[monthData].push(chat);\r\n\t\telse\r\n\t\t\tsections[monthData] = [chat];\r\n\t})\r\n\treturn sections;\r\n}"],"names":["ModalBackground","styled","ModalContent","ButtonContainer","content","NoBtn","YesBtn","headerContent","onClick","className","Error","IconButton","Close","Button","variant","ChatBoxContainer","chat","onSubmitChat","setChat","useState","chatBoxChat","setChatBoxChat","onChangeChatBoxChat","useCallback","e","target","value","useEffect","onSubmitChatBoxChat","preventDefault","onChange","Send","MyToolbar","Toolbar","onClickMembersToggle","membersToggle","id","useParams","useSWR","fetcher","myChannelList","data","mutate","Box","AppBar","position","sx","bgcolor","Typography","component","flexGrow","map","channel","parseInt","name","Fab","Groups","ChannelChatListContainer","StickyHeader","ScrollbarColor","chatData","scrollbarRef","setSize","isReachingEnd","alluser","blockList","onScroll","values","scrollTop","prevSize","then","current","getScrollHeight","scrollHeight","chatSections","makeSectionChannel","flat","reverse","username","ref","onScrollFrame","renderThumbVertical","style","props","Object","entries","index","date","chats","key","isblock","blockUser","userId","userId2","user","Avatar","src","profile","alt","message","Container","UserAvatar","isstate","AdminBtn","btncolor","MatchDataContainer","ButtonGroupsContainer","setSelectedIndex","dmList","mutateDmList","myData","channelUserList","winCount","loseCount","isBlcok","history","useHistory","myAuth","userAuth","channeluser","auth","onClickMuteBtn","axios","config","res","catch","error","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","theme","onClickKickBtn","onClickBanBtn","onClickMessageBtn","push","onClickAppointAdmin","EmojiEvents","number","EventBusy","to","blockedUser","isState","onClickSettingBtn","onClickChannelLeaveModal","onClickChannelInviteModal","onClickMember","selectedIndex","memberList","isOwner","isAdmin","useContext","SocketContext","onlineList","onGameList","length","ListItem","member","onlineUser","button","ListItemText","primary","RecordVoiceOver","mute","VoiceOverOff","Settings","PersonAddAlt1Rounded","ExitToApp","Toast","settingToggle","channelListMutate","allChannelList","MutateAllChannelList","isChannelDeleteModal","setIsChannelDeleteModal","setName","visibility","setVisibility","createError","setCreateError","password","showPassword","PasswordValues","setPasswordValues","onClickChannelDeleteModal","prev","onSubmitChannelCreate","DeleteClickChannelBtn","BasicModal","ChannelForm","startIcon","Delete","ChannelInviteModalBackground","ChannelInviteModalContainer","setChannelInviteModal","onClickModalClose","memberListMutate","inviteValue","setInviteValue","inviteError","setInviteError","onClickInviteBtn","onChangeInviteInput","TextField","label","InputProps","startAdornment","InputAdornment","PersonRounded","ChannelRoomContainer","mutateChannelMembers","mutateAllChannelList","mutateMyChannelList","myMute","mutateMyMute","useSWRInfinite","mutateChat","useRef","socket","getSocket","setSettingToggle","setMembersToggle","channelLeaveModal","setChannelLeaveModal","channelInviteModal","setMessageRevalidate","isMobile","useMediaQuery","maxWidth","trim","prevChatData","unshift","updatedAt","Date","msg","setTimeout","scrollToBottom","onClickChannelLeaveMdoalYes","onMessage","prevchatData","createdAt","getClientHeight","getScrollTop","isUnauthorized","on","off","ChannelLeftDrawBar","ChannelRoomSettingModal","ChatBox","dayjs","customParseFormat","days","makeSectionDM","chatList","sections","forEach","monthData","format","day","Array","isArray"],"sourceRoot":""}