{"version":3,"file":"4567.js","mappings":"yPACO,SAASA,EAAgCC,GAC9C,OAAO,EAAAC,EAAA,GAAqB,sBAAuBD,IAErB,E,QAAA,GAAuB,sBAAuB,CAAC,OAAQ,cAAe,gBAAiB,eAAgB,iBAAkB,MAAO,SAAU,oBAAqB,sBAAuB,wBACtN,I,UCHA,MAAME,EAAY,CAAC,YAAa,QAAS,gBAAiB,OAAQ,QAAS,YAAa,QAAS,WAEjG,IACIC,EACAC,EACAC,EACAC,EAJAC,EAAIC,GAAKA,EAiBb,MACMC,GAAyB,QAAUN,IAAOA,EAAKI,CAAC;;;;;;;;IAShDG,GAAuB,QAAUN,IAAQA,EAAMG,CAAC;;;;;;;;;;;;;;;IAgChDI,GAAuB,EAAAC,EAAA,IAAO,OAAQ,CAC1CC,KAAM,sBACNb,KAAM,OACNc,kBAAmB,CAACC,EAAOC,KACzB,MAAM,WACJC,GACEF,EACJ,MAAO,CAACC,EAAOE,KAAMF,EAAOC,EAAWE,SAAUH,EAAO,SAAQ,EAAAI,EAAA,GAAWH,EAAWI,aAP7D,EAS1B,EACDJ,WAAAA,EACAK,MAAAA,MACI,OAAS,CACbC,QAAS,gBACe,gBAAvBN,EAAWE,SAA6B,CACzCK,WAAYF,EAAMG,YAAYC,OAAO,cACf,YAArBT,EAAWI,OAAuB,CACnCA,MAAOC,EAAMK,QAAQV,EAAWI,OAAOO,SACrC,EACFX,WAAAA,KAC2B,kBAAvBA,EAAWE,UAA+B,QAAId,IAAQA,EAAME,CAAC;mBAChD;OACXE,KACFoB,GAAsB,EAAAjB,EAAA,IAAO,MAAO,CACxCC,KAAM,sBACNb,KAAM,MACNc,kBAAmB,CAACC,EAAOC,IAAWA,EAAOc,KAHnB,CAIzB,CACDP,QAAS,UAGLQ,GAAyB,EAAAnB,EAAA,IAAO,SAAU,CAC9CC,KAAM,sBACNb,KAAM,SACNc,kBAAmB,CAACC,EAAOC,KACzB,MAAM,WACJC,GACEF,EACJ,MAAO,CAACC,EAAOgB,OAAQhB,EAAO,UAAS,EAAAI,EAAA,GAAWH,EAAWE,YAAaF,EAAWgB,eAAiBjB,EAAOkB,uBAPlF,EAS5B,EACDjB,WAAAA,EACAK,MAAAA,MACI,OAAS,CACba,OAAQ,gBACgB,gBAAvBlB,EAAWE,SAA6B,CACzCK,WAAYF,EAAMG,YAAYC,OAAO,sBACb,kBAAvBT,EAAWE,SAA+B,CAE3CiB,gBAAiB,cACjBC,iBAAkB,MAEhB,EACFpB,WAAAA,KAC2B,kBAAvBA,EAAWE,UAAgCF,EAAWgB,gBAAiB,QAAI3B,IAAQA,EAAMC,CAAC;mBAC7E;OACXG,KAyJR,MAhJsC,cAAiB,SAA0B4B,EAASC,GACxF,MAAMxB,GAAQ,EAAAyB,EAAA,GAAc,CAC1BzB,MAAOuB,EACPzB,KAAM,yBAGF,UACJ4B,EAAS,MACTpB,EAAQ,UAAS,cACjBY,GAAgB,EAAK,KACrBS,EAAO,GAAE,MACTC,EAAK,UACLC,EAAY,IAAG,MACfC,EAAQ,EAAC,QACT1B,EAAU,iBACRJ,EACE+B,GAAQ,OAA8B/B,EAAOb,GAE7Ce,GAAa,OAAS,GAAIF,EAAO,CACrCM,MAAAA,EACAY,cAAAA,EACAS,KAAAA,EACAE,UAAAA,EACAC,MAAAA,EACA1B,QAAAA,IAGI4B,EA3GkB9B,CAAAA,IACxB,MAAM,QACJ8B,EAAO,QACP5B,EAAO,MACPE,EAAK,cACLY,GACEhB,EACE+B,EAAQ,CACZ9B,KAAM,CAAC,OAAQC,EAAS,SAAQ,EAAAC,EAAA,GAAWC,MAC3CS,IAAK,CAAC,OACNE,OAAQ,CAAC,SAAU,UAAS,EAAAZ,EAAA,GAAWD,KAAYc,GAAiB,wBAEtE,OAAO,EAAAgB,EAAA,GAAeD,EAAOjD,EAAiCgD,IA+F9CG,CAAkBjC,GAC5BkC,EAAc,GACdC,EAAY,GACZC,EAAY,GAElB,GAAgB,gBAAZlC,EAA2B,CAC7B,MAAMmC,EAAgB,EAAIC,KAAKC,KA5ItB,GA4IoCZ,GAAa,GAC1DO,EAAYf,gBAAkBkB,EAAcG,QAAQ,GACpDJ,EAAU,iBAAmBE,KAAKG,MAAMb,GACxCM,EAAYd,iBAAmB,KAAK,IAAMQ,GAAS,IAAMS,GAAeG,QAAQ,OAChFL,EAAUO,UAAY,iBAGxB,OAAoB,SAAKhD,GAAsB,OAAS,CACtD8B,WAAW,OAAKM,EAAQ7B,KAAMuB,GAC9BE,OAAO,OAAS,CACdiB,MAAOlB,EACPmB,OAAQnB,GACPU,EAAWT,GACd1B,WAAYA,EACZsB,IAAKA,EACLuB,KAAM,eACLT,EAAWP,EAAO,CACnBiB,UAAuB,SAAKlC,EAAqB,CAC/CY,UAAWM,EAAQjB,IACnBb,WAAYA,EACZ+C,QAAS,cACTD,UAAuB,SAAKhC,EAAwB,CAClDU,UAAWM,EAAQf,OACnBW,MAAOQ,EACPlC,WAAYA,EACZgD,GArKK,GAsKLC,GAtKK,GAuKLC,GAvKK,GAuKMvB,GAAa,EACxBwB,KAAM,OACNC,YAAazB,a,2JC5LR0B,E,QAAiB1D,EAAAA,IAAH,I,EAAA,wM,kBAAA,E,wNCU3B,IAAM2D,EAAS,CAIbC,iBAAiB,GAsFnB,EAnFc,WACZ,IAAcC,GAAWC,EAAAA,EAAAA,IAAqB,aAAcC,EAAAA,GAApDC,KACAC,GAAeC,EAAAA,EAAAA,YAAWC,EAAAA,GAA1BF,WAEFG,GAAUC,EAAAA,EAAAA,MACVC,GAASC,EAAAA,EAAAA,MAEfC,EAAAA,EAAAA,YAAU,WACJP,GAAcJ,GACZI,EAAWJ,EAAOY,UACpBL,EAAQM,KAAK,SACbC,EAAAA,GAAAA,MAAY,uBAAwB,CAClCC,UAAW,IACXC,SAAUF,EAAAA,GAAAA,SAAAA,UACVG,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdtE,MAAO,eAIZ,CAACuD,EAAYJ,KAEhBW,EAAAA,EAAAA,YAAU,WAKR,OAJIX,GACFS,EAAOW,KAAK,WAAY,CAAER,OAAQZ,MAAAA,OAAF,EAAEA,EAAQY,OAAQS,OAAQ,IAGrD,WACDrB,GACFS,EAAOW,KAAK,cAAe,CACzBR,OAAQZ,MAAAA,OAAF,EAAEA,EAAQY,YAIrB,CAACZ,EAAQS,IAEZ,IAAMa,GAAWC,EAAAA,EAAAA,aAAW,e,EAAA,G,EAAA,yBAC1B,WAAOC,GAAP,gGACQC,IAAAA,KAAA,+BAC0BD,EAAQE,UADlC,QACmD,CAAEC,QAAS,IAAM7B,GACvE8B,MAAK,SAACC,GACLpB,EAAOW,KAAK,WAAY,CAAER,OAAQZ,MAAAA,OAAF,EAAEA,EAAQY,OAAQS,OAAQQ,EAAI1B,OAC9DI,EAAQM,KAAR,0BAAgCgB,EAAI1B,UAErC2B,OAAM,SAACC,GACNjB,EAAAA,GAAAA,MAAYiB,EAAMJ,QAAS,CACzBZ,UAAW,IACXC,SAAUF,EAAAA,GAAAA,SAAAA,UACVG,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdtE,MAAO,YAETmF,YAAW,WACTzB,EAAQM,KAAK,WACZ,QAlBT,0C,+KAD0B,sDAsB1B,CAACb,EAAQS,IAgBX,OAbAE,EAAAA,EAAAA,YAAU,WAQR,OAPAF,EAAOwB,GAAG,WAAW,SAACT,IAChBxB,MAAAA,OAAA,EAAAA,EAAQY,UAAWY,EAAQU,WAAgC,IAAnBV,EAAQH,OAClDC,EAASE,IACAxB,MAAAA,OAAA,EAAAA,EAAQY,UAAWY,EAAQE,WAAgC,IAAnBF,EAAQH,QACzDd,EAAQM,KAAR,0BAAgCW,EAAQH,YAGrC,WACLZ,EAAO0B,IAAI,cAEZ,CAAC1B,EAAQT,EAAQsB,IAGlB,gBAACzB,EAAD,KACE,gBAACuC,EAAA,EAAD,CAAkBpE,UAAU,aAC5B","sources":["webpack://brojoon/./node_modules/@mui/material/CircularProgress/circularProgressClasses.js","webpack://brojoon/./node_modules/@mui/material/CircularProgress/CircularProgress.js","webpack://brojoon/./pages/Match/style.ts","webpack://brojoon/./pages/Match/index.tsx"],"sourcesContent":["import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getCircularProgressUtilityClass(slot) {\n  return generateUtilityClass('MuiCircularProgress', slot);\n}\nconst circularProgressClasses = generateUtilityClasses('MuiCircularProgress', ['root', 'determinate', 'indeterminate', 'colorPrimary', 'colorSecondary', 'svg', 'circle', 'circleDeterminate', 'circleIndeterminate', 'circleDisableShrink']);\nexport default circularProgressClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"disableShrink\", \"size\", \"style\", \"thickness\", \"value\", \"variant\"];\n\nlet _ = t => t,\n    _t,\n    _t2,\n    _t3,\n    _t4;\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport { keyframes, css } from '@mui/system';\nimport capitalize from '../utils/capitalize';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getCircularProgressUtilityClass } from './circularProgressClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst SIZE = 44;\nconst circularRotateKeyframe = keyframes(_t || (_t = _`\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n`));\nconst circularDashKeyframe = keyframes(_t2 || (_t2 = _`\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n`));\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    variant,\n    color,\n    disableShrink\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, `color${capitalize(color)}`],\n    svg: ['svg'],\n    circle: ['circle', `circle${capitalize(variant)}`, disableShrink && 'circleDisableShrink']\n  };\n  return composeClasses(slots, getCircularProgressUtilityClass, classes);\n};\n\nconst CircularProgressRoot = styled('span', {\n  name: 'MuiCircularProgress',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], styles[`color${capitalize(ownerState.color)}`]];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  display: 'inline-block'\n}, ownerState.variant === 'determinate' && {\n  transition: theme.transitions.create('transform')\n}, ownerState.color !== 'inherit' && {\n  color: theme.palette[ownerState.color].main\n}), ({\n  ownerState\n}) => ownerState.variant === 'indeterminate' && css(_t3 || (_t3 = _`\n      animation: ${0} 1.4s linear infinite;\n    `), circularRotateKeyframe));\nconst CircularProgressSVG = styled('svg', {\n  name: 'MuiCircularProgress',\n  slot: 'Svg',\n  overridesResolver: (props, styles) => styles.svg\n})({\n  display: 'block' // Keeps the progress centered\n\n});\nconst CircularProgressCircle = styled('circle', {\n  name: 'MuiCircularProgress',\n  slot: 'Circle',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.circle, styles[`circle${capitalize(ownerState.variant)}`], ownerState.disableShrink && styles.circleDisableShrink];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  stroke: 'currentColor'\n}, ownerState.variant === 'determinate' && {\n  transition: theme.transitions.create('stroke-dashoffset')\n}, ownerState.variant === 'indeterminate' && {\n  // Some default value that looks fine waiting for the animation to kicks in.\n  strokeDasharray: '80px, 200px',\n  strokeDashoffset: 0 // Add the unit to fix a Edge 16 and below bug.\n\n}), ({\n  ownerState\n}) => ownerState.variant === 'indeterminate' && !ownerState.disableShrink && css(_t4 || (_t4 = _`\n      animation: ${0} 1.4s ease-in-out infinite;\n    `), circularDashKeyframe));\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\n\nconst CircularProgress = /*#__PURE__*/React.forwardRef(function CircularProgress(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCircularProgress'\n  });\n\n  const {\n    className,\n    color = 'primary',\n    disableShrink = false,\n    size = 40,\n    style,\n    thickness = 3.6,\n    value = 0,\n    variant = 'indeterminate'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    color,\n    disableShrink,\n    size,\n    thickness,\n    value,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const circleStyle = {};\n  const rootStyle = {};\n  const rootProps = {};\n\n  if (variant === 'determinate') {\n    const circumference = 2 * Math.PI * ((SIZE - thickness) / 2);\n    circleStyle.strokeDasharray = circumference.toFixed(3);\n    rootProps['aria-valuenow'] = Math.round(value);\n    circleStyle.strokeDashoffset = `${((100 - value) / 100 * circumference).toFixed(3)}px`;\n    rootStyle.transform = 'rotate(-90deg)';\n  }\n\n  return /*#__PURE__*/_jsx(CircularProgressRoot, _extends({\n    className: clsx(classes.root, className),\n    style: _extends({\n      width: size,\n      height: size\n    }, rootStyle, style),\n    ownerState: ownerState,\n    ref: ref,\n    role: \"progressbar\"\n  }, rootProps, other, {\n    children: /*#__PURE__*/_jsx(CircularProgressSVG, {\n      className: classes.svg,\n      ownerState: ownerState,\n      viewBox: `${SIZE / 2} ${SIZE / 2} ${SIZE} ${SIZE}`,\n      children: /*#__PURE__*/_jsx(CircularProgressCircle, {\n        className: classes.circle,\n        style: circleStyle,\n        ownerState: ownerState,\n        cx: SIZE,\n        cy: SIZE,\n        r: (SIZE - thickness) / 2,\n        fill: \"none\",\n        strokeWidth: thickness\n      })\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CircularProgress.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'primary'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['inherit', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * If `true`, the shrink animation is disabled.\n   * This only works if variant is `indeterminate`.\n   * @default false\n   */\n  disableShrink: chainPropTypes(PropTypes.bool, props => {\n    if (props.disableShrink && props.variant && props.variant !== 'indeterminate') {\n      return new Error('MUI: You have provided the `disableShrink` prop ' + 'with a variant other than `indeterminate`. This will have no effect.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * The size of the component.\n   * If using a number, the pixel unit is assumed.\n   * If using a string, you need to provide the CSS unit, e.g '3rem'.\n   * @default 40\n   */\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object,\n\n  /**\n   * The thickness of the circle.\n   * @default 3.6\n   */\n  thickness: PropTypes.number,\n\n  /**\n   * The value of the progress indicator for the determinate variant.\n   * Value between 0 and 100.\n   * @default 0\n   */\n  value: PropTypes.number,\n\n  /**\n   * The variant to use.\n   * Use indeterminate when there is no progress value.\n   * @default 'indeterminate'\n   */\n  variant: PropTypes.oneOf(['determinate', 'indeterminate'])\n} : void 0;\nexport default CircularProgress;","import styled from '@emotion/styled';\r\n\r\nexport const MatchContainer = styled.div`\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\twidth: 100%;\r\n\tflex-direction: column;\r\n\theight: 100vh;\r\n\r\n\tcolor: white;\r\n\r\n\t& .progress {\r\n\t\tcolor: white;\r\n\t}\r\n`;","import React, { useCallback, useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport getSocket from '@utils/useSocket';\r\nimport { useHistory } from 'react-router-dom';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport { IUser } from '@typings/db';\r\nimport fetcher from '@utils/fetcher';\r\nimport useSWR from 'swr';\r\nimport { MatchContainer } from './style';\r\nimport { toast } from 'react-toastify';\r\nimport { SocketContext } from '@store/socket';\r\n\r\nconst option = {\r\n  // headers: {\r\n  //   Authorization: `Bearer ${getCookie('ts_token', 1)}`,\r\n  // },\r\n  withCredentials: true,\r\n};\r\n\r\nconst Match = () => {\r\n  const { data: myData } = useSWR<IUser | null>('/api/users', fetcher);\r\n  const { onGameList } = useContext(SocketContext);\r\n\r\n  const history = useHistory();\r\n  const socket = getSocket();\r\n\r\n  useEffect(() => {\r\n    if (onGameList && myData) {\r\n      if (onGameList[myData.userId]) {\r\n        history.push('/home');\r\n        toast.error('Already playing game', {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.TOP_RIGHT,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          theme: 'colored',\r\n        });\r\n      }\r\n    }\r\n  }, [onGameList, myData]);\r\n\r\n  useEffect(() => {\r\n    if (myData) {\r\n      socket.emit('matching', { userId: myData?.userId, gameId: 0 });\r\n    }\r\n\r\n    return () => {\r\n      if (myData) {\r\n        socket.emit('outMatching', {\r\n          userId: myData?.userId,\r\n        });\r\n      }\r\n    };\r\n  }, [myData, socket]);\r\n\r\n  const Matching = useCallback(\r\n    async (matched: any) => {\r\n      await axios\r\n        .post(`/api/dms/sendMessage/${matched.playerTwo}/1/0`, { message: '' }, option)\r\n        .then((res) => {\r\n          socket.emit('matching', { userId: myData?.userId, gameId: res.data });\r\n          history.push(`/game/ping-pong/${res.data}`);\r\n        })\r\n        .catch((error) => {\r\n          toast.error(error.message, {\r\n            autoClose: 4000,\r\n            position: toast.POSITION.TOP_RIGHT,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            theme: 'colored',\r\n          });\r\n          setTimeout(() => {\r\n            history.push('/home');\r\n          }, 4000);\r\n        });\r\n    },\r\n    [myData, socket],\r\n  );\r\n\r\n  useEffect(() => {\r\n    socket.on('matched', (matched: any) => {\r\n      if (myData?.userId === matched.playerOne && matched.gameId === 0) {\r\n        Matching(matched);\r\n      } else if (myData?.userId === matched.playerTwo && matched.gameId !== 0) {\r\n        history.push(`/game/ping-pong/${matched.gameId}`);\r\n      }\r\n    });\r\n    return () => {\r\n      socket.off('matched');\r\n    };\r\n  }, [socket, myData, Matching]);\r\n\r\n  return (\r\n    <MatchContainer>\r\n      <CircularProgress className=\"progress\" />\r\n      <h1>Waiting for opponent...</h1>\r\n    </MatchContainer>\r\n  );\r\n};\r\n\r\nexport default Match;\r\n"],"names":["getCircularProgressUtilityClass","slot","generateUtilityClass","_excluded","_t","_t2","_t3","_t4","_","t","circularRotateKeyframe","circularDashKeyframe","CircularProgressRoot","styled","name","overridesResolver","props","styles","ownerState","root","variant","capitalize","color","theme","display","transition","transitions","create","palette","main","CircularProgressSVG","svg","CircularProgressCircle","circle","disableShrink","circleDisableShrink","stroke","strokeDasharray","strokeDashoffset","inProps","ref","useThemeProps","className","size","style","thickness","value","other","classes","slots","composeClasses","useUtilityClasses","circleStyle","rootStyle","rootProps","circumference","Math","PI","toFixed","round","transform","width","height","role","children","viewBox","cx","cy","r","fill","strokeWidth","MatchContainer","option","withCredentials","myData","useSWR","fetcher","data","onGameList","useContext","SocketContext","history","useHistory","socket","getSocket","useEffect","userId","push","toast","autoClose","position","hideProgressBar","closeOnClick","pauseOnHover","emit","gameId","Matching","useCallback","matched","axios","playerTwo","message","then","res","catch","error","setTimeout","on","playerOne","off","CircularProgress"],"sourceRoot":""}